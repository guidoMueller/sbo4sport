jQuery.sap.require("sap.ca.scfld.md.controller.ScfldMasterController");sap.ca.scfld.md.controller.ScfldMasterController.extend("sap.suite.ui.smartbusiness.designtime.workspace.view.S2",{onInit:function(){var t=this;t.oApplicationFacade.getODataModel().setSizeLimit(100000);if(!(t.oApplicationFacade.currentLogonHanaUser)){this.oApplicationFacade.getODataModel().read("/SESSION_USER",null,null,true,function(d){t.oApplicationFacade.currentLogonHanaUser=(d.results&&d.results.length)?d.results[0].LOGON_USER:null},function(a){t.oApplicationFacade.currentLogonHanaUser=null;sap.suite.smartbusiness.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("YMSG_ERROR_RETRIEVING_DATA"),a.response.body)})}this.defaultHeaderFooterOptions={sI18NMasterTitle:"MASTER_TITLE",sI18NSearchFieldPlaceholder:"SEARCHFIELD_PLACEHOLDER",onBack:function(){window.history.back()},onEditPress:function(i){t.toggleListSelection(i)},oFilterOptions:{onFilterPressed:function(a){t.getView().filterOptionDialog=t.getView().filterOptionDialog||t.createFilterOptions();t.getView().filterOptionDialog.open()}},oSortOptions:{onSortPressed:function(a){t.getView().sortOptionDialog=t.getView().sortOptionDialog||t.createSortOptions();t.getView().sortOptionDialog.open()}},oGroupOptions:{onGroupPressed:function(a){t.getView().groupOptionDialog=t.getView().groupOptionDialog||t.createGroupOptions();t.getView().groupOptionDialog.open()}},onAddPress:function(a){sap.suite.smartbusiness=sap.suite.smartbusiness||{};sap.suite.smartbusiness.modelerAppCache=sap.suite.smartbusiness.modelerAppCache||{};sap.suite.smartbusiness.modelerAppCache.createSBKPI=sap.suite.smartbusiness.modelerAppCache.createSBKPI||{};sap.suite.smartbusiness.modelerAppCache.createSBKPI.appFromWorkspace=true;sap.suite.smartbusiness.utils.appToAppNavigation({action:"createSBKPI"})}};this.multiSelectHeaderFooterOptions={bSuppressBookmarkButton:{},onBack:function(){sap.suite.smartbusiness.utils.appToAppNavigation({})},onEditPress:function(i){t.toggleListSelection(i)},buttonList:[{sId:"favouriteButton",sI18nBtnTxt:"FAVOURITE_BUTTON_TEXT",onBtnPressed:function(a){if(t.byId("list").getSelectedContexts().length){var s=t.byId("list").getSelectedContexts();var p={};var b=[];var c=null;var d=true;var D=t.oApplicationFacade.getODataModel();var f=[];for(var i=0,l=s.length;i<l;i++){if(!(s[i].getProperty("MANUAL_ENTRY"))){f.push({ID:s[i].getProperty("ID"),TYPE:s[i].getProperty("ENTITY_TYPE"),USER_ID:t.oApplicationFacade.currentLogonHanaUser,MANUAL_ENTRY:1,LAST_WORKED_ON:null})}}if(f.length){sap.suite.smartbusiness.utils.update(sap.suite.smartbusiness.utils.serviceUrl("INDICATOR_FAVOURITE_SERVICE_URI"),f,null,function(g){sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_IN_SUCCESS_KPI_OPI"));D.refresh()},function(g){sap.suite.smartbusiness.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_KPI_OPI_ERROR"))})}else{}}else{sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("NO_KPI_OPI_SELECTED"))}}},{sId:"removeFavouriteButton",sI18nBtnTxt:"REMOVE_FAV_BUTTON_TEXT",onBtnPressed:function(a){if(t.byId("list").getSelectedContexts().length){var s=t.byId("list").getSelectedContexts();var b=[];var p=null;var c=true;var d=t.oApplicationFacade.getODataModel();var f=[];for(var i=0,l=s.length;i<l;i++){if(s[i].getProperty("MANUAL_ENTRY")){f.push({ID:s[i].getProperty("ID"),TYPE:s[i].getProperty("ENTITY_TYPE"),USER_ID:t.oApplicationFacade.currentLogonHanaUser,MANUAL_ENTRY:1,LAST_WORKED_ON:null})}}if(f.length){sap.suite.smartbusiness.utils.remove(sap.suite.smartbusiness.utils.serviceUrl("INDICATOR_FAVOURITE_SERVICE_URI"),f,function(g){sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("REM_FAVOURITE_BATCH_SAVE_SUCCESS_KPI_OPI"));d.refresh()},function(g){sap.suite.smartbusiness.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("FAVOURITE_BATCH_SAVE_ERROR_KPI_OPI"))})}else{}}else{sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("NO_KPI_OPI_SELECTED"))}}},{sId:"deleteButton",sI18nBtnTxt:"DELETE_BUTTON_TEXT",onBtnPressed:function(a){if(t.byId("list").getSelectedContexts().length){sap.m.MessageBox.show(t.oApplicationFacade.getResourceBundle().getText("WARNING_INDICATOR_DELETE_KPI_OPI"),"sap-icon://hint",t.oApplicationFacade.getResourceBundle().getText("INDICATOR_DELETE_ALERT_TITLE"),[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],function(a){if(a=="OK"){var s=t.byId("list").getSelectedContexts();var p={};var b=[];var c=true;var d=t.oApplicationFacade.getODataModel();var f=[];for(var i=0,l=s.length;i<l;i++){f.push({ID:s[i].getProperty("ID"),IS_ACTIVE:s[i].getProperty("IS_ACTIVE")})}if(f.length){sap.suite.smartbusiness.utils.remove(sap.suite.smartbusiness.utils.serviceUrl("INDICATOR_SERVICE_URI"),f,function(g){sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("DELETE_BATCH_SAVE_SUCCESS_KPI_OPI"));d.refresh()},function(g){sap.suite.smartbusiness.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("DELETE_BATCH_SAVE_ERROR_KPI_OPI"))})}else{}}if(a=="CANCEL"){}})}else{sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("NO_KPI_OPI_SELECTED"))}}}]};if(jQuery.sap.getUriParameters().get("sap-sb-enable-export")=="true"){var e={sI18nBtnTxt:"EXPORT_INDICATORS_KPI_OPI",onBtnPressed:function(a){if(t.byId("list").getSelectedContexts().length){t.exportIndicators()}else{sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("NO_KPI_OPI_SELECTED"))}}};this.multiSelectHeaderFooterOptions.buttonList.unshift(e)}this.currentHeaderFooterOptions=this.defaultHeaderFooterOptions},createFilterOptions:function(){var t=this;var f=new sap.m.ViewSettingsDialog({id:this.createId("filterOptionsDialog"),filterItems:[new sap.m.ViewSettingsFilterItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_STATUS"),key:"status",items:[new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("DRAFTS"),key:"drafts"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("ACTIVATED"),key:"activated"}),]}),new sap.m.ViewSettingsFilterItem({text:t.oApplicationFacade.getResourceBundle().getText("ACTIVITY"),key:"activity",items:[new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("SELF_CREATED"),key:"self_created"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("RECENTLY_WORKED_UPON"),key:"recently_worked_upon"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("FAVOURITE"),key:"favorite"}),]})],confirm:function(e){var a="";var s=e.getParameter("filterItems");t.setFiltering(e.getParameter("filterItems"));if(s&&s.length){var b={};for(var i=0,l=s.length;i<l;i++){b[s[i].getParent().getKey()]=b[s[i].getParent().getKey()]||"";b[s[i].getParent().getKey()]+=(b[s[i].getParent().getKey()])?(","):"";b[s[i].getParent().getKey()]+=s[i].getText()}for(var c in b){if(b.hasOwnProperty(c)){a+=(a)?" ; ":"";a+=b[c]}}t.byId("filterToolbar").setVisible(true);t.byId("workspaceInfo").setText(a)}else{t.byId("workspaceInfo").setText("");t.byId("filterToolbar").setVisible(false)}}});return f},createSortOptions:function(){var t=this;var s=new sap.m.ViewSettingsDialog({id:this.createId("sortOptionsDialog"),sortItems:[new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_NEWEST"),key:"newest"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_OLDEST"),key:"oldest"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_TYPE"),key:"type"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("ALPHABETICALLY"),key:"alphabetically"})],confirm:function(e){if(e.getParameter("sortItem")){t.setSorting(e.getParameter("sortItem").getKey(),e.getParameter("sortDescending"))}else{t.setGrouping("workspace",true)}}});return s},createGroupOptions:function(){var t=this;var g=new sap.m.ViewSettingsDialog({id:this.createId("groupOptionsDialog"),groupItems:[new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_WORKSPACE"),key:"workspace"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_TYPE"),key:"type"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_STATUS"),key:"status"}),new sap.m.ViewSettingsItem({text:t.oApplicationFacade.getResourceBundle().getText("BY_OWNER"),key:"owner"})],confirm:function(e){if(e.getParameter("groupItem")){t.setGrouping(e.getParameter("groupItem").getKey(),e.getParameter("groupDescending"))}else{t.setGrouping("none")}}});g.setSelectedGroupItem("workspace");g.setGroupDescending(true);return g},getHeaderFooterOptions:function(){var t=this;return this.currentHeaderFooterOptions},formatTitle:function(t){return(t||"")},formatEvaluationCount:function(e){return(e||0)},formatID:function(i){var t=this;return(t.oApplicationFacade.getResourceBundle().getText("KPI_MASTER_ID_TEXT")+": "+(i||""))},formatGroupName:function(c){var t=this;var i=c.getProperty("MANUAL_ENTRY");var g="";switch(i){case 1:g=t.oApplicationFacade.getResourceBundle().getText("MY_FAVOURITES");break;case 0:g=t.oApplicationFacade.getResourceBundle().getText("MY_LAST_WORKED_UPON");break;default:g=t.oApplicationFacade.getResourceBundle().getText("ALL_KPI_OPI")}return{key:g,text:g}},setGrouping:function(k,g){var t=this;g=g||false;var l=t.getView().byId("list");if(k=="type"){l.getBinding("items").sort([new sap.ui.model.Sorter("TYPE",g,function(c){return{key:c.getProperty("TYPE"),text:(c.getProperty("TYPE")+"S")}})])}else if(k=="status"){l.getBinding("items").sort([new sap.ui.model.Sorter("IS_ACTIVE",g,function(c){return{key:c.getProperty("IS_ACTIVE")?t.oApplicationFacade.getResourceBundle().getText("STATUS_ACTIVE"):t.oApplicationFacade.getResourceBundle().getText("STATUS_DRAFT"),text:c.getProperty("IS_ACTIVE")?t.oApplicationFacade.getResourceBundle().getText("ACTIVE_KPI_OPI"):t.oApplicationFacade.getResourceBundle().getText("DRAFT_KPI_OPI"),}})])}else if(k=="owner"){l.getBinding("items").sort([new sap.ui.model.Sorter("OWNER_NAME",g,function(c){var o=c.getProperty("OWNER_NAME");var a="";switch(o){case null:a=t.oApplicationFacade.getResourceBundle().getText("NO_OWNER");break;case"":a=t.oApplicationFacade.getResourceBundle().getText("NO_OWNER");break;default:a=o}return{key:a,text:a}})])}else if(k=="workspace"){l.getBinding("items").sort([new sap.ui.model.Sorter("MANUAL_ENTRY",g,function(c){var i=c.getProperty("MANUAL_ENTRY");var a="";switch(i){case 1:a=t.oApplicationFacade.getResourceBundle().getText("MY_FAVOURITES");break;case 0:a=t.oApplicationFacade.getResourceBundle().getText("MY_LAST_WORKED_UPON");break;default:a=t.oApplicationFacade.getResourceBundle().getText("ALL_KPI_OPI")}return{key:a,text:a}})])}else if(k=="none"){l.getBinding("items").sort([])}},setFiltering:function(i){var t=this;var f=[];var l=t.getView().byId("list");var a={"drafts":(new sap.ui.model.Filter("IS_ACTIVE",sap.ui.model.FilterOperator.EQ,0)),"activated":(new sap.ui.model.Filter("IS_ACTIVE",sap.ui.model.FilterOperator.EQ,1)),"self_created":(new sap.ui.model.Filter("CREATED_BY",sap.ui.model.FilterOperator.EQ,t.oApplicationFacade.currentLogonHanaUser)),"recently_worked_upon":(new sap.ui.model.Filter("MANUAL_ENTRY",sap.ui.model.FilterOperator.EQ,0)),"favorite":(new sap.ui.model.Filter("MANUAL_ENTRY",sap.ui.model.FilterOperator.EQ,1))};f=sap.suite.smartbusiness.utils.getFilterArray(i,a);if(f.length){l.getBinding("items").filter(new sap.ui.model.Filter(f,true))}else{l.getBinding("items").filter(f)}},setSorting:function(k,g){var t=this;g=g||false;var l=t.getView().byId("list");if(k=="newest"){l.getBinding("items").sort([new sap.ui.model.Sorter("CREATED_ON",true,null)])}else if(k=="oldest"){l.getBinding("items").sort([new sap.ui.model.Sorter("CREATED_ON",false,null)])}else if(k=="type"){l.getBinding("items").sort([new sap.ui.model.Sorter("TYPE",g,null)])}else if(k=="alphabetically"){l.getBinding("items").sort([new sap.ui.model.Sorter("TITLE",g,null)])}},toggleListSelection:function(i){if(i){this.byId("list").detachSelectionChange(this._handleSelect,this);this.byId("list").setMode("MultiSelect");this.currentHeaderFooterOptions=this.multiSelectHeaderFooterOptions;this.refreshHeaderFooterForEditToggle();this.oRouter.navTo("multiSelect",{});this.showEmptyView("DETAIL_TITLE",sap.ui.getCore().getConfiguration().getLanguage()," ")}else{this.byId("list").attachSelectionChange(this._handleSelect,this);this.byId("list").setMode("SingleSelectMaster");this.currentHeaderFooterOptions=this.defaultHeaderFooterOptions;this.refreshHeaderFooterForEditToggle();this.oRouter.navTo("detail",{contextPath:this.oApplicationFacade.currentContextPath})}},exportIndicators:function(){var t=this;var d=new sap.m.SelectDialog({title:t.oApplicationFacade.getResourceBundle().getText("SELECT_PACKAGES"),items:{path:"/HANA_PACKAGES",template:new sap.m.StandardListItem({title:"{OBJECT}"})},confirm:function(e){var p=e.getParameter("selectedItem").getProperty("title");if(p){var a=t.getExportObject();a=a.replace("<Hana Package Here>",e.getParameter("selectedItem").getProperty("title"));var s=t.byId("list").getSelectedContexts();var b="";var c=[];var f="";for(var i=0,l=s.length;i<l;i++){if(s[i].getProperty("IS_ACTIVE")==1){b+=(b)?',':'';b+='{"value":"'+s[i].getProperty("ID")+'","operator":"="}'}else{f+=(f)?' , ':'';f+='"'+s[i].getProperty("TITLE")+'"';c.push(s[i])}}a=a.replace(/"<Indicators Here>"/g,b);if(b){if(c.length){sap.m.MessageBox.show(f+" "+t.oApplicationFacade.getResourceBundle().getText("INACTIVE_KPI_OPI_FOR_EXPORT"),"sap-icon://hint",t.oApplicationFacade.getResourceBundle().getText("EXPORT_ALERT_TITLE"),[sap.m.MessageBox.Action.OK,sap.m.MessageBox.Action.CANCEL],function(g){if(g=="OK"){t.callExportService(a)}else{}})}else{t.callExportService(a)}}else{sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("NO_KPI_OPI_FOR_EXPORT"))}}else{sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("NO_HANA_PACKAGE_SELECTED"))}},liveChange:function(e){var s="'"+e.getParameter("value").toLowerCase()+"'";var f=new sap.ui.model.Filter("tolower(OBJECT)",sap.ui.model.FilterOperator.Contains,s);var b=e.getSource().getBinding("items");b.filter(new sap.ui.model.Filter([f],false))}});d.setModel(this.oApplicationFacade.getODataModel());d.open()},getExportObject:function(){var e={"data":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["ID"]},{"tableName":"sap.hba.r.sb.core.db::INDICATOR_TEXTS","schema":"SAP_HBA","keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["ID"],"dependentOn":[]},{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","customKeys":["ID"],"keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"INDICATOR","mappingKey":"ID"}]},{"tableName":"sap.hba.r.sb.core.db::EVALUATION_TEXTS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"dependentKey":"INDICATOR","mappingKey":"ID","keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"keys":{},"dependentKey":"ID","mappingKey":"ID"}]},{"tableName":"sap.hba.r.sb.core.db::EVALUATION_VALUES","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"dependentKey":"INDICATOR","mappingKey":"ID","keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"keys":{},"dependentKey":"ID","mappingKey":"ID"}]},{"tableName":"sap.hba.r.sb.core.db::EVALUATION_FILTERS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"dependentKey":"INDICATOR","mappingKey":"ID","keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"keys":{},"dependentKey":"ID","mappingKey":"ID"}]},{"tableName":"sap.hba.r.sb.core.db::PROPERTIES","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"TYPE":[{"value":"IN","operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"ID","mappingKey":"ID","dependentOn":[],"keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"customKeys":["ID","TYPE"]},{"tableName":"sap.hba.r.sb.core.db::PROPERTIES","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"TYPE":[{"value":"EV","operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"mappingKey":"ID","dependentKey":"INDICATOR","keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"dependentKey":"ID","mappingKey":"ID"}],"customKeys":["ID","TYPE"]},{"tableName":"sap.hba.r.sb.core.db::TAGS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"TYPE":[{"value":"IN","operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"ID","mappingKey":"ID","dependentOn":[],"keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"customKeys":["ID","TYPE"]},{"tableName":"sap.hba.r.sb.core.db::TAGS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"TYPE":[{"value":"EV","operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentOn":[],"mappingKey":"ID","dependentKey":"INDICATOR","keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"dependentKey":"ID","mappingKey":"ID"}],"customKeys":["ID","TYPE"]},{"tableName":"sap.hba.r.sb.core.db::ASSOCIATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"SOURCE_INDICATOR","mappingKey":"ID","dependentOn":[],"keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"customKeys":["SOURCE_INDICATOR"]},{"tableName":"sap.hba.r.sb.core.db::ASSOCIATION_PROPERTIES","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"SOURCE_INDICATOR","mappingKey":"ID","dependentOn":[],"keys":{"ID":["<Indicators Here>"],"IS_ACTIVE":[{"value":1,"operator":"="}]}}],"customKeys":["SOURCE_INDICATOR"]},{"tableName":"sap.hba.r.sb.core.db::DDA_MASTER","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::DDA_MASTER_TEXT","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::DDA_FILTERS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::DDA_HEADER","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::DDA_COLUMNS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::DDA_CHART","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::DDA_CONFIGURATION","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"customKeys":["EVALUATION_ID"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"EVALUATION_ID","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::CHIPS","schema":"SAP_HBA","keys":{"isActive":[{"value":1,"operator":"="}]},"customKeys":["id"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"evaluationId","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}]},{"tableName":"sap.hba.r.sb.core.db::CHIP_TEXTS","schema":"SAP_HBA","keys":{"isActive":[{"operator":"=","value":1}]},"customKeys":["id"],"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::CHIPS","schema":"SAP_HBA","keys":{"isActive":[{"value":1,"operator":"="}]},"dependentOn":[{"tableName":"sap.hba.r.sb.core.db::EVALUATIONS","schema":"SAP_HBA","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}]},"dependentKey":"evaluationId","mappingKey":"ID","dependentOn":[{"tableName":"sap.hba.r.sb.core.db::INDICATORS","schema":"SAP_HBA","dependentKey":"INDICATOR","mappingKey":"ID","keys":{"IS_ACTIVE":[{"value":1,"operator":"="}],"ID":["<Indicators Here>"]},"dependentOn":[]}]}],"mappingKey":"id","dependentKey":"id"}]}],"file":{"package_name":"<Hana Package Here>"}};return JSON.stringify(e)},callExportService:function(p){var t=this;jQuery.ajax({type:"HEAD",async:false,dataType:"json",url:"/sap/hba/r/sb/core/logic/__token.xsjs",headers:{"X-CSRF-Token":"Fetch"},success:function(d,s,x){t.exportBusyDialog=t.exportBusyDialog||new sap.m.BusyDialog({text:t.oApplicationFacade.getResourceBundle().getText("EXPORT_KPI_OPI_BUSY_DIALOG_TEXT"),title:t.oApplicationFacade.getResourceBundle().getText("EXPORT_KPI_OPI_BUSY_DIALOG_TITLE")});t.exportBusyDialog.open();jQuery.ajax({url:"/sap/hba/r/sb/core/logic/transferToHanaRepo.xsjs",type:"POST",data:p,headers:{"X-CSRF-Token":x.getResponseHeader("X-CSRF-Token")},async:true,success:function(d){t.exportBusyDialog.close();sap.m.MessageToast.show(t.oApplicationFacade.getResourceBundle().getText("EXPORT_SUCCESS"))},error:function(e){t.exportBusyDialog.close();sap.suite.smartbusiness.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("EXPORT_ERROR"))}})},error:function(){sap.suite.smartbusiness.utils.showErrorMessage(t.oApplicationFacade.getResourceBundle().getText("ERR_FETCH_AUTH_TOKEN"));$.sap.log.error("ERR_FETCH_AUTH_TOKEN")}})},onExit:function(){var h=hasher||window.hasher;if(!(h.getHash())){sap.suite.smartbusiness.utils.backToHome()}},applySearchPatternToListItem:function(I,f){if(sap.ca.scfld.md.controller.ScfldMasterController.prototype.applySearchPatternToListItem.apply(this,arguments)){return true}else{var d=I.getDependents()||[];for(var i=0,l=d.length;i<l;i++){if(d[i].getText().toLowerCase().indexOf(f)!=-1){return true}}}return false}});
