// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.require("sap.ushell.override");jQuery.sap.require("sap.ui.core.delegate.ItemNavigation");sap.ui.core.Control.extend("sapUshellSuggestSection",{metadata:{properties:{},aggregations:{"items":{type:"sap.ui.core.Control",multiple:true}}},hasContent:function(){return true}});sap.m.List.extend("sapUshellSuggestionList",{init:function(e){sap.m.List.prototype.init.call(this,e);this.setShowNoData(false);this.setShowSeparators(sap.m.ListSeparators.Inner);this.oItemNavigation=new sap.ui.core.delegate.ItemNavigation();this.oItemNavigation.attachEvent("AfterFocus",this._afterFocus);this.addDelegate(this.oItemNavigation)},exit:function(e){this.oItemNavigation.detachEvent("AfterFocus",this._afterFocus);this.oItemNavigation.destroy()},_afterFocus:function(e){this.setFocusedIndex(this.getItemDomRefs().indexOf(this.getFocusedDomRef()))},metadata:{properties:{},aggregations:{"sections":{type:"sap.ui.core.Control",multiple:true}},events:{}},renderer:function(r,c){r.write("<div");r.writeControlData(c);r.writeClasses();r.write(">");var s=c.getSections();for(var i=0;i<s.length;i++){var a=s[i];if(a.hasContent()){var b=a.getItems();for(var j=0;j<b.length;j++){b[j].addStyleClass('suggestList');r.renderControl(b[j])}}}r.write("</div>")},onAfterRendering:function(e){var f=this.getDomRef();var d=f.getElementsByClassName("sapUshellSuggestListItem");var I=[];var m=2;var r=f.getElementsByClassName("sapUshellSearchSuggestionNavItem");for(var i=0;i<d.length;i++){var n=d[i].getElementsByClassName("sapUshellSearchSuggestionNavItem");var l;for(var j=0;j<m;j++){var a=n[j];if(a){I.push(a);l=a}else{I.push(l)}}}this.oItemNavigation.setRootDomRef(f).setItemDomRefs(I).setCycling(true).setColumns(m).setSelectedIndex(0)}});sap.ushell.ui.launchpad.SearchSuggestionList.prototype.init=function(e){sap.m.List.prototype.init.call(this,e);this.setShowNoData(false);this.setShowSeparators(sap.m.ListSeparators.Inner);this.oItemNavigation=new sap.ui.core.delegate.ItemNavigation();this.oItemNavigation.attachEvent("AfterFocus",this._afterFocus)};sap.ushell.ui.launchpad.SearchSuggestionList.prototype.exit=function(e){this.oItemNavigation.detachEvent("AfterFocus",this._afterFocus);this.oItemNavigation.destroy()}}());
