jQuery.sap.declare("sap.zen.crosstab.utils.Utils");jQuery.sap.require("sap.zen.crosstab.rendering.RenderingConstants");
sap.zen.crosstab.utils.Utils=function(c){var t=this;this.getModelCoordinates=function(a,A,s){var m={};m.iRow=a;m.iCol=A;var C=c.getColumnHeaderArea().getRowCnt();var r=c.getRowHeaderArea().getColCnt();if(s===sap.zen.crosstab.rendering.RenderingConstants.TYPE_DATA_AREA){m.iRow+=C;m.iCol+=r}else if(s===sap.zen.crosstab.rendering.RenderingConstants.TYPE_COLUMN_HEADER_AREA){m.iCol+=r}else if(s===sap.zen.crosstab.rendering.RenderingConstants.TYPE_ROW_HEADER_AREA){m.iRow+=C}return m};this.selectTextInInputField=function(i,s,S){if(s===-1&&S===-1){i.select()}else{oDomInputField=i[0];if(c.isIE8Mode()){if(oDomInputField.createTextRange!=="undefined"){var r=oDomInputField.createTextRange();r.collapse(true);r.moveEnd("character",S+1);r.moveStart("character",s);r.select()}}else if(oDomInputField.selectionStart!=="undefined"){oDomInputField.selectionStart=s;oDomInputField.selectionEnd=S}}};this.getSelectionParams=function(d){var s=-1;var e=-1;if(c.isIE8Mode()){if(document.selection!=="undefined"&&document.selection.type==="Text"){oRange=document.selection.createRange();if(oRange&&oRange.text.length>0){var b=document.body.createTextRange();b.moveToElementText(d);b.setEndPoint("EndToStart",oRange);s=b.text.length;e=s+oRange.text.length-1}}}else if(window.getSelection){var S=window.getSelection().toString();if(S&&S.length>0){s=window.getSelection().anchorOffset;e=window.getSelection().focusOffset}}return{iSelectionStartPos:s,iSelectionEndPos:e}};this.sendClientScrollPosUpdate=function(C,h,i,v,I){var o=c.getRenderEngine().getCrossRequestManager();if(o){if(I===true){o.setHeaderScrollData({"iHPos":C})}else{o.setScrollData(C,h,i,v)}}t.sendScrollPosUpdate(C,h,i,v,I)};this.sendScrollPosUpdate=function(p,a,b,d,i){var C=c.getScrollNotifyCommand();if(C){C=C.replace("__CLIENT_VPOS__",b);C=C.replace("__CLIENT_VPOS_END__",d?"X":" ");C=C.replace("__CLIENT_HPOS__",(i?"H"+p:p));C=C.replace("__CLIENT_HPOS_END__",a?"X":" ");var A=new Function(C);A()}}};
sap.zen.crosstab.utils.Utils.unEscapeDisplayString=function(h){var u=h.replace(/<br\/>/g,"\r\n");u=u.replace(/&nbsp;/g,"&#x20;");u=$("<div/>").html(u).text();return u};
sap.zen.crosstab.utils.Utils.prepareStringForRendering=function(t){var h=false;var p=t.replace(/(\r\n)|(\n\r)|\r|\n/g,"<br/>");h=(p!==t);var P=p.replace(/(&#xd;&#xa;)|(&#xa;&#xd;)|&#xd;|&#xa;/g,"<br/>");h=(P!==p)||h;P=P.replace(/&#x20;/g,"&nbsp;");return{"text":P,"bHasLineBreaks":h}};
sap.zen.crosstab.utils.Utils.cancelEvent=function(e){if(e){if(e.preventDefault){e.preventDefault()}sap.zen.crosstab.utils.Utils.stopEventPropagation(e)}};
sap.zen.crosstab.utils.Utils.stopEventPropagation=function(e){if(e){if(e.stopPropagation){e.stopPropagation()}if(e.cancelBubble){e.cancelBubble=true}}};
sap.zen.crosstab.utils.Utils.hasEntries=function(a){var h=false;if(a){for(var k in a){if(a.hasOwnProperty(k)){h=true;break}}}return h};
sap.zen.crosstab.utils.Utils.padWithZeroes=function(n,l){var s=n.toString();if(s.length<l){s=('0000000000'+s).slice(-l)}return s};
sap.zen.crosstab.utils.Utils.selectTextInElement=function(d){var r;var s;if(d.innerHTML){if(document.createRange&&window.getSelection){r=document.createRange();s=window.getSelection();try{s.removeAllRanges()}catch(e){}try{r.selectNodeContents(d);s.addRange(r)}catch(e){r.selectNode(d);s.addRange(r)}}else if(document.body.createTextRange){r=document.body.createTextRange();r.moveToElementText(d);r.select()}}};
sap.zen.crosstab.utils.Utils.getWidthFromStyle=function(j){var i=0;var s="";var S=null;var w=null;var a=j.attr('style');if(a){var b=a.split(";");if(b){for(i=0;i<b.length;i++){s=b[i];if(s){S=s.split(":");if(S[0]==="width"){w=S[1];break}}}}}if(w){w=$.trim(w)}return w};
sap.zen.crosstab.utils.Utils.sign=function(x){return x>0?1:x<0?-1:0};
