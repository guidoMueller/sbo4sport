jQuery.sap.declare("sap.zen.crosstab.HeaderCellRenderer");jQuery.sap.require("sap.zen.crosstab.rendering.RenderingConstants");jQuery.sap.require("sap.zen.crosstab.IHeaderCell");jQuery.sap.require("sap.zen.crosstab.TextConstants");sap.zen.crosstab.HeaderCellRenderer={};
sap.zen.crosstab.HeaderCellRenderer.render=function(r,c){"use strict";var a=c.getArea();var C=a.getCrosstab();var b=r;var i=null;var R=null;var f=a.getRenderCellCallback();var s=c.getText();var A=null;if(f){var o=f(new sap.zen.crosstab.IHeaderCell(c));A=o.additionalStyles;s=o.renderText}var d=c.getCssClassNames(C.isIE8Mode());if(c.getSort()){d+=" sapzencrosstab-HeaderCellSortable"}var D=c.getDrillState();if(D){d+=" sapzencrosstab-HeaderCellHierarchy"}b.write("<td");b.writeControlData(c);b.writeAttribute("class",d);b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);i=c.getEffectiveColSpan();if(i>1){b.writeAttribute("colspan",i)}R=c.getEffectiveRowSpan();if(R>1){b.writeAttribute("rowspan",R)}b.write(">");b.write("<div");b.writeAttribute("class","sapzencrosstab-cellLayoutDiv");b.writeAttribute("id",c.getId()+"_cellLayoutDiv");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);if(c.isEntryEnabled()){b.addStyle("width","0px");b.writeStyles()}b.write(">");if(c.isEntryEnabled()){b.write("<table style='width: 100%; border-spacing: 0px;'><tbody>");b.write("<tr>");b.write("<td style='width: 100%; padding: 0px 5px 0px 0px;'>")}b.write("<div");b.writeAttribute("id",c.getId()+"_contentDiv");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);if(c.isEntryEnabled()){b.addStyle("width","100%");b.writeStyles()}var e="sapzencrosstab-HeaderCellContentDiv";if(c.isLoading()){e+=" sapzencrosstab-LoadingCellContentDiv"}b.writeAttribute("class",e);if(A){for(var S in A){b.addStyle(S,A[S])}}b.writeStyles();b.write(">");var g=c.getSort();if(g||D){n(g,D)}else{b.write(s)}b.write("</div>");if(C.getPropertyBag().isEnableColResize()===true){if(a.isColHeaderArea()||a.isDimHeaderArea()){if(C.getPropertyBag().isTestMobileMode()||C.getPropertyBag().isMobileMode()){c.setMobileResize(true)}else{b.write("<div");b.writeAttribute("id","resi_"+c.getId());b.writeAttribute("class","sapzencrosstab-columnResizeHandle");b.writeAttribute("title",C.getPropertyBag().getText(sap.zen.crosstab.TextConstants.COLWIDTH_ADJUST_TEXT_KEY));b.write(">");b.write("</div>");c.setMobileResize(false)}}}b.write("</div>");if(c.isEntryEnabled()){b.write("</td>");b.write("<td style='padding: 0px'>");b.write("<div");b.writeAttribute("id","vhlp_"+c.getId());b.writeAttribute("class","sapzencrosstab-HeaderCellDivValueHelp sapzencrosstab-HeaderCellValueHelp");b.write(">");b.write("</div>");b.write("</td>");b.write("</tr>");b.write("</tbody></table>")}b.write("</td>");function h(){if(g){var t=0;b.write("<td>");var p="sapzencrosstab-HeaderCellDivSortable ";b.write("<div");if(g==="NONE"){p+="sapzencrosstab-HeaderCellSortNone";t=0}else if(g==="ASC"){p+="sapzencrosstab-HeaderCellSortAsc";t=1}else if(g==="DESC"){p+="sapzencrosstab-HeaderCellSortDesc";t=2}b.writeAttribute("class",p);b.writeAttribute("id","sort_"+c.getId());var q=C.getPropertyBag().getSortingToolTip(t);if(q){b.writeAttribute("title",q)}b.write("></div></td>")}}function j(){if(D){var L=c.getLevel();var p=c.getArea().isRowHeaderArea();var q="sapzencrosstab-HeaderCellDivHierarchy ";if(c.getHierarchyAction()){if(D==="O"){q+="sapzencrosstab-CollapseNode"}else if(D==="C"){q+="sapzencrosstab-ExpandNode"}if(D==="O"||D==="C"){q+=" sapzencrosstab-PointerCursor"}}if(L>0){if(p){var W=L*C.getHierarchyIndentWidth();b.write("<td><div");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);b.addStyle("width",W+"px");b.writeAttribute("class","sapzencrosstab-HierarchySpacerDivBefore");b.writeStyles();b.write("></div></td>")}}if((D==="L"&&L>0)||D!=="L"){b.write("<td><div");if(c.getHierarchyAction()){b.writeAttribute("id","hier_"+c.getId())}b.writeAttribute("class",q);var H=c.getHierarchyTooltip();if(H){b.writeAttribute("title",H)}b.write("></div></td>")}}}function w(){b.write("<td><div");b.writeAttribute("id",c.getId()+"_textContentDiv");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);b.write(">");b.write(s);b.write("</div></td>")}function k(){if(D){var L=c.getLevel();if(L>0&&c.getArea().isColHeaderArea()){var H=L*C.getHierarchyIndentHeight();b.write("<tr><td><div");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);b.writeAttribute("class","sapzencrosstab-HierarchySpacerLinesBefore");b.addStyle("height",H+"px");b.writeStyles();b.write("></div></td></tr>")}}}function l(){if(D&&c.getArea().isColHeaderArea()){var L=c.getLevel();var M=C.getColHeaderHierarchyLevels()[c.getRow()];var p=M-L;if(p>0){var H=p*C.getHierarchyIndentHeight();b.write("<tr><td><div");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);b.writeAttribute("class","sapzencrosstab-HierarchySpacerLinesAfter");b.addStyle("height",H+"px");b.writeStyles();b.write("></div></td></tr>")}}}function m(){if(D&&c.getArea().isRowHeaderArea()){var L=c.getLevel();var M=C.getRowHeaderHierarchyLevels()[c.getCol()];var p=M-L;if(p>0){var W=p*C.getHierarchyIndentWidth();b.write("<td><div");b.writeAttribute("tabindex",sap.zen.crosstab.rendering.RenderingConstants.TABINDEX);b.addStyle("width",W+"px");b.writeAttribute("class","sapzencrosstab-HierarchySpacerDivAfter");b.writeStyles();b.write("></div></td>")}}}function n(){b.write("<table><tbody>");k();b.write("<tr>");j();w();h();m();b.write("</tr>");l();b.write("</tbody></table>")}};
