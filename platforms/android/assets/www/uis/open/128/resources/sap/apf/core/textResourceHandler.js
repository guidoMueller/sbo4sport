/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.apf.core.textResourceHandler");jQuery.sap.require("sap.apf.utils.hashtable");jQuery.sap.require("jquery.sap.resources");(function(){'use strict';sap.apf.core.TextResourceHandler=function(i){var m=i.messageHandler;var c=i.coreApi;var h=new sap.apf.utils.Hashtable(m);this.getTextNotHtmlEncoded=function(L,p){if(typeof L==="string"){return b(L,p)}m.check((L!==undefined&&L.kind!==undefined),"Error - oLabel is not compatible");if(L.kind==="text"){m.check((L.key!==undefined),"Error - oLabel is not compatible");return a(L,p)}else{return""}};this.getTextHtmlEncoded=function(L,p){return jQuery.sap.encodeHTML(this.getTextNotHtmlEncoded(L,p))};this.getMessageText=function(r,p){var t;l(sap.apf.core.constants.resourceLocation.apfUiTextBundle,sap.apf.core.constants.resourceLocation.applicationMessageTextBundle);if(h.hasItem(sap.apf.core.constants.resourceLocation.applicationMessageTextBundle)){t=h.getItem(sap.apf.core.constants.resourceLocation.applicationMessageTextBundle).getText(r,p);if(t!==r){return t}}return h.getItem(sap.apf.core.constants.resourceLocation.apfUiTextBundle).getText(r,p)};function l(A,o){var u;if(h.hasItem(A)===false){u=c.getResourceLocation(A);d(A,u)}u=c.getResourceLocation(o);if(u!==""&&h.hasItem(o)===false){d(o,u)}}function a(L,p){l(sap.apf.core.constants.resourceLocation.apfUiTextBundle,sap.apf.core.constants.resourceLocation.applicationUiTextBundle);if(k(L.key,sap.apf.core.constants.resourceLocation.applicationUiTextBundle)){return h.getItem(sap.apf.core.constants.resourceLocation.applicationUiTextBundle).getText(L.key,p)}else if(k(L.key,sap.apf.core.constants.resourceLocation.apfUiTextBundle)){return h.getItem(sap.apf.core.constants.resourceLocation.apfUiTextBundle).getText(L.key,p)}else{m.putMessage(m.createMessageObject({code:"3001",aParameters:[L.key],oCallingObject:this}));return"# text not available: "+L.key}}function b(e,p){l(sap.apf.core.constants.resourceLocation.apfUiTextBundle,sap.apf.core.constants.resourceLocation.applicationUiTextBundle);if(k(e,sap.apf.core.constants.resourceLocation.applicationUiTextBundle)){return h.getItem(sap.apf.core.constants.resourceLocation.applicationUiTextBundle).getText(e,p)}else if(k(e,sap.apf.core.constants.resourceLocation.apfUiTextBundle)){return h.getItem(sap.apf.core.constants.resourceLocation.apfUiTextBundle).getText(e,p)}else{m.putMessage(m.createMessageObject({code:"3001",aParameters:[e],oCallingObject:this}));return"# text not available: "+e}}function k(e,t){var T=h.getItem(t);if(T&&T.aPropertyFiles&&T.aPropertyFiles.length>=0&&T.aPropertyFiles[0].aKeys instanceof Array){if(jQuery.inArray(e,T.aPropertyFiles[0].aKeys)>=0){return true}else{return false}}else{return false}}function d(K,u){var B=jQuery.sap.resources({url:u,includeInfo:sap.ui.getCore().getConfiguration().getOriginInfo()});h.setItem(K,B)}}}());
