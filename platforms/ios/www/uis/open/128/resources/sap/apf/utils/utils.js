/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
jQuery.sap.declare('sap.apf.utils.utils');jQuery.sap.require('sap.ui.core.format.DateFormat');
sap.apf.utils.getUriParameters=function(){return jQuery.sap.getUriParameters().mParams};
sap.apf.utils.eliminateDuplicatesInArray=function(m,w){m.check((w!==undefined&&typeof w==='object'&&w.hasOwnProperty('length')===true),'Error - aArray is undefined');var r=[];for(var i=0;i<w.length;i++){for(var j=i+1;j<w.length;j++){if(w[i]===w[j]){j=++i}}r.push(w[i])}return r};
sap.apf.utils.hashCode=function(v){var n=0;var i=0;var a=0;v=v+'';var l=v.length;for(i=0;i<l;i++){a=v.charCodeAt(i);n=(17*n+a)<<0}return n};
sap.apf.utils.escapeOdata=function(v){if(typeof v==="string"){return v.replace("'","''")}else{return v}};
sap.apf.utils.json2javascriptFormat=function(v,t){var i;switch(t){case"Edm.Boolean":if(typeof v==="boolean"){return v}if(typeof v==="string"){return v.toLowerCase()==="true"}return false;case"Edm.Decimal":case"Edm.Guid":case"Edm.Int64":case"Edm.String":return v;case"Edm.Int16":case"Edm.Int32":return parseInt(v,10);case"Edm.Single":case"Edm.Float":return parseFloat(v);case"Edm.Time":return v;case"Edm.DateTime":i=v.replace('/Date(','').replace(')/','');i=parseFloat(i);return new Date(i);case"Edm.DateTimeOffset":i=v.replace('/Date(','');i=i.replace(')/','');i=parseFloat(i);return new Date(i)}return v};
sap.apf.utils.formatValue=function(a,t){function c(v){var b;if(v instanceof Date){return v}else if(typeof v==='string'){if(v.substring(0,6)==='/Date('){b=v.replace('/Date(','');b=b.replace(')/','');b=parseInt(b,10);return new Date(b)}else{return new Date(v)}}}var d;var f="";if(a===null||a===undefined){return"null"}switch(t){case"Edm.String":f="'"+String(a).replace(/'/g,"''")+"'";break;case"Edm.Time":if(typeof a==='number'){d=new Date();d.setTime(a);var h=d.getUTCHours();if(h<10){h='0'+h}var m=d.getUTCMinutes();if(m<10){m='0'+m}var s=d.getUTCSeconds();if(s<10){s='0'+s}f="time'"+h+':'+m+':'+s+"'"}else{f="time'"+a+"'"}break;case"Edm.DateTime":if(!sap.apf.utils.formatValue.oDateTimeFormat){sap.apf.utils.formatValue.oDateTimeFormat=sap.ui.core.format.DateFormat.getDateInstance({pattern:"'datetime'''yyyy-MM-dd'T'HH:mm:ss''"})}d=c(a);f=sap.apf.utils.formatValue.oDateTimeFormat.format(d,true);break;case"Edm.DateTimeOffset":if(!sap.apf.utils.formatValue.oDateTimeOffsetFormat){sap.apf.utils.formatValue.oDateTimeOffsetFormat=sap.ui.core.format.DateFormat.getDateInstance({pattern:"'datetimeoffset'''yyyy-MM-dd'T'HH:mm:ss'Z'''"})}d=c(a);f=sap.apf.utils.formatValue.oDateTimeOffsetFormat.format(d,true);break;case"Edm.Guid":f="guid'"+a+"'";break;case"Edm.Decimal":f=a+"M";break;case"Edm.Int64":f=String(a)+"L";break;case"Edm.Single":f=a+"f";break;case"Edm.Binary":f="binary'"+a+"'";break;default:f=a;break}return f};
sap.apf.utils.extractFunctionFromModulePathString=function(f){if(jQuery.isFunction(f)){return f}var d,n,F;n=f.split('.');d=window;for(var i=0;i<n.length-1;i++){d=d[n[i]]}F=n[n.length-1];return d[F]};
