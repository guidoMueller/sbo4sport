jQuery.sap.registerPreloadedModules({"name":"sap/ui/core/library-preload","version":"2.0","modules":{"sap/ui/core/Core.js":function(){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5)
 * 
 * (c) Copyright 2009-2014 SAP SE. All rights reserved
 */
sap.ui.define(['jquery.sap.global','sap/ui/Device','sap/ui/Global','sap/ui/base/DataType','sap/ui/base/EventProvider','./Component','./Configuration','./Control','./Element','./ElementMetadata','./FocusHandler','./RenderManager','./ResizeHandler','./ThemeCheck','./UIArea','./tmpl/Template','jquery.sap.act','jquery.sap.dom','jquery.sap.events','jquery.sap.mobile','jquery.sap.properties','jquery.sap.resources','jquery.sap.script'],function(q,D,G,a,E,C,c,d,e,g,F,R,h,T,U,j){"use strict";var k=E.extend("sap.ui.core.Core",{constructor:function(){if(sap.ui.getCore&&sap.ui.getCore()){return sap.ui.getCore()}var t=this,l=q.sap.log,M="sap.ui.core.Core";E.apply(this);this.bBooted=false;this.bInitialized=false;this.bDomReady=false;this.aPlugins=[];this.mLibraries={};this.mResourceBundles={};this.mUIAreas={};this.oModels={};this.oEventBus=null;this.mElements={};this.mObjects={"component":{},"template":{}};this.oRootComponent=null;this.aInitListeners=[];this.bInitLegacyLib=false;l.info("Creating Core",null,M);this.oConfiguration=new c(this);if(this.oConfiguration["xx-bindingSyntax"]==="complex"){sap.ui.base.ManagedObject.bindingParser=sap.ui.base.BindingParser.complexParser}if(this.oConfiguration["xx-designMode"]==true){sap.ui.base.BindingParser._keepBindingStrings=true}g.prototype.register=function(K){t.registerElementClass(K)};e.prototype.register=function(){t.registerElement(this)};e.prototype.deregister=function(){t.deregisterElement(this)};C.prototype.register=function(){t.registerObject(this)};C.prototype.deregister=function(){t.deregisterObject(this)};j.prototype.register=function(){t.registerObject(this)};j.prototype.deregister=function(){t.deregisterObject(this)};var m=this.oConfiguration.modules;if(this.oConfiguration.getDebug()){m.unshift("sap-ui-debug")}var i=q.inArray("sap.ui.core.library",m);if(i!=0){if(i>0){m.splice(i,1)}m.unshift("sap.ui.core.library")}l.info("Declared modules: "+m,M);var o=window["sap-ui-config"];if(this.oConfiguration.themeRoot){o=o||{};o.themeroots=o.themeroots||{};o.themeroots[this.oConfiguration.getTheme()]=this.oConfiguration.themeRoot}if(o){if(o.themeroots){for(var f in o.themeroots){var n=o.themeroots[f];if(typeof n==="string"){this.setThemeRoot(f,n)}else{for(var p in n){if(p.length>0){this.setThemeRoot(f,[p],n[p])}else{this.setThemeRoot(f,n[p])}}}}}}this.sTheme=this.oConfiguration.getTheme();q(document.documentElement).addClass("sapUiTheme-"+this.sTheme);l.info("Declared theme "+this.sTheme,null,M);if(this.oConfiguration.getRTL()){q(document.documentElement).attr("dir","rtl");l.info("RTL mode activated",null,M)}var $=q("html");var b=D.browser;var s=b.name;if(s===b.BROWSER.CHROME){q.browser.safari=false;q.browser.chrome=true}else if(s===b.BROWSER.SAFARI){q.browser.safari=true;q.browser.chrome=false;if(b.mobile){s="m"+s}}if(s){q.browser.fVersion=b.version;q.browser.mobile=b.mobile;s=s+Math.floor(b.version);$.attr("data-sap-ui-browser",s);l.debug("Browser-Id: "+s,null,M)}$.attr("data-sap-ui-os",D.os.name+D.os.versionStr);var u=null;switch(D.os.name){case D.os.OS.IOS:u="sap-ios";break;case D.os.OS.ANDROID:u="sap-android";break;case D.os.OS.BLACKBERRY:u="sap-bb";break;case D.os.OS.WINDOWS_PHONE:u="sap-winphone";break}if(u){$.addClass(u)}if(this.oConfiguration.getWeinreId()){l.info("Starting WEINRE Remote Web Inspector");var w="<script src=\"";w+=this.oConfiguration.getWeinreServer();w+="/target/target-script-min.js#";w+=q.sap.encodeURL(this.oConfiguration.getWeinreId());w+="\"></script>";document.write(w)}sap.ui.getCore=q.sap.getter(this.getInterface());R.initHTML5Support();this.oRenderManager=new R();var S=q.sap.syncPoint("UI5 Document Ready",function(O,K){t.handleLoad()});var v=S.startTask("document.ready");var x=S.startTask("preload and boot");q(function(){l.trace("document is ready");S.finishTask(v)});var y=q.sap.syncPoint("UI5 Core Preloads and Bootstrap Script",function(O,K){l.trace("Core loaded: open="+O+", failures="+K);t._boot();S.finishTask(x)});var z=this.oConfiguration["xx-bootTask"];if(z){var A=y.startTask("custom boot task");z(function(K){y.finishTask(A,typeof K==="undefined"||K===true)})}var B=new q.sap.Version(this.oConfiguration.getCompatibilityVersion("flexBoxPolyfill"));if(B.compareTo("1.16")>=0){q.support.useFlexBoxPolyfill=false}else if(!q.support.flexBoxLayout&&!q.support.newFlexBoxLayout&&!q.support.ie10FlexBoxLayout){q.support.useFlexBoxPolyfill=true}else{q.support.useFlexBoxPolyfill=false}var H=y.startTask("bootstrap script");this.boot=function(){if(this.bBooted){return}this.bBooted=true;y.finishTask(H)};var P=this.oConfiguration.preload;if(window["sap-ui-debug"]){P=""}if(P==="auto"){P=(window["sap-ui-optimized"]&&!this.oConfiguration['xx-loadAllMode'])?"sync":""}this.oConfiguration.preload=P;if(P==="sync"||P==="async"){var I=P!=="sync";q.each(m,function(i,K){if(K.match(/\.library$/)){q.sap.preloadModules(K+"-preload",I,y)}})}var J=this.oConfiguration.getAppCacheBuster();if(J&&J.length>0){q.sap.require("sap.ui.core.AppCacheBuster");sap.ui.core.AppCacheBuster.boot(y)}},metadata:{publicMethods:["boot","isInitialized","isThemeApplied","attachInitEvent","attachInit","getRenderManager","createRenderManager","getConfiguration","setRoot","createUIArea","getUIArea","getUIDirty","getElementById","getCurrentFocusedControlId","getControl","getComponent","getTemplate","lock","unlock","isLocked","attachEvent","detachEvent","applyChanges","getEventBus","applyTheme","setThemeRoot","attachThemeChanged","detachThemeChanged","getStaticAreaRef","registerPlugin","unregisterPlugin","getLibraryResourceBundle","byId","getLoadedLibraries","loadLibrary","initLibrary","includeLibraryTheme","setModel","getModel","hasModel","isMobile","attachControlEvent","detachControlEvent","attachIntervalTimer","detachIntervalTimer","attachParseError","detachParseError","fireParseError","attachValidationError","detachValidationError","fireValidationError","attachFormatError","detachFormatError","fireFormatError","attachValidationSuccess","detachValidationSuccess","fireValidationSuccess","attachLocalizationChanged","detachLocalizationChanged","attachLibraryChanged","detachLibraryChanged","isStaticAreaRef","createComponent","getRootComponent","getApplication"]}});k.M_EVENTS={ControlEvent:"ControlEvent",UIUpdated:"UIUpdated",ThemeChanged:"ThemeChanged",LocalizationChanged:"localizationChanged",LibraryChanged:"libraryChanged",ValidationError:"validationError",ParseError:"parseError",FormatError:"formatError",ValidationSuccess:"validationSuccess"};k.prototype._boot=function(){this.lock();var b=this.oConfiguration['xx-preloadLibCss'];if(b.length>0){var A=b[0].slice(0,1)==="!";if(A){b[0]=b[0].slice(1)}if(b[0]==="*"){b.splice(0,1);var p=0;q.each(this.oConfiguration.modules,function(i,f){var m=f.match(/^(.*)\.library$/);if(m){b.splice(p,0,m[1])}})}if(!A){this.includeLibraryTheme("sap-ui-merged",undefined,"?l="+b.join(","))}}var t=this;q.each(this.oConfiguration.modules,function(i,f){var m=f.match(/^(.*)\.library$/);if(m){t.loadLibrary(m[1])}else{q.sap.require(f)}});this.unlock()};k.prototype.applyTheme=function(t,s){t=this.oConfiguration._normalizeTheme(t,s);if(s){this.setThemeRoot(t,s)}if(t&&this.sTheme!=t){var b=this.sTheme;this._updateThemeUrls(t);this.sTheme=t;this.oConfiguration._setTheme(t);q(document.documentElement).removeClass("sapUiTheme-"+b).addClass("sapUiTheme-"+t);if(this.oThemeCheck){this.oThemeCheck.fireThemeChangedEvent(false,true)}}};k.prototype._updateThemeUrls=function(t){var b=this,s=this.oConfiguration.getRTL()?"-RTL":"";q("link[id^=sap-ui-theme-]").each(function(){var l=this.id.slice(13),L=this.href.slice(this.href.lastIndexOf("/")+1),S="library",H,p,$=q(this);if((p=l.indexOf("-["))>0){S+=l.slice(p+2,-1);l=l.slice(0,p)}if(L===(S+".css")||L===(S+"-RTL.css")){L=S+s+".css"}if($.attr("sap-ui-css-count")){$.remove()}H=b._getThemePath(l,t)+L;if(H!=this.href){this.href=H;$.removeAttr("sap-ui-ready")}})};k.prototype._getThemePath=function(l,t){if(this._mThemeRoots){var p=this._mThemeRoots[t+" "+l]||this._mThemeRoots[t];if(p){p=p+l.replace(/\./g,"/")+"/themes/"+t+"/";q.sap.registerModulePath(l+".themes."+t,p);return p}}return q.sap.getModulePath(l+".themes."+t,"/")};k.prototype.setThemeRoot=function(t,l,s){if(!this._mThemeRoots){this._mThemeRoots={}}if(s===undefined){s=l;l=undefined}s=s+(s.slice(-1)=="/"?"":"/");if(l){for(var i=0;i<l.length;i++){var b=l[i];this._mThemeRoots[t+" "+b]=s}}else{this._mThemeRoots[t]=s}return this};k.prototype.init=function(){if(this.bInitialized){return}var b=q.sap.log,M="sap.ui.core.Core.init()";this.boot();b.info("Initializing",null,M);this.oFocusHandler=new F(document.body,this);this.oResizeHandler=new h(this);this.oThemeCheck=new T(this);b.info("Initialized",null,M);this.bInitialized=true;b.info("Starting Plugins",null,M);this.startPlugins();b.info("Plugins started",null,M);var o=this.oConfiguration;if(o.areas){for(var i=0,l=o.areas.length;i<l;i++){this.createUIArea(o.areas[i])}o.areas=undefined}if(o.onInit){if(typeof o.onInit==="function"){o.onInit()}else{q.sap.globalEval(o.onInit)}o.onInit=undefined}this.oThemeCheck.fireThemeChangedEvent(true);var s=o.getRootComponent();if(s){b.info("Loading Root Component: "+s,null,M);var m=sap.ui.component({name:s});this.oRootComponent=m;var n=o["xx-rootComponentNode"];if(n&&m instanceof sap.ui.core.UIComponent){var p=q.sap.domById(n);if(p){b.info("Creating ComponentContainer for Root Component: "+s,null,M);var t=new sap.ui.core.ComponentContainer({component:m,propagateModel:true});t.placeAt(p)}}}else{var A=o.getApplication();if(A){b.warning("The configuration 'application' is deprecated. Please use the configuration 'component' instead! Please migrate from sap.ui.app.Application to sap.ui.core.Component.");b.info("Loading Application: "+A,null,M);q.sap.require(A);var u=q.sap.getObject(A);var v=new u()}}var w=this.aInitListeners;this.aInitListeners=undefined;if(w&&w.length>0){b.info("Fire Loaded Event",null,M);q.each(w,function(i,f){f()})}this.renderPendingUIUpdates()};k.prototype.handleLoad=function(){this.bDomReady=true;var w=this.isLocked();if(!w){this.lock()}this.init();if(!w){this.unlock()}};k.prototype.isInitialized=function(){return this.bInitialized};k.prototype.isThemeApplied=function(){return T.themeLoaded};k.prototype.attachInitEvent=function(f){if(this.aInitListeners){this.aInitListeners.push(f)}};k.prototype.attachInit=function(f){if(this.aInitListeners){this.aInitListeners.push(f)}else{f()}};k.prototype.lock=function(){this.bLocked=true};k.prototype.unlock=function(){this.bLocked=false};k.prototype.isLocked=function(){return this.bLocked};k.prototype.getConfiguration=function(){return this.oConfiguration};k.prototype.getRenderManager=function(){return this.createRenderManager()};k.prototype.createRenderManager=function(){return(new R()).getInterface()};k.prototype.getCurrentFocusedControlId=function(){if(!this.isInitialized()){throw new Error("Core must be initialized")}return this.oFocusHandler.getCurrentFocusedControlId()};k.prototype.loadLibrary=function(l,u){if(!this.mLibraries[l]){var m=l+".library",A;if(u){q.sap.registerModulePath(l,u)}if(this.oConfiguration['xx-loadAllMode']&&!q.sap.isDeclared(m)){A=m+"-all";q.sap.log.debug("load all-in-one file "+A);q.sap.require(A)}else if(this.oConfiguration.preload==='sync'||this.oConfiguration.preload==='async'){q.sap.preloadModules(m+"-preload",false)}q.sap.require(m);if(!this.mLibraries[l]){q.sap.log.warning("library "+l+" didn't initialize itself");this.initLibrary(l)}if(this.oThemeCheck&&this.isInitialized()){this.oThemeCheck.fireThemeChangedEvent(true)}}return this.mLibraries[l]};k.prototype.createComponent=function(v,u,i,s){if(typeof v==="string"){v={name:v,url:u};if(typeof i==="object"){v.settings=i}else{v.id=i;v.settings=s}}return sap.ui.component(v)};k.prototype.getRootComponent=function(){return this.oRootComponent};k.prototype.initLibrary=function(l){var L=typeof l==="string",o=L?{name:l}:l,s=o.name,b=q.sap.log,M="sap.ui.core.Core.initLibrary()";if(L){b.warning("[Deprecated] library "+s+" uses old fashioned initLibrary() call (rebuild with newest generator)")}if(!s||this.mLibraries[s]){return}b.debug("Analyzing Library "+s,null,M);this.mLibraries[s]=o=q.extend({dependencies:[],types:[],interfaces:[],controls:[],elements:[]},o);function f(){var p=q.sap.properties({url:sap.ui.resource(s,"library.properties")});o.version=p.getProperty(s+"[version]");var t=p.getProperty(s+"[dependencies]");b.debug("Required Libraries: "+t,null,M);o.dependencies=(t&&t.split(/[,;| ]/))||[];var K=p.getKeys(),u=/(.+)\.(type|interface|control|element)$/,v;for(var i=0;i<K.length;i++){var w=p.getProperty(K[i]);if(v=w.match(u)){o[v[2]+"s"].push(K[i])}}}if(L){f()}for(var i=0;i<o.dependencies.length;i++){var m=o.dependencies[i];b.debug("resolve Dependencies to "+m,null,M);if(!this.mLibraries[m]){b.warning("Dependency from "+s+" to "+m+" has not been resolved by library itself",null,M);this.loadLibrary(m)}}a.registerInterfaceTypes(o.interfaces);var n=o.controls.concat(o.elements);for(var i=0;i<n.length;i++){sap.ui.lazyRequire(n[i],"new extend getMetadata")}if(!o.noLibraryCSS&&q.inArray(s,this.oConfiguration['xx-preloadLibCss'])<0){this.includeLibraryTheme(s)}o.sName=o.name;o.aControls=o.controls;if(!q.sap.isDeclared(s+".library")){b.warning("Library Module "+s+".library"+" not loaded automatically",null,M);q.sap.require(s+".library")}this.fireLibraryChanged({name:s,stereotype:"library",operation:"add",metadata:o})};k.prototype.includeLibraryTheme=function(l,v,Q){if((l!="sap.ui.legacy")&&(l!="sap.ui.classic")){if(!v){v=""}var s=(this.oConfiguration.getRTL()?"-RTL":"");var L,b=l+(v.length>0?"-["+v+"]":v);if(l&&l.indexOf(":")==-1){L="library"+v+s}else{L=l.substring(l.indexOf(":")+1)+v;l=l.substring(0,l.indexOf(":"))}var f=this._getThemePath(l,this.sTheme)+L+".css"+(Q?Q:"");q.sap.log.info("Including "+f+" -  sap.ui.core.Core.includeLibraryTheme()");q.sap.includeStyleSheet(f,"sap-ui-theme-"+b);if(sap.ui.core.theming&&sap.ui.core.theming.Parameters){sap.ui.core.theming.Parameters._addLibraryTheme(b)}}};k.prototype.getLoadedLibraries=function(){return q.extend({},this.mLibraries)};k.prototype.getLibraryResourceBundle=function(l,L){l=l||"sap.ui.core";L=L||this.getConfiguration().getLanguage();var K=l+"/"+L;if(!this.mResourceBundles[K]){var u=sap.ui.resource(l,'messagebundle.properties');this.mResourceBundles[K]=q.sap.resources({url:u,locale:L})}return this.mResourceBundles[K]};k.prototype.setRoot=function(o,b){if(b){b.placeAt(o,"only")}};k.prototype.createUIArea=function(o){var t=this;if(!o){throw new Error("oDomRef must not be null")}if(typeof(o)==="string"){var i=o;o=q.sap.domById(o);if(!o){throw new Error("DOM element with ID '"+i+"' not found in page, but application tries to insert content.")}}if(!o.id||o.id.length==0){o.id=q.sap.uid()}var I=o.id;if(!this.mUIAreas[I]){this.mUIAreas[I]=new U(this,o);q.each(this.oModels,function(n,m){t.mUIAreas[I].oPropagatedProperties.oModels[n]=m});this.mUIAreas[I].propagateProperties(true)}else{this.mUIAreas[I].setRootNode(o)}return this.mUIAreas[I]};k.prototype.getUIArea=function(o){var i="";if(typeof(o)=="string"){i=o}else{i=o.id}if(i){return this.mUIAreas[i]}return null};var r=U._oRenderLog;k.prototype.addInvalidatedUIArea=function(u){if(!this._sRerenderTimer){r.debug("Registering timer for delayed re-rendering");this._sRerenderTimer=q.sap.delayedCall(0,this,"renderPendingUIUpdates")}};k.MAX_RENDERING_ITERATIONS=20;k.prototype.renderPendingUIUpdates=function(){r.debug("Render pending UI updates: start");q.sap.measure.start("renderPendingUIUpdates","Render pending UI updates in all UIAreas");var u=false,l=k.MAX_RENDERING_ITERATIONS>0,L=0;this._bRendering=true;do{if(l){L++;if(L>k.MAX_RENDERING_ITERATIONS){this._bRendering=false;throw new Error("Rendering has been re-started too many times ("+L+"). Add URL parameter sap-ui-xx-debugRendering=true for a detailed analysis.")}if(L>1){r.debug("Render pending UI updates: iteration "+L)}}if(this._sRerenderTimer){q.sap.clearDelayedCall(this._sRerenderTimer);this._sRerenderTimer=undefined}var m=this.mUIAreas;for(var i in m){u=m[i].rerender()||u}}while(l&&this._sRerenderTimer);this._bRendering=false;if(u){this.fireUIUpdated()}r.debug("Render pending UI updates: finished");q.sap.measure.end("renderPendingUIUpdates")};k.prototype.getUIDirty=function(){return!!(this._sRerenderTimer||this._bRendering)};k.prototype.attachUIUpdated=function(f,l){this.attachEvent(k.M_EVENTS.UIUpdated,f,l)};k.prototype.detachUIUpdated=function(f,l){this.detachEvent(k.M_EVENTS.UIUpdated,f,l)};k.prototype.fireUIUpdated=function(p){this.fireEvent(k.M_EVENTS.UIUpdated,p)};k.prototype.attachThemeChanged=function(f,l){this.attachEvent(k.M_EVENTS.ThemeChanged,f,l)};k.prototype.detachThemeChanged=function(f,l){this.detachEvent(k.M_EVENTS.ThemeChanged,f,l)};k.prototype.fireThemeChanged=function(p){q.sap.scrollbarSize(true);if(sap.ui.core.theming&&sap.ui.core.theming.Parameters){sap.ui.core.theming.Parameters.reset(true)}var s=k.M_EVENTS.ThemeChanged;var o=q.Event(s);o.theme=p?p.theme:null;q.each(this.mElements,function(i,b){b._handleEvent(o)});q.sap.act.refresh();this.fireEvent(s,p)};k.prototype.attachLocalizationChanged=function(f,l){this.attachEvent(k.M_EVENTS.LocalizationChanged,f,l)};k.prototype.detachLocalizationChanged=function(f,l){this.detachEvent(k.M_EVENTS.LocalizationChanged,f,l)};k.prototype.fireLocalizationChanged=function(m){var t=this,s=k.M_EVENTS.LocalizationChanged,b=q.Event(s,{changes:m}),A=sap.ui.base.ManagedObject._handleLocalizationChange,f=[];q.each(m,function(i,v){f.push(i)});q.sap.log.info("localization settings changed: "+f.join(","),null,"sap.ui.core.Core");q.each(this.oModels,function(N,M){if(M&&M._handleLocalizationChange){M._handleLocalizationChange()}});function n(p){q.each(this.mUIAreas,function(){A.call(this,p)});q.each(this.mObjects["component"],function(){A.call(this,p)});q.each(this.mElements,function(){A.call(this,p)})}n.call(this,1);n.call(this,2);if(m.rtl!=undefined){q(document.documentElement).attr("dir",m.rtl?"rtl":"ltr");this._updateThemeUrls(this.sTheme);q.each(this.mUIAreas,function(){this.invalidate()});q.sap.log.info("RTL mode "+m.rtl?"activated":"deactivated")}q.each(this.mElements,function(i,o){this._handleEvent(b)});this.fireEvent(s,{changes:m})};k.prototype.attachLibraryChanged=function(f,l){this.attachEvent(k.M_EVENTS.LibraryChanged,f,l)};k.prototype.detachLibraryChanged=function(f,l){this.detachEvent(k.M_EVENTS.LibraryChanged,f,l)};k.prototype.fireLibraryChanged=function(p){this.fireEvent(k.M_EVENTS.LibraryChanged,p)};k.prototype.applyChanges=function(){this.renderPendingUIUpdates()};k.prototype.registerElementClass=function(m){var n=m.getName(),l=m.getLibraryName()||"",L=this.mLibraries[l],b=d.prototype.isPrototypeOf(m.getClass().prototype),f=false;if(!L){L=this.mLibraries[l]={dependencies:[],types:[],interfaces:[],controls:[],elements:[]}}if(b){if(q.inArray(n,L.controls)<0){L.controls.push(n);f=true}}else{if(q.inArray(n,L.elements)<0){L.elements.push(n);f=true}}if(f){q.sap.log.debug("Class "+m.getName()+" registered for library "+m.getLibraryName());this.fireLibraryChanged({name:m.getName(),stereotype:m.getStereotype(),operation:"add",metadata:m})}};k.prototype.registerElement=function(o){var b=this.byId(o.getId());if(b&&b!==o){if(this.oConfiguration.getNoDuplicateIds()){q.sap.log.error("adding element with duplicate id '"+o.getId()+"'");throw new Error("Error: adding element with duplicate id '"+o.getId()+"'")}else{q.sap.log.warning("adding element with duplicate id '"+o.getId()+"'")}}this.mElements[o.getId()]=o};k.prototype.deregisterElement=function(o){delete this.mElements[o.getId()]};k.prototype.registerObject=function(o){var i=o.getId(),t=o.getMetadata().getStereotype(),b=this.getObject(t,i);if(b&&b!==o){q.sap.log.error("adding object \""+t+"\" with duplicate id '"+i+"'");throw new Error("Error: adding object \""+t+"\" with duplicate id '"+i+"'")}this.mObjects[t][i]=o};k.prototype.deregisterObject=function(o){var i=o.getId(),t=o.getMetadata().getStereotype();delete this.mObjects[t][i]};k.prototype.byId=function(i){return i==null?undefined:this.mElements[i]};k.prototype.getControl=k.prototype.byId;k.prototype.getElementById=k.prototype.byId;k.prototype.getObject=function(t,i){return i==null?undefined:this.mObjects[t]&&this.mObjects[t][i]};k.prototype.getComponent=function(i){return this.getObject("component",i)};k.prototype.getTemplate=function(i){return this.getObject("template",i)};k.prototype.getStaticAreaRef=function(){var s="sap-ui-static";var S=q.sap.domById(s);if(!S){if(!this.bDomReady){throw new Error("DOM is not ready yet. Static UIArea cannot be created.")}var l=this.getConfiguration().getRTL()?"right":"left";S=q("<DIV/>",{id:s}).css({"height":"0","width":"0","overflow":"hidden","float":l}).prependTo(document.body)[0];this.createUIArea(S).bInitial=false}return S};k.prototype.isStaticAreaRef=function(o){return o&&(o.id==="sap-ui-static")};k._I_INTERVAL=200;h.prototype.I_INTERVAL=k._I_INTERVAL;k.prototype.attachIntervalTimer=function(f,l){if(!this.oTimedTrigger){q.sap.require("sap.ui.core.IntervalTrigger");this.oTimedTrigger=new sap.ui.core.IntervalTrigger(k._I_INTERVAL)}this.oTimedTrigger.addListener(f,l)};k.prototype.detachIntervalTimer=function(f,l){if(this.oTimedTrigger){this.oTimedTrigger.removeListener(f,l)}};k.prototype.attachControlEvent=function(f,l){this.attachEvent(k.M_EVENTS.ControlEvent,f,l)};k.prototype.detachControlEvent=function(f,l){this.detachEvent(k.M_EVENTS.ControlEvent,f,l)};k.prototype.fireControlEvent=function(p){this.fireEvent(k.M_EVENTS.ControlEvent,p)};k.prototype._handleControlEvent=function(o,u){var b=q.Event(o.type);q.extend(b,o);b.originalEvent=undefined;this.fireControlEvent({"browserEvent":b,"uiArea":u})};k.prototype.getApplication=function(){return sap.ui.getApplication&&sap.ui.getApplication()};k.prototype.registerPlugin=function(p){if(!p){return}for(var i=0,l=this.aPlugins.length;i<l;i++){if(this.aPlugins[i]===p){return}}this.aPlugins.push(p);if(this.bInitialized&&p&&p.startPlugin){p.startPlugin(this)}};k.prototype.unregisterPlugin=function(p){if(!p){return}var P=-1;for(var i=this.aPlugins.length;i--;i>=0){if(this.aPlugins[i]===p){P=i;break}}if(P==-1){return}if(this.bInitialized&&p&&p.stopPlugin){p.stopPlugin(this)}this.aPlugins.splice(P,1)};k.prototype.startPlugins=function(){for(var i=0,l=this.aPlugins.length;i<l;i++){var p=this.aPlugins[i];if(p&&p.startPlugin){p.startPlugin(this,true)}}};k.prototype.stopPlugins=function(){for(var i=0,l=this.aPlugins.length;i<l;i++){var p=this.aPlugins[i];if(p&&p.stopPlugin){p.stopPlugin(this)}}};k.prototype.setModel=function(m,n){if(!m&&this.oModels[n]){delete this.oModels[n];q.each(this.mUIAreas,function(i,u){delete u.oPropagatedProperties.oModels[n];u.propagateProperties(n)})}else if(m&&m!==this.oModels[n]){this.oModels[n]=m;q.each(this.mUIAreas,function(i,u){u.oPropagatedProperties.oModels[n]=m;u.propagateProperties(n)})}else{}return this};k.prototype.getModel=function(n){return this.oModels[n]};k.prototype.hasModel=function(){return!q.isEmptyObject(this.oModels)};k.prototype.getEventBus=function(){if(!this.oEventBus){q.sap.require("sap.ui.core.EventBus");this.oEventBus=new sap.ui.core.EventBus()}return this.oEventBus};k.prototype.attachValidationError=function(f,l){this.attachEvent(k.M_EVENTS.ValidationError,f,l);return this};k.prototype.detachValidationError=function(f,l){this.detachEvent(k.M_EVENTS.ValidationError,f,l);return this};k.prototype.attachParseError=function(f,l){this.attachEvent(k.M_EVENTS.ParseError,f,l);return this};k.prototype.detachParseError=function(f,l){this.detachEvent(k.M_EVENTS.ParseError,f,l);return this};k.prototype.attachFormatError=function(f,l){this.attachEvent(k.M_EVENTS.FormatError,f,l);return this};k.prototype.detachFormatError=function(f,l){this.detachEvent(k.M_EVENTS.FormatError,f,l);return this};k.prototype.attachValidationSuccess=function(f,l){this.attachEvent(k.M_EVENTS.ValidationSuccess,f,l);return this};k.prototype.detachValidationSuccess=function(f,l){this.detachEvent(k.M_EVENTS.ValidationSuccess,f,l);return this};k.prototype.fireParseError=function(A){this.fireEvent(k.M_EVENTS.ParseError,A);return this};k.prototype.fireValidationError=function(A){this.fireEvent(k.M_EVENTS.ValidationError,A);return this};k.prototype.fireFormatError=function(A){this.fireEvent(k.M_EVENTS.FormatError,A);return this};k.prototype.fireValidationSuccess=function(A){this.fireEvent(k.M_EVENTS.ValidationSuccess,A);return this};k.prototype.isMobile=function(){return D.browser.mobile};if(!window.sap.ui.getCore){(function(){new k()}())}sap.ui.setRoot=function(o,b){sap.ui.getCore().setRoot(o,b)};return k},true)},"sap/ui/unified/Shell.js":function(){jQuery.sap.declare("sap.ui.unified.Shell");jQuery.sap.require("sap.ui.unified.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.ui.unified.Shell",{metadata:{library:"sap.ui.unified",properties:{"icon":{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},"showPane":{type:"boolean",group:"Appearance",defaultValue:null},"showCurtain":{type:"boolean",group:"Appearance",defaultValue:null,deprecated:true},"showCurtainPane":{type:"boolean",group:"Appearance",defaultValue:null,deprecated:true},"headerHiding":{type:"boolean",group:"Appearance",defaultValue:null},"headerVisible":{type:"boolean",group:"Appearance",defaultValue:true},"searchVisible":{type:"boolean",group:"Appearance",defaultValue:true}},defaultAggregation:"content",aggregations:{"content":{type:"sap.ui.core.Control",multiple:true,singularName:"content"},"paneContent":{type:"sap.ui.core.Control",multiple:true,singularName:"paneContent"},"curtainContent":{type:"sap.ui.core.Control",multiple:true,singularName:"curtainContent"},"curtainPaneContent":{type:"sap.ui.core.Control",multiple:true,singularName:"curtainPaneContent"},"headItems":{type:"sap.ui.unified.ShellHeadItem",multiple:true,singularName:"headItem"},"headEndItems":{type:"sap.ui.unified.ShellHeadItem",multiple:true,singularName:"headEndItem"},"search":{type:"sap.ui.core.Control",multiple:false},"canvasSplitContainer":{type:"sap.ui.unified.SplitContainer",multiple:false,visibility:"hidden"},"curtainSplitContainer":{type:"sap.ui.unified.SplitContainer",multiple:false,visibility:"hidden"},"user":{type:"sap.ui.unified.ShellHeadUserItem",multiple:false}}}});jQuery.sap.require("sap.ui.Device");jQuery.sap.require("jquery.sap.script");jQuery.sap.require("jquery.sap.dom");jQuery.sap.require("sap.ui.unified.SplitContainer");jQuery.sap.require("sap.ui.core.Popup");jQuery.sap.require("sap.ui.core.theming.Parameters");sap.ui.unified.Shell._SIDEPANE_WIDTH_PHONE=208;sap.ui.unified.Shell._SIDEPANE_WIDTH_TABLET=208;sap.ui.unified.Shell._SIDEPANE_WIDTH_DESKTOP=240;sap.ui.unified.Shell._HEADER_ALWAYS_VISIBLE=true;sap.ui.unified.Shell._HEADER_AUTO_CLOSE=true;sap.ui.unified.Shell._HEADER_TOUCH_TRESHOLD=30;if(sap.ui.Device.browser.chrome){sap.ui.unified.Shell._HEADER_TOUCH_TRESHOLD=sap.ui.Device.browser.version<36?10:15}sap.ui.unified.Shell.prototype.init=function(){var t=this;this._rtl=sap.ui.getCore().getConfiguration().getRTL();this._animation=sap.ui.getCore().getConfiguration().getAnimation();this._showHeader=true;this._iHeaderHidingDelay=3000;this._useStrongBG=false;this._cont=new sap.ui.unified.SplitContainer(this.getId()+"-container");this._cont._bRootContent=true;this.setAggregation("canvasSplitContainer",this._cont,true);this._curtCont=new sap.ui.unified.SplitContainer(this.getId()+"-curt-container");this._curtCont._bRootContent=true;this.setAggregation("curtainSplitContainer",this._curtCont,true);function _(r){if(!r){r=sap.ui.Device.media.getCurrentRange(sap.ui.Device.media.RANGESETS.SAP_STANDARD).name}var w=sap.ui.unified.Shell["_SIDEPANE_WIDTH_"+r.toUpperCase()]+"px";t._cont.setSecondaryContentSize(w);t._curtCont.setSecondaryContentSize(w)};_();this._handleMediaChange=function(p){if(!t.getDomRef()){return}_(p.name);t._refreshHeader()};sap.ui.Device.media.attachHandler(this._handleMediaChange,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);this._handleResizeChange=function(p){if(!t.getDomRef()||!t.getUser()){return}var u=this.getUser();var c=u._checkAndAdaptWidth(!this.$("hdr-search").hasClass("sapUiUfdShellHidden")&&!!this.getSearch());if(c){t._refreshHeader()}};sap.ui.Device.resize.attachHandler(this._handleResizeChange,this);function a(){t._refreshHeader()};this._headCenterRenderer=new sap.ui.unified._ContentRenderer(this,this.getId()+"-hdr-center",function(r){sap.ui.unified.ShellRenderer.renderSearch(r,t)},a);this._headBeginRenderer=new sap.ui.unified._ContentRenderer(this,this.getId()+"-hdr-begin",function(r){sap.ui.unified.ShellRenderer.renderHeaderItems(r,t,true)},a);this._headEndRenderer=new sap.ui.unified._ContentRenderer(this,this.getId()+"-hdr-end",function(r){sap.ui.unified.ShellRenderer.renderHeaderItems(r,t,false)},a)};sap.ui.unified.Shell.prototype.exit=function(){sap.ui.Device.media.detachHandler(this._handleMediaChange,this,sap.ui.Device.media.RANGESETS.SAP_STANDARD);delete this._handleMediaChange;sap.ui.Device.resize.detachHandler(this._handleResizeChange,this);delete this._handleResizeChange;this._headCenterRenderer.destroy();delete this._headCenterRenderer;this._headBeginRenderer.destroy();delete this._headBeginRenderer;this._headEndRenderer.destroy();delete this._headEndRenderer;delete this._cont;delete this._curtCont};sap.ui.unified.Shell.prototype.onAfterRendering=function(){var t=this;if(window.addEventListener&&!sap.ui.unified.Shell._HEADER_ALWAYS_VISIBLE){function h(b){var e=jQuery.event.fix(b);if(jQuery.sap.containsOrEquals(t.getDomRef("hdr"),e.target)){t._timedHideHeader(e.type==="focus")}};var H=this.getDomRef("hdr");H.addEventListener("focus",h,true);H.addEventListener("blur",h,true)}this._refreshAfterRendering();this.$("hdr-center").toggleClass("sapUiUfdShellAnim",!this._noHeadCenterAnim)};sap.ui.unified.Shell.prototype.onThemeChanged=function(){if(this._refreshAfterRendering()&&this._headBeginRenderer){this._headBeginRenderer.render()}};sap.ui.unified.Shell.prototype.onfocusin=function(e){var i=this.getId();if(e.target.id===i+"-curt-focusDummyOut"){jQuery.sap.focus(this.$("hdrcntnt").firstFocusableDomRef())}else if(e.target.id===i+"-main-focusDummyOut"){jQuery.sap.focus(this.$("curtcntnt").firstFocusableDomRef())}};(function(){if(sap.ui.Device.support.touch){sap.ui.unified.Shell._HEADER_ALWAYS_VISIBLE=false;function _(s){if(s._startY===undefined||s._currY===undefined){return}var y=s._currY-s._startY;if(Math.abs(y)>sap.ui.unified.Shell._HEADER_TOUCH_TRESHOLD){s._doShowHeader(y>0);s._startY=s._currY}};sap.ui.unified.Shell.prototype.ontouchstart=function(e){this._startY=e.touches[0].pageY;if(this._startY>2*48){this._startY=undefined}this._currY=this._startY};sap.ui.unified.Shell.prototype.ontouchend=function(e){_(this);this._startY=undefined;this._currY=undefined};sap.ui.unified.Shell.prototype.ontouchcancel=sap.ui.unified.Shell.prototype.ontouchend;sap.ui.unified.Shell.prototype.ontouchmove=function(e){this._currY=e.touches[0].pageY;_(this)}}})();sap.ui.unified.Shell.prototype.setHeaderHiding=function(e){e=!!e;return this._mod(function(r){return this.setProperty("headerHiding",e,r)},function(){this._doShowHeader(!e?true:this._showHeader)})};sap.ui.unified.Shell.prototype.setHeaderHidingDelay=function(d){this._iHeaderHidingDelay=d;return this};sap.ui.unified.Shell.prototype.getHeaderHidingDelay=function(){return this._iHeaderHidingDelay};sap.ui.unified.Shell.prototype.getShowPane=function(){return this._cont.getShowSecondaryContent()};sap.ui.unified.Shell.prototype.setShowPane=function(s){this._cont.setShowSecondaryContent(s);this.setProperty("showPane",!!s,true);return this};sap.ui.unified.Shell.prototype.getShowPane=function(){return this._cont.getShowSecondaryContent()};sap.ui.unified.Shell.prototype.setShowCurtainPane=function(s){this._curtCont.setShowSecondaryContent(s);this.setProperty("showCurtainPane",!!s,true);return this};sap.ui.unified.Shell.prototype.getShowCurtainPane=function(){return this._curtCont.getShowSecondaryContent()};sap.ui.unified.Shell.prototype.setShowCurtain=function(s){s=!!s;return this._mod(function(r){return this.setProperty("showCurtain",s,r)},function(){this.$("main-focusDummyOut").attr("tabindex",s?0:-1);this.$().toggleClass("sapUiUfdShellCurtainHidden",!s).toggleClass("sapUiUfdShellCurtainVisible",s);if(s){var z=sap.ui.core.Popup.getNextZIndex();this.$("curt").css("z-index",z+1);this.$("hdr").css("z-index",z+3);this.$("brand").css("z-index",z+7);this.$().toggleClass("sapUiUfdShellCurtainClosed",false)}this._timedCurtainClosed(s);this._doShowHeader(true)})};sap.ui.unified.Shell.prototype.setIcon=function(i){return this._mod(function(r){return this.setProperty("icon",i,r)},this._headBeginRenderer)};sap.ui.unified.Shell.prototype.setSearchVisible=function(s){var S=this.getSearchVisible(),s=!!s,$=this.$("hdr-search");if(S==s){return}$.toggleClass("sapUiUfdShellHidden",!s);return this.setProperty("searchVisible",s,true)};sap.ui.unified.Shell.prototype.setHeaderVisible=function(h){h=!!h;this.setProperty("headerVisible",h,true);this.$().toggleClass("sapUiUfdShellNoHead",!h);if(h){this._refreshHeader()}return this};sap.ui.unified.Shell.prototype.setSearch=function(s){return this._mod(function(r){this.setAggregation("search",s,r);this.$().toggleClass("sapUiUfdShellWithSearch",!!s);return this},this._headCenterRenderer)};sap.ui.unified.Shell.prototype.setUser=function(u){return this._mod(function(r){return this.setAggregation("user",u,r)},this._headEndRenderer)};sap.ui.unified.Shell.prototype.getContent=function(){return this._cont.getContent()};sap.ui.unified.Shell.prototype.insertContent=function(c,i){this._cont.insertContent(c,i);return this};sap.ui.unified.Shell.prototype.addContent=function(c){this._cont.addContent(c);return this};sap.ui.unified.Shell.prototype.removeContent=function(i){return this._cont.removeContent(i)};sap.ui.unified.Shell.prototype.removeAllContent=function(){return this._cont.removeAllContent()};sap.ui.unified.Shell.prototype.destroyContent=function(){this._cont.destroyContent();return this};sap.ui.unified.Shell.prototype.indexOfContent=function(c){return this._cont.indexOfContent(c)};sap.ui.unified.Shell.prototype.getPaneContent=function(){return this._cont.getSecondaryContent()};sap.ui.unified.Shell.prototype.insertPaneContent=function(c,i){this._cont.insertSecondaryContent(c,i);return this};sap.ui.unified.Shell.prototype.addPaneContent=function(c){this._cont.addSecondaryContent(c);return this};sap.ui.unified.Shell.prototype.removePaneContent=function(i){return this._cont.removeSecondaryContent(i)};sap.ui.unified.Shell.prototype.removeAllPaneContent=function(){return this._cont.removeAllSecondaryContent()};sap.ui.unified.Shell.prototype.destroyPaneContent=function(){this._cont.destroySecondaryContent();return this};sap.ui.unified.Shell.prototype.indexOfPaneContent=function(c){return this._cont.indexOfSecondaryContent(c)};sap.ui.unified.Shell.prototype.getCurtainContent=function(){return this._curtCont.getContent()};sap.ui.unified.Shell.prototype.insertCurtainContent=function(c,i){this._curtCont.insertContent(c,i);return this};sap.ui.unified.Shell.prototype.addCurtainContent=function(c){this._curtCont.addContent(c);return this};sap.ui.unified.Shell.prototype.removeCurtainContent=function(i){return this._curtCont.removeContent(i)};sap.ui.unified.Shell.prototype.removeAllCurtainContent=function(){return this._curtCont.removeAllContent()};sap.ui.unified.Shell.prototype.destroyCurtainContent=function(){this._curtCont.destroyContent();return this};sap.ui.unified.Shell.prototype.indexOfCurtainContent=function(c){return this._curtCont.indexOfCurtainContent(c)};sap.ui.unified.Shell.prototype.getCurtainPaneContent=function(){return this._curtCont.getSecondaryContent()};sap.ui.unified.Shell.prototype.insertCurtainPaneContent=function(c,i){this._curtCont.insertSecondaryContent(c,i);return this};sap.ui.unified.Shell.prototype.addCurtainPaneContent=function(c){this._curtCont.addSecondaryContent(c);return this};sap.ui.unified.Shell.prototype.removeCurtainPaneContent=function(i){return this._curtCont.removeSecondaryContent(i)};sap.ui.unified.Shell.prototype.removeAllCurtainPaneContent=function(){return this._curtCont.removeAllSecondaryContent()};sap.ui.unified.Shell.prototype.destroyCurtainPaneContent=function(){this._curtCont.destroySecondaryContent();return this};sap.ui.unified.Shell.prototype.indexOfCurtainPaneContent=function(c){return this._curtCont.indexOfSecondaryContent(c)};sap.ui.unified.Shell.prototype.insertHeadItem=function(h,i){return this._mod(function(r){return this.insertAggregation("headItems",h,i,r)},this._headBeginRenderer)};sap.ui.unified.Shell.prototype.addHeadItem=function(h){return this._mod(function(r){return this.addAggregation("headItems",h,r)},this._headBeginRenderer)};sap.ui.unified.Shell.prototype.removeHeadItem=function(i){return this._mod(function(r){return this.removeAggregation("headItems",i,r)},this._headBeginRenderer)};sap.ui.unified.Shell.prototype.removeAllHeadItems=function(){return this._mod(function(r){return this.removeAllAggregation("headItems",r)},this._headBeginRenderer)};sap.ui.unified.Shell.prototype.destroyHeadItems=function(){return this._mod(function(r){return this.destroyAggregation("headItems",r)},this._headBeginRenderer)};sap.ui.unified.Shell.prototype.insertHeadEndItem=function(h,i){return this._mod(function(r){return this.insertAggregation("headEndItems",h,i,r)},this._headEndRenderer)};sap.ui.unified.Shell.prototype.addHeadEndItem=function(h){return this._mod(function(r){return this.addAggregation("headEndItems",h,r)},this._headEndRenderer)};sap.ui.unified.Shell.prototype.removeHeadEndItem=function(i){return this._mod(function(r){return this.removeAggregation("headEndItems",i,r)},this._headEndRenderer)};sap.ui.unified.Shell.prototype.removeAllHeadEndItems=function(){return this._mod(function(r){return this.removeAllAggregation("headEndItems",r)},this._headEndRenderer)};sap.ui.unified.Shell.prototype.destroyHeadEndItems=function(){return this._mod(function(r){return this.destroyAggregation("headEndItems",r)},this._headEndRenderer)};sap.ui.unified.Shell.prototype._setStrongBackground=function(u){this._useStrongBG=!!u;this.$("strgbg").toggleClass("sapMGlobalBackgroundColorStrong",this._useStrongBG)};sap.ui.unified.Shell.prototype._doShowHeader=function(s){var w=this._showHeader;this._showHeader=this._isHeaderHidingActive()?!!s:true;this.$().toggleClass("sapUiUfdShellHeadHidden",!this._showHeader).toggleClass("sapUiUfdShellHeadVisible",this._showHeader);if(this._showHeader){this._timedHideHeader()}if(w!=this._showHeader&&this._isHeaderHidingActive()){jQuery.sap.delayedCall(500,this,function(){try{var r=document.createEvent("UIEvents");r.initUIEvent("resize",true,false,window,0);window.dispatchEvent(r)}catch(e){jQuery.sap.log.error(e)}})}};sap.ui.unified.Shell.prototype._timedHideHeader=function(c){if(this._headerHidingTimer){jQuery.sap.clearDelayedCall(this._headerHidingTimer);this._headerHidingTimer=null}if(c||!sap.ui.unified.Shell._HEADER_AUTO_CLOSE||!this._isHeaderHidingActive()||this._iHeaderHidingDelay<=0){return}this._headerHidingTimer=jQuery.sap.delayedCall(this._iHeaderHidingDelay,this,function(){if(this._isHeaderHidingActive()&&this._iHeaderHidingDelay>0&&!jQuery.sap.containsOrEquals(this.getDomRef("hdr"),document.activeElement)){this._doShowHeader(false)}})};sap.ui.unified.Shell.prototype._timedCurtainClosed=function(c){if(this._curtainClosedTimer){jQuery.sap.clearDelayedCall(this._curtainClosedTimer);this._curtainClosedTimer=null}if(c){return}var d=parseInt(sap.ui.core.theming.Parameters.get("sapUiUfdShellAnimDuration"),10);if(!this._animation||(sap.ui.Device.browser.internet_explorer&&sap.ui.Device.browser.version<10)){d=0}this._curtainClosedTimer=jQuery.sap.delayedCall(d,this,function(){this._curtainClosedTimer=null;this.$("curt").css("z-index","");this.$("hdr").css("z-index","");this.$("brand").css("z-index","");this.$().toggleClass("sapUiUfdShellCurtainClosed",true)})};sap.ui.unified.Shell.prototype._mod=function(m,d){var r=!!this.getDomRef();var a=m.apply(this,[r]);if(r&&d){if(d instanceof sap.ui.unified._ContentRenderer){d.render()}else{d.apply(this)}}return a};sap.ui.unified.Shell.prototype._refreshHeader=function(){function u(I){for(var i=0;i<I.length;i++){I[i]._refreshIcon()}}u(this.getHeadItems());u(this.getHeadEndItems());var U=this.getUser(),a=jQuery("html").hasClass("sapUiMedia-Std-Phone"),s=!this.$("hdr-search").hasClass("sapUiUfdShellHidden"),$=this.$("icon");if(U){U._refreshImage();U._checkAndAdaptWidth(s&&!!this.getSearch())}$.parent().toggleClass("sapUiUfdShellHidden",a&&s&&!!this.getSearch());var w=this.$("hdr-end").outerWidth(),b=this.$("hdr-begin").outerWidth(),c=Math.max(w,b),d=(a&&s?b:c)+"px",e=(a&&s?w:c)+"px";this.$("hdr-center").css({"left":this._rtl?e:d,"right":this._rtl?d:e})};sap.ui.unified.Shell.prototype._getIcon=function(){var i=this.getIcon();if(!i){jQuery.sap.require("sap.ui.core.theming.Parameters");i=sap.ui.core.theming.Parameters._getThemeImage(null,true)}return i};sap.ui.unified.Shell.prototype._refreshAfterRendering=function(){var d=this.getDomRef();if(!d){return false}this._repaint(d);this._refreshHeader();this._timedHideHeader();return true};sap.ui.unified.Shell.prototype._repaint=function(d){if(sap.ui.Device.browser.webkit){var a=d.style.display;d.style.display="none";d.offsetHeight;d.style.display=a;this._refreshCSSWorkaround()}};sap.ui.unified.Shell.prototype._isHeaderHidingActive=function(){if(sap.ui.unified.Shell._HEADER_ALWAYS_VISIBLE||this.getShowCurtain()||!this.getHeaderHiding()||sap.ui.unified._iNumberOfOpenedShellOverlays>0||!this.getHeaderVisible()){return false}return true};sap.ui.unified.Shell.prototype._refreshCSSWorkaround=function(){if(!sap.ui.Device.browser.webkit||!sap.ui.Device.support.touch){return}if(this._cssWorkaroundTimer){jQuery.sap.clearDelayedCall(this._cssWorkaroundTimer);this._cssWorkaroundTimer=null}this.$("css").remove();this._cssWorkaroundTimer=jQuery.sap.delayedCall(10,this,function(){this._cssWorkaroundTimer=null;jQuery.sap.log.debug("sap.ui.unified.Shell: CSS Workaround applied.");jQuery("head").append("<link type='text/css' rel='stylesheet' id='"+this.getId()+"-css' href='data:text/css;base64,LnNhcFVpVWZkU2hlbGxDaHJvbWVSZXBhaW50e291dGxpbmUtY29sb3I6aW5pdGlhbDt9'/>");this._cssWorkaroundTimer=jQuery.sap.delayedCall(100,this,function(){this.$("css").remove()})})};sap.ui.unified.Shell.prototype.invalidate=function(o){if(o instanceof sap.ui.unified.ShellHeadItem&&this._headBeginRenderer&&this._headEndRenderer){this._headBeginRenderer.render();this._headEndRenderer.render()}else if(o instanceof sap.ui.unified.ShellHeadUserItem&&this._headEndRenderer){this._headEndRenderer.render()}else{sap.ui.core.Control.prototype.invalidate.apply(this,arguments)}}},"sap/ui/unified/ShellHeadItem.js":function(){jQuery.sap.declare("sap.ui.unified.ShellHeadItem");jQuery.sap.require("sap.ui.unified.library");jQuery.sap.require("sap.ui.core.Element");sap.ui.core.Element.extend("sap.ui.unified.ShellHeadItem",{metadata:{library:"sap.ui.unified",properties:{"startsSection":{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},"showSeparator":{type:"boolean",group:"Appearance",defaultValue:true},"selected":{type:"boolean",group:"Appearance",defaultValue:false},"showMarker":{type:"boolean",group:"Appearance",defaultValue:false,deprecated:true},"icon":{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null},"visible":{type:"boolean",group:"Appearance",defaultValue:true}},events:{"press":{}}}});sap.ui.unified.ShellHeadItem.M_EVENTS={'press':'press'};jQuery.sap.require("sap.ui.core.IconPool");sap.ui.unified.ShellHeadItem.prototype.onclick=function(e){this.firePress();e.preventDefault()};sap.ui.unified.ShellHeadItem.prototype.onsapspace=sap.ui.unified.ShellHeadItem.prototype.onclick;sap.ui.unified.ShellHeadItem.prototype.setStartsSection=function(s){s=!!s;this.setProperty("startsSection",s,true);this.$().toggleClass("sapUiUfdShellHeadItmDelim",s);return this};sap.ui.unified.ShellHeadItem.prototype.setShowSeparator=function(s){s=!!s;this.setProperty("showSeparator",s,true);this.$().toggleClass("sapUiUfdShellHeadItmSep",s);return this};sap.ui.unified.ShellHeadItem.prototype.setSelected=function(s){s=!!s;this.setProperty("selected",s,true);this.$().toggleClass("sapUiUfdShellHeadItmSel",s);return this};sap.ui.unified.ShellHeadItem.prototype.setVisible=function(v){this.setProperty("visible",!!v);return this};sap.ui.unified.ShellHeadItem.prototype.setShowMarker=function(m){m=!!m;this.setProperty("showMarker",m,true);this.$().toggleClass("sapUiUfdShellHeadItmMark",m);return this};sap.ui.unified.ShellHeadItem.prototype.setIcon=function(i){this.setProperty("icon",i,true);if(this.getDomRef()){this._refreshIcon()}return this};sap.ui.unified.ShellHeadItem.prototype._refreshIcon=function(){var i=jQuery(this.$().children()[0]);var I=this.getIcon();if(sap.ui.core.IconPool.isIconURI(I)){var o=sap.ui.core.IconPool.getIconInfo(I);i.html("").css("style","");if(o){i.text(o.content).css("font-family","'"+o.fontFamily+"'")}}else{var $=this.$("img-inner");if($.length==0||$.attr("src")!=I){i.css("style","").html("<img id='"+this.getId()+"-img-inner' src='"+jQuery.sap.encodeHTML(I)+"'></img>")}}}},"sap/ui/unified/ShellHeadUserItem.js":function(){jQuery.sap.declare("sap.ui.unified.ShellHeadUserItem");jQuery.sap.require("sap.ui.unified.library");jQuery.sap.require("sap.ui.core.Element");sap.ui.core.Element.extend("sap.ui.unified.ShellHeadUserItem",{metadata:{library:"sap.ui.unified",properties:{"username":{type:"string",group:"Appearance",defaultValue:''},"image":{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null}},events:{"press":{}}}});sap.ui.unified.ShellHeadUserItem.M_EVENTS={'press':'press'};jQuery.sap.require("sap.ui.core.IconPool");sap.ui.core.IconPool.getIconInfo("","");sap.ui.unified.ShellHeadUserItem.prototype.onclick=function(e){this.firePress();e.preventDefault()};sap.ui.unified.ShellHeadUserItem.prototype.onsapspace=sap.ui.unified.ShellHeadUserItem.prototype.onclick;sap.ui.unified.ShellHeadUserItem.prototype.setImage=function(i){this.setProperty("image",i,true);if(this.getDomRef()){this._refreshImage()}return this};sap.ui.unified.ShellHeadUserItem.prototype._refreshImage=function(){var i=this.$("img");var I=this.getImage();if(!I){i.html("").css("style","").css("display","none")}else if(sap.ui.core.IconPool.isIconURI(I)){var o=sap.ui.core.IconPool.getIconInfo(I);i.html("").css("style","");if(o){i.text(o.content).css("font-family","'"+o.fontFamily+"'")}}else{var $=this.$("img-inner");if($.length==0||$.attr("src")!=I){i.css("style","").html("<img id='"+this.getId()+"-img-inner' src='"+jQuery.sap.encodeHTML(I)+"'></img>")}}};sap.ui.unified.ShellHeadUserItem.prototype._checkAndAdaptWidth=function(s){if(!this.getDomRef()){return false}var r=this.$(),n=this.$("name");var b=r.width();r.toggleClass("sapUiUfdShellHeadUsrItmLimit",false);var m=240;if(s){m=Math.min(m,0.5*document.documentElement.clientWidth-225)}if(m<n.width()){r.toggleClass("sapUiUfdShellHeadUsrItmLimit",true)}return b!=r.width()}},"sap/ui/unified/ShellRenderer.js":function(){jQuery.sap.declare("sap.ui.unified.ShellRenderer");sap.ui.unified.ShellRenderer={};sap.ui.unified.ShellRenderer.render=function(r,s){var i=s.getId();r.write("<div");r.writeControlData(s);r.addClass("sapUiUfdShell");if(s._animation){r.addClass("sapUiUfdShellAnim")}if(s.getSearch()){r.addClass("sapUiUfdShellWithSearch")}if(!s.getHeaderVisible()){r.addClass("sapUiUfdShellNoHead")}r.addClass("sapUiUfdShellHead"+(s._showHeader?"Visible":"Hidden"));if(s.getShowCurtain()){r.addClass("sapUiUfdShellCurtainVisible")}else{r.addClass("sapUiUfdShellCurtainHidden");r.addClass("sapUiUfdShellCurtainClosed")}r.writeClasses();r.write(">");r.write("<hr id='",i,"-brand' class='sapUiUfdShellBrand'/>");r.write("<header id='",i,"-hdr'  class='sapUiUfdShellHead'><div>");r.write("<div id='",i,"-hdrcntnt' class='sapUiUfdShellCntnt'>");sap.ui.unified.ShellRenderer._renderHeaderContent(r,s);r.write("</div>","</div>","</header>");r.write("<section id='",i,"-curt' class='sapUiUfdShellCntnt sapUiUfdShellCurtain'>");r.write("<div id='",i,"-curtcntnt' class='sapUiUfdShellCntnt'>");r.renderControl(s._curtCont);r.write("</div>");r.write("<span id='",i,"-curt-focusDummyOut' tabindex='0'></span>");r.write("</section>");r.write("<div id='",i,"-cntnt' class='sapUiUfdShellCntnt sapUiUfdShellCanvas sapUiUfdShellBackground'>");r.write("<div id='",i,"-strgbg' class='sapUiUfdShellBG"+(s._useStrongBG?" sapMGlobalBackgroundColorStrong":"")+"'></div>");r.write("<div class='sapMGlobalBackgroundImage sapUiUfdShellBG'></div>");r.renderControl(s._cont);r.write("</div>");r.write("<span id='",i,"-main-focusDummyOut' tabindex='"+(s.getShowCurtain()?0:-1)+"'></span>");r.write("</div>")};sap.ui.unified.ShellRenderer._renderHeaderContent=function(r,s){var i=s.getId();r.write("<div id='",i,"-hdr-begin' class='sapUiUfdShellHeadBegin'>");sap.ui.unified.ShellRenderer.renderHeaderItems(r,s,true);r.write("</div>");r.write("<div id='",i,"-hdr-center' class='sapUiUfdShellHeadCenter'>");sap.ui.unified.ShellRenderer.renderSearch(r,s);r.write("</div>");r.write("<div id='",i,"-hdr-end' class='sapUiUfdShellHeadEnd'>");sap.ui.unified.ShellRenderer.renderHeaderItems(r,s,false);r.write("</div>")};sap.ui.unified.ShellRenderer.renderSearch=function(r,s){var S=s.getSearch();r.write("<div id='",s.getId(),"-hdr-search'");r.writeAttribute("class","sapUiUfdShellSearch"+(s.getSearchVisible()?"":" sapUiUfdShellHidden"));r.write("><div>");if(S){r.renderControl(S)}r.write("</div></div>")};sap.ui.unified.ShellRenderer.renderHeaderItems=function(r,s,b){r.write("<div class='sapUiUfdShellHeadContainer'>");var I=b?s.getHeadItems():s.getHeadEndItems();for(var i=0;i<I.length;i++){r.write("<a tabindex='0' href='javascript:void(0);'");r.writeElementData(I[i]);r.addClass("sapUiUfdShellHeadItm");if(I[i].getStartsSection()){r.addClass("sapUiUfdShellHeadItmDelim")}if(I[i].getShowSeparator()){r.addClass("sapUiUfdShellHeadItmSep")}if(!I[i].getVisible()){r.addClass("sapUiUfdShellHidden")}if(I[i].getSelected()){r.addClass("sapUiUfdShellHeadItmSel")}if(I[i].getShowMarker()){r.addClass("sapUiUfdShellHeadItmMark")}r.writeClasses();var t=I[i].getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t)}r.write("><span></span><div class='sapUiUfdShellHeadItmMarker'><div></div></div></a>")}var u=s.getUser();if(!b&&u){r.write("<a tabindex='0' href='javascript:void(0);'");r.writeElementData(u);r.addClass("sapUiUfdShellHeadUsrItm");r.writeClasses();var t=u.getTooltip_AsString();if(t){r.writeAttributeEscaped("title",t)}r.write("><span id='",u.getId(),"-img' class='sapUiUfdShellHeadUsrItmImg'></span>");r.write("<span id='"+u.getId()+"-name' class='sapUiUfdShellHeadUsrItmName'");var U=u.getUsername()||"";r.writeAttributeEscaped("title",U);r.write(">");r.writeEscaped(U);r.write("</span><span class='sapUiUfdShellHeadUsrItmExp'></span></a>")}r.write("</div>");if(b){sap.ui.unified.ShellRenderer._renderIcon(r,s)}};sap.ui.unified.ShellRenderer._renderIcon=function(r,s){var a=sap.ui.getCore().getLibraryResourceBundle("sap.ui.unified"),l=a.getText("SHELL_LOGO_TOOLTIP"),i=s._getIcon();r.write("<div class='sapUiUfdShellIco'>");r.write("<img id='",s.getId(),"-icon'");r.writeAttributeEscaped("title",l);r.writeAttributeEscaped("alt",l);r.write("src='");r.writeEscaped(i);r.write("' style='",i?"":"display:none;","'></img>");r.write("</div>")}},"sap/ui/unified/SplitContainer.js":function(){jQuery.sap.declare("sap.ui.unified.SplitContainer");jQuery.sap.require("sap.ui.unified.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.ui.unified.SplitContainer",{metadata:{library:"sap.ui.unified",properties:{"showSecondaryContent":{type:"boolean",group:"Appearance",defaultValue:null},"secondaryContentSize":{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'250px'},"secondaryContentWidth":{type:"sap.ui.core.CSSSize",group:"Appearance",defaultValue:'250px',deprecated:true},"orientation":{type:"sap.ui.core.Orientation",group:"Appearance",defaultValue:sap.ui.core.Orientation.Horizontal}},defaultAggregation:"content",aggregations:{"content":{type:"sap.ui.core.Control",multiple:true,singularName:"content"},"secondaryContent":{type:"sap.ui.core.Control",multiple:true,singularName:"secondaryContent"}}}});(function(w,u){jQuery.sap.require("sap.ui.core.theming.Parameters");sap.ui.unified.SplitContainer.prototype.init=function(){this.bRtl=sap.ui.getCore().getConfiguration().getRTL();this._paneRenderer=new sap.ui.unified._ContentRenderer(this,this.getId()+"-panecntnt","secondaryContent");this._canvasRenderer=new sap.ui.unified._ContentRenderer(this,this.getId()+"-canvascntnt","content");this._moveContent=true};sap.ui.unified.SplitContainer.prototype.exit=function(){this._paneRenderer.destroy();delete this._paneRenderer;this._canvasRenderer.destroy();delete this._canvasRenderer;delete this._contentContainer;delete this._secondaryContentContainer};sap.ui.unified.SplitContainer.prototype.onAfterRendering=function(){this._contentContainer=this.$("canvas");this._secondaryContentContainer=this.$("pane");this._applySecondaryContentSize()};sap.ui.unified.SplitContainer.prototype._applySecondaryContentSize=function(){if(this.getDomRef()){var v=this.getOrientation()==sap.ui.core.Orientation.Vertical;var s,o;var d,O;var S=this.getSecondaryContentSize();var b=this.getShowSecondaryContent();if(v){s="height";o="width";d="top";O=this.bRtl?"right":"left"}else{s="width";o="height";d=this.bRtl?"right":"left";O="top"}if(this._closeContentDelayId){jQuery.sap.clearDelayedCall(this._closeContentDelayId)}this._secondaryContentContainer.css(s,S);this._secondaryContentContainer.css(o,"");this._secondaryContentContainer.css(d,b?"0":"-"+S);this._secondaryContentContainer.css(O,"");if(this._moveContent){this._contentContainer.css(d,b?S:"0")}else{this._contentContainer.css(d,"0")}if(!b){var h=parseInt(sap.ui.core.theming.Parameters.get("sapUiUfdSplitContAnimationDuration"),10);this._closeContentDelayId=jQuery.sap.delayedCall(h,this,function(){this._secondaryContentContainer.toggleClass("sapUiUfdSplitContSecondClosed",true)})}else{this._secondaryContentContainer.toggleClass("sapUiUfdSplitContSecondClosed",false)}}};sap.ui.unified.SplitContainer.prototype._mod=function(m,d){var r=!!this.getDomRef();var a=m.apply(this,[r]);if(r&&d){d.render()}return a};sap.ui.unified.SplitContainer.prototype.setShowSecondaryContent=function(s){var r=this.getDomRef();this.setProperty("showSecondaryContent",!!s,r);this._applySecondaryContentSize();return this};sap.ui.unified.SplitContainer.prototype.setSecondaryContentSize=function(s){this.setProperty("secondaryContentSize",s,true);this._applySecondaryContentSize();return this};sap.ui.unified.SplitContainer.prototype.getSecondaryContentWidth=function(){jQuery.sap.log.warning("SplitContainer: Use of deprecated property \"SecondaryContentWidth\", please use "+"\"SecondaryContentSize\" instead.");return this.getSecondaryContentSize.apply(this,arguments)};sap.ui.unified.SplitContainer.prototype.setSecondaryContentWidth=function(){jQuery.sap.log.warning("SplitContainer: Use of deprecated property \"SecondaryContentWidth\", please use "+"\"SecondaryContentSize\" instead.");return this.setSecondaryContentSize.apply(this,arguments)};sap.ui.unified.SplitContainer.prototype.insertContent=function(c,i){return this._mod(function(r){return this.insertAggregation("content",c,i,r)},this._canvasRenderer)};sap.ui.unified.SplitContainer.prototype.addContent=function(c){return this._mod(function(r){return this.addAggregation("content",c,r)},this._canvasRenderer)};sap.ui.unified.SplitContainer.prototype.removeContent=function(i){return this._mod(function(r){return this.removeAggregation("content",i,r)},this._canvasRenderer)};sap.ui.unified.SplitContainer.prototype.removeAllContent=function(){return this._mod(function(r){return this.removeAllAggregation("content",r)},this._canvasRenderer)};sap.ui.unified.SplitContainer.prototype.destroyContent=function(){return this._mod(function(r){return this.destroyAggregation("content",r)},this._canvasRenderer)};sap.ui.unified.SplitContainer.prototype.insertSecondaryContent=function(c,i){return this._mod(function(r){return this.insertAggregation("secondaryContent",c,i,r)},this._paneRenderer)};sap.ui.unified.SplitContainer.prototype.addSecondaryContent=function(c){return this._mod(function(r){return this.addAggregation("secondaryContent",c,r)},this._paneRenderer)};sap.ui.unified.SplitContainer.prototype.removeSecondaryContent=function(i){return this._mod(function(r){return this.removeAggregation("secondaryContent",i,r)},this._paneRenderer)};sap.ui.unified.SplitContainer.prototype.removeAllSecondaryContent=function(){return this._mod(function(r){return this.removeAllAggregation("secondaryContent",r)},this._paneRenderer)};sap.ui.unified.SplitContainer.prototype.destroySecondaryContent=function(){return this._mod(function(r){return this.destroyAggregation("secondaryContent",r)},this._paneRenderer)}})(window)},"sap/ui/unified/SplitContainerRenderer.js":function(){jQuery.sap.declare("sap.ui.unified.SplitContainerRenderer");sap.ui.unified.SplitContainerRenderer={};sap.ui.unified.SplitContainerRenderer.render=function(r,c){var i=c.getId();var v=c.getOrientation()==sap.ui.core.Orientation.Vertical;r.write("<div");r.writeControlData(c);r.addClass("sapUiUfdSpltCont");r.addClass("sapUiUfdSpltCont"+(v?"V":"H"));if(sap.ui.getCore().getConfiguration().getAnimation()){r.addClass("sapUiUfdSpltContAnim")}if(!c.getShowSecondaryContent()){r.addClass("sapUiUfdSpltContPaneHidden")}r.writeClasses();r.write(">");var C=i+"-canvas";r.write("<section id='",C,"' class='sapUiUfdSpltContCanvas'>");this.renderContent(r,C,c.getContent(),c._bRootContent);r.write("</section>");var s=i+"-pane";var w=c.getShowSecondaryContent()?c.getSecondaryContentSize():"0";r.write("<aside id='",s,"' style='width:",w,"'");r.addClass("sapUiUfdSpltContPane");if(!c.getShowSecondaryContent()){r.addClass("sapUiUfdSplitContSecondClosed")}r.writeClasses();r.write(">");this.renderContent(r,s,c.getSecondaryContent(),c._bRootContent);r.write("</aside>");r.write("</div>")};sap.ui.unified.SplitContainerRenderer.renderContent=function(r,I,c,R){r.write("<div id='",I,"cntnt' class='sapUiUfdSpltContCntnt'");if(R){r.writeAttribute("data-sap-ui-root-content","true")}r.write(">");for(var i=0;i<c.length;i++){r.renderControl(c[i])}r.write("</div>")}},"sap/ui/unified/library.js":function(){jQuery.sap.declare("sap.ui.unified.library");jQuery.sap.require("sap.ui.core.Core");jQuery.sap.require("sap.ui.core.library");sap.ui.getCore().initLibrary({name:"sap.ui.unified",dependencies:["sap.ui.core"],types:["sap.ui.unified.CalendarDayType","sap.ui.unified.ContentSwitcherAnimation"],interfaces:[],controls:["sap.ui.unified.Calendar","sap.ui.unified.CalendarLegend","sap.ui.unified.ContentSwitcher","sap.ui.unified.Currency","sap.ui.unified.FileUploader","sap.ui.unified.Menu","sap.ui.unified.Shell","sap.ui.unified.ShellOverlay","sap.ui.unified.SplitContainer"],elements:["sap.ui.unified.CalendarLegendItem","sap.ui.unified.DateRange","sap.ui.unified.DateTypeRange","sap.ui.unified.FileUploaderParameter","sap.ui.unified.MenuItem","sap.ui.unified.MenuItemBase","sap.ui.unified.MenuTextFieldItem","sap.ui.unified.ShellHeadItem","sap.ui.unified.ShellHeadUserItem"],version:"1.24.4"});jQuery.sap.declare("sap.ui.unified.CalendarDayType");sap.ui.unified.CalendarDayType={Type01:"Type01",Type02:"Type02",Type03:"Type03",Type04:"Type04",Type05:"Type05",Type06:"Type06",Type07:"Type07",Type08:"Type08",Type09:"Type09",Type10:"Type10"};jQuery.sap.declare("sap.ui.unified.ContentSwitcherAnimation");sap.ui.unified.ContentSwitcherAnimation={None:"None",Fade:"Fade",ZoomIn:"ZoomIn",ZoomOut:"ZoomOut",Rotate:"Rotate",SlideRight:"SlideRight",SlideOver:"SlideOver"};sap.ui.base.Object.extend("sap.ui.unified._ContentRenderer",{constructor:function(c,C,o,a){sap.ui.base.Object.apply(this);this._id=C;this._cntnt=o;this._ctrl=c;this._rm=sap.ui.getCore().createRenderManager();this._cb=a||function(){}},destroy:function(){this._rm.destroy();delete this._rm;delete this._id;delete this._cntnt;delete this._cb;delete this._ctrl;if(this._rerenderTimer){jQuery.sap.clearDelayedCall(this._rerenderTimer);delete this._rerenderTimer}sap.ui.base.Object.prototype.destroy.apply(this,arguments)},render:function(){if(!this._rm){return}if(this._rerenderTimer){jQuery.sap.clearDelayedCall(this._rerenderTimer)}this._rerenderTimer=jQuery.sap.delayedCall(0,this,function(){var $=jQuery.sap.byId(this._id);var d=$.length>0;if(d){if(typeof(this._cntnt)==="string"){var c=this._ctrl.getAggregation(this._cntnt,[]);for(var i=0;i<c.length;i++){this._rm.renderControl(c[i])}}else{this._cntnt(this._rm)}this._rm.flush($[0])}this._cb(d)})}});sap.ui.unified._iNumberOfOpenedShellOverlays=0;if(!sap.ui.unified.FileUploaderHelper){sap.ui.unified.FileUploaderHelper={createTextField:function(i){throw new Error("no TextField control available!")},setTextFieldContent:function(t,w){throw new Error("no TextField control available!")},createButton:function(){throw new Error("no Button control available!")},bFinal:false}}},"sap/ushell/System.js":function(){
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.declare("sap.ushell.System");sap.ushell.System=function(d){this.getAlias=function(){return d.alias};this.getBaseUrl=function(){return d.baseUrl};this.getClient=function(){return d.client};this.getName=function(){return d.system};this.getPlatform=function(){return d.platform};this.adjustUrl=function(u){if(u.indexOf('/')!==0||u==='/'){throw new Error("Invalid URL: "+u)}if(d.baseUrl===";o="){if(d.alias){u=u+";o="+d.alias}}else if(d.baseUrl){u=d.baseUrl.replace(/\/$/,"")+u}if(d.client){u+=(u.indexOf("?")>=0?"&":"?")+"sap-client="+d.client}return u};this.toString=function(){return JSON.stringify(d)}}}())},"sap/ushell/User.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.User");jQuery.sap.require("sap.ushell.utils");function d(t,s){if(t.indexOf("sap_")===0){return""}return s}function c(o){if(o===undefined){return undefined}try{return JSON.parse(JSON.stringify(o))}catch(e){return undefined}}sap.ushell.User=function(C){var a=[],s=C.themeRoot||"",o=C.bootTheme||{theme:"",root:""},n=o;this.getEmail=function(){return C.email};this.getFirstName=function(){return C.firstName};this.getFullName=function(){return C.fullName};this.getId=function(){return C.id};this.getLanguage=function(){return C.language};this.getLanguageBcp47=function(){return C.languageBcp47};this.getLastName=function(){return C.lastName};this.getImage=function(){return C.image};this.isJamActive=function(){return C.isJamActive===true};this.getTheme=function(){return o.theme};this.setTheme=function(N){if(this.isSetThemePermitted()===false){throw new Error("setTheme not permitted")}if(N!==n.theme){this.setChangedProperties("THEME",n.theme,N);n.theme=N}o.theme=N;o.root=d(N,s);if(o.root){sap.ui.getCore().applyTheme(o.theme,o.root+"/UI5/")}else{sap.ui.getCore().applyTheme(o.theme)}};this.getAccessibilityMode=function(){return C.accessibility};this.setAccessibilityMode=function(b){if(this.isSetAccessibilityPermitted()===false){jQuery.sap.log.error("setAccessibilityMode not permitted");throw true}C.accessibility=b};this.isSetAccessibilityPermitted=function(){return C.setAccessibilityPermitted};this.isSetThemePermitted=function(){return C.setThemePermitted};this.getChangedProperties=function(){return c(a)};this.setChangedProperties=function(p,b,e){a.push({name:p,oldValue:b,newValue:e})};this.resetChangedProperties=function(){a=[]}}}())},"sap/ushell/UserActivityLog.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.UserActivityLog");var U=function(){};U.prototype={_maxLoggedMessages:30,_maxMessageByteSize:2048,_maxQueueByteSize:30720,_isActive:false,_observedLaunchpadActions:["createGroup","deleteGroup","resetGroup","changeGroupTitle","moveGroup","addTile","deleteTile","moveTile","externalSearch","openApp","addBookmarkTile"],_observedGeneralActions:["showCatalog","openApp"],messageType:{ACTION:0,ERROR:1},_tileOntapOrigFunc:undefined,activate:function(c){if(this._isActive){return}this._isActive=true;var e=sap.ui.getCore().getEventBus(),s=this;this._observedLaunchpadActions.forEach(function(a,i,b){e.subscribe("launchpad",a,s._handleAction,s)});this._observedGeneralActions.forEach(function(a,i,b){e.subscribe(a,s._handleAction,s)});jQuery.sap.log.addLogListener(this);setTimeout(function(){s._tileOntapOrigFunc=sap.ushell.ui.launchpad.Tile.prototype.ontap;sap.ushell.ui.launchpad.Tile.prototype.ontap=s._tileOnTapDecorator(s._tileOntapOrigFunc)},0)},deactivate:function(){if(!this._isActive){return}this._isActive=false;var e=sap.ui.getCore().getEventBus(),s=this;this._observedLaunchpadActions.forEach(function(a,i,b){e.unsubscribe("launchpad",a,s._handleAction,s)});this._observedGeneralActions.forEach(function(a,i,b){e.unsubscribe(a,s._handleAction,s)});jQuery.sap.log.removeLogListener(this);sap.ushell.ui.launchpad.Tile.prototype.ontap=this._tileOntapOrigFunc},addMessage:function(t,m,a){if(this._isActive){this._addMessageInternal(t,m,a)}},getLog:function(){return this._getLoggingQueueFromStorage()},getMessageInfo:function(u){var r={userDetails:this._getUserDetails(),shellState:this._getShellState(),navigationData:this._getLastNavActionFromStorage(),userLog:this.getLog()};return r},getMessageInfoAsString:function(u){return JSON.stringify(this.getMessageInfo(u))},onLogEntry:function(d){var e=(typeof d.details!="undefined"&&(d.details!==""))?(d.message+" , "+d.details):d.message;this.addMessage(this.messageType.ERROR,e)},onAttachToLog:function(){},onDetachFromLog:function(){},_tileOnTapDecorator:function(o){var s=this,n,l,t,a,b,c;return function(e,u){var d=this.getMetadata().getName();if(d=="sap.ushell.ui.launchpad.PlusTile"){s.addMessage(s.messageType.ACTION,"Open Catalog for empty group "+this.getGroupId())}else if(d=="sap.ushell.ui.launchpad.Tile"){n=jQuery(e.currentTarget).find('a').first().attr('href');if(n){var f=sap.ushell.Container.getService("URLParsing");var g=f.parseShellHash(n);n='#'+f.constructShellHash({target:{semanticObject:g.semanticObject,action:g.action}})}l=s._getLastNavActionFromStorage();l.time=new Date();l.navigationHash=n;l.tileDebugInfo=this.getDebugInfo();t=sap.ui.getCore().byId(this.getId());a=t.getModel();b=this.getBindingContext();c=b.getPath();l.tileTitle=b.getModel().getProperty(c).title;s._putInLocalStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(l));s.addMessage(s.messageType.ACTION,"Click on Tile: "+a.getData().title+" Tile debugInfo: "+this.getDebugInfo())}o.apply(this,arguments)}},_addMessageInternal:function(t,m,a){var l=this._getLoggingQueueFromStorage(),b={type:null},p;for(p in this.messageType){if(t==this.messageType[p]){b.type=p;break}}if(b.type===null){return}jQuery.extend(b,{messageID:a,messageText:m,time:new Date(),toString:function(){var c=[this.type,this.time];if(typeof this.messageID!=="undefined"){c.push(this.messageID)}c.push(this.messageText);return c.join(" :: ")}});l.push(b);if(l.length>this._maxLoggedMessages){l.shift()}this._putInLocalStorage("sap.ushell.UserActivityLog.loggingQueue",JSON.stringify(l))},_handleAction:function(c,e,d){var m;switch(e){case'deleteTile':m="Delete Tile "+(d.tileId||"");break;case'moveTile':m="Move Tile "+(d.sTileId||"")+" to Group "+(d.toGroupId||"");break;case'createGroup':m="Create Group";break;case'changeGroupTitle':m="Change Group Title of "+(d.groupId||"")+" to "+(d.newTitle||"");break;case'deleteGroup':m="Delete Group "+(d.groupId||"");break;case'addTile':var t=d.catalogTileContext.oModel.oData,T=d.catalogTileContext.sPath,a=this._findInModel(T,t),b=a.id,g=d.groupContext.oModel.oData,G=d.groupContext.sPath,f=this._findInModel(G,g),h=f.groupId;m="Add Tile "+(b||"")+" to Group "+(h||"");break;case'moveGroup':m="Move Group from index "+(d.fromIndex||"")+" to index "+(d.toIndex||"");break;case'openApp':m="Open application "+d.action;var l=this._getLastNavActionFromStorage();l.applicationInformation=d.oApplication;if(!this._hashSegmentsEqual(l.navigationHash,d.sShellHash)){l.tileDebugInfo=""}l.navigationHash=d.sShellHash;this._putInLocalStorage("sap.ushell.UserActivityLog.lastNavigationActionData",JSON.stringify(l));break;case'addBookmarkTile':m="Add Bookmark "+(d.title||"")+" "+(d.subtitle||"")+" for URL: "+(d.url||"");break;case'showCatalog':m="Show Catalog";break}this.addMessage(this.messageType.ACTION,m)},_findInModel:function(p,m){var a,b=m,i,c;try{a=p.split("/");for(i=0;i<a.length;i=i+1){if(c!==a[i]){continue}b=b[c]}}catch(e){return undefined}return b},_getUserDetails:function(u){var a=sap.ushell.Container.getUser();return{fullName:a.getFullName()||"",userId:a.getId()||"",eMail:a.getEmail()||"",Language:a.getLanguage()||""}},_getShellState:function(){var n=sap.ui.getCore().byId("navContainer"),m,r="";if(n!==undefined){m=n.getModel();r=m.getProperty("/currentState/stateName")}return r},_getLoggingQueueFromStorage:function(){var l=this._getFromLocalStorage("sap.ushell.UserActivityLog.loggingQueue");var q=[];if(l){try{q=JSON.parse(l)}catch(e){}}return q},_getLastNavActionFromStorage:function(){var l=this._getFromLocalStorage("sap.ushell.UserActivityLog.lastNavigationActionData");return(l?JSON.parse(l):{})},_hashSegmentsEqual:function(u,a){if((!u)||(!a)){return false}return(this._getHashSegment(u)==this._getHashSegment(a))?true:false},_getHashSegment:function(u){var i=u.indexOf("~"),a;if(i>-1){return u.substring(0,i)}a=u.indexOf("?");if(a>-1){return u.substring(0,a)}return u},_getFromLocalStorage:function(k){var r=null;try{r=localStorage.getItem(k)}catch(e){}return r},_putInLocalStorage:function(k,v){try{localStorage.setItem(k,v)}catch(e){}}};sap.ushell.UserActivityLog=new U()})()},"sap/ushell/components/tiles/applauncher/StaticTile.controller.js":function(){(function(){"use strict";sap.ui.getCore().loadLibrary("sap.m");jQuery.sap.require("sap.ui.core.IconPool");jQuery.sap.require("sap.ushell.components.tiles.utils");sap.ui.controller("sap.ushell.components.tiles.applauncher.StaticTile",{onInit:function(){var s=this.getView(),v=s.getViewData(),t=v.chip,c=sap.ushell.components.tiles.utils.getConfiguration(t,t.configurationUi.isEnabled(),false),m,k,K,a=this,N=c.navigation_target_url,S;S=t.url.getApplicationSystem();if(S){N+=((N.indexOf("?")<0)?"?":"&")+"sap-system="+S}this.navigationTargetUrl=N;m=new sap.ui.model.json.JSONModel({config:c,nav:{navigation_target_url:(t.configurationUi&&t.configurationUi.isEnabled()?"":N)},search:{display_highlight_terms:[]}});s.setModel(m);if(t.search){k=s.getModel().getProperty("/config/display_search_keywords");K=jQuery.grep(k.split(/[, ]+/),function(n,i){return n&&n!==""});t.search.setKeywords(K);t.search.attachHighlight(function(h){s.getModel().setProperty("/search/display_highlight_terms",h)})}if(t.preview){t.preview.setTargetUrl(N);t.preview.setPreviewIcon(c.display_icon_url);t.preview.setPreviewTitle(c.display_title_text)}if(t.configurationUi.isEnabled()){t.configurationUi.setUiProvider(function(){var C=sap.ushell.components.tiles.utils.getConfigurationUi(s,"sap.ushell.components.tiles.applauncher.Configuration");t.configurationUi.attachCancel(a.onCancelConfiguration.bind(null,C));t.configurationUi.attachSave(a.onSaveConfiguration.bind(null,C));return C});this.getView().getContent()[0].setTooltip(sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText("edit_configuration.tooltip"))}},onPress:function(e){var s=this.getView(),v=s.getViewData(),t=v.chip;if(t.configurationUi.isEnabled()){t.configurationUi.display()}else if(this.navigationTargetUrl){if(this.navigationTargetUrl[0]==='#'){hasher.setHash(this.navigationTargetUrl)}else{window.open(this.navigationTargetUrl,'_blank')}}},onSaveConfiguration:function(c){var d=jQuery.Deferred(),m=c.getModel(),t=m.getProperty("/tileModel"),T=c.getViewData().chip,a={display_icon_url:m.getProperty("/config/display_icon_url"),display_info_text:m.getProperty("/config/display_info_text"),display_title_text:m.getProperty("/config/display_title_text"),display_subtitle_text:m.getProperty("/config/display_subtitle_text"),navigation_use_semantic_object:m.getProperty("/config/navigation_use_semantic_object"),navigation_target_url:m.getProperty("/config/navigation_target_url"),navigation_semantic_object:jQuery.trim(m.getProperty("/config/navigation_semantic_object"))||"",navigation_semantic_action:jQuery.trim(m.getProperty("/config/navigation_semantic_action"))||"",navigation_semantic_parameters:jQuery.trim(m.getProperty("/config/navigation_semantic_parameters")),display_search_keywords:m.getProperty("/config/display_search_keywords")};var r=sap.ushell.components.tiles.utils.checkInputOnSaveConfig(c);if(r){d.reject("mandatory_fields_missing");return d.promise()}if(a.navigation_use_semantic_object){a.navigation_target_url=sap.ushell.components.tiles.utils.getSemanticNavigationUrl(a);m.setProperty("/config/navigation_target_url",a.navigation_target_url)}var b=T.bag.getBag('tileProperties');b.setText('display_title_text',a.display_title_text);b.setText('display_subtitle_text',a.display_subtitle_text);b.setText('display_info_text',a.display_info_text);b.setText('display_search_keywords',a.display_search_keywords);function l(e){jQuery.sap.log.error(e,null,"sap.ushell.components.tiles.applauncher.StaticTile.controller");d.reject(e)}T.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(a)},function(){var C=sap.ushell.components.tiles.utils.getConfiguration(T,false,false),o=sap.ushell.components.tiles.utils.getConfiguration(T,true,false),m=new sap.ui.model.json.JSONModel({config:C,nav:{navigation_target_url:""},tileModel:t});c.setModel(m);t.setData({config:o,nav:{navigation_target_url:""}},false);if(T.preview){T.preview.setTargetUrl(C.navigation_target_url);T.preview.setPreviewIcon(C.display_icon_url);T.preview.setPreviewTitle(C.display_title_text)}b.save(function(){jQuery.sap.log.debug("property bag 'tileProperties' saved successfully");if(T.title){T.title.setTitle(a.display_title_text,function(){d.resolve()},l)}else{d.resolve()}},l)},l);return d.promise()},onCancelConfiguration:function(c){var v=c.getViewData(),m=c.getModel(),t=m.getProperty("/tileModel"),T=v.chip,C=sap.ushell.components.tiles.utils.getConfiguration(T,T.configurationUi.isEnabled(),false);c.getModel().setData({config:C,nav:{navigation_target_url:""},tileModel:t},false)}})}())},"sap/ushell/components/tiles/applauncher/StaticTile.view.js":function(){
//Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";sap.ui.jsview("sap.ushell.components.tiles.applauncher.StaticTile",{getControllerName:function(){return"sap.ushell.components.tiles.applauncher.StaticTile"},createContent:function(c){jQuery.sap.require('sap.ushell.ui.tile.StaticTile');this.setHeight('100%');this.setWidth('100%');return new sap.ushell.ui.tile.StaticTile({title:"{/config/display_title_text}",subtitle:"{/config/display_subtitle_text}",info:"{/config/display_info_text}",actions:"{/config/actions}",infoState:"Neutral",icon:"{/config/display_icon_url}",targetURL:"{/nav/navigation_target_url}",highlightTerms:"{/search/display_highlight_terms}",press:[c.onPress,c]})}})}())},"sap/ushell/components/tiles/applauncherdynamic/DynamicTile.controller.js":function(){
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";sap.ui.getCore().loadLibrary("sap.m");jQuery.sap.require("sap.ui.core.IconPool");jQuery.sap.require("sap.ui.thirdparty.datajs");jQuery.sap.require("sap.ushell.components.tiles.utils");sap.ui.controller("sap.ushell.components.tiles.applauncherdynamic.DynamicTile",{timer:null,oDataRequest:null,onInit:function(){var v=this.getView(),V=v.getViewData(),t=V.chip,c=sap.ushell.components.tiles.utils.getConfiguration(t,t.configurationUi.isEnabled(),false),m,k,K,a=this,N=c.navigation_target_url,s;s=t.url.getApplicationSystem();if(s){N+=((N.indexOf("?")<0)?"?":"&")+"sap-system="+s}this.navigationTargetUrl=N;m=new sap.ui.model.json.JSONModel({config:c,data:sap.ushell.components.tiles.utils.getDataToDisplay(c,{number:(t.configurationUi.isEnabled()?1234:"...")}),nav:{navigation_target_url:(t.configurationUi&&t.configurationUi.isEnabled()?"":N)},search:{display_highlight_terms:[]}});v.setModel(m);if(t.search){k=v.getModel().getProperty("/config/display_search_keywords");K=jQuery.grep(k.split(/[, ]+/),function(n,i){return n&&n!==""});t.search.setKeywords(K);t.search.attachHighlight(function(h){v.getModel().setProperty("/search/display_highlight_terms",h)})}if(t.preview){t.preview.setTargetUrl(N);t.preview.setPreviewIcon(c.display_icon_url);t.preview.setPreviewTitle(c.display_title_text)}if(t.refresh){t.refresh.attachRefresh(this.refreshHandler.bind(null,this))}if(t.visible){t.visible.attachVisible(this.visibleHandler.bind(this))}if(t.configurationUi.isEnabled()){t.configurationUi.setUiProvider(function(){var C=sap.ushell.components.tiles.utils.getConfigurationUi(v,"sap.ushell.components.tiles.applauncherdynamic.Configuration");t.configurationUi.attachCancel(a.onCancelConfiguration.bind(null,C));t.configurationUi.attachSave(a.onSaveConfiguration.bind(null,C));return C});this.getView().getContent()[0].setTooltip(sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText("edit_configuration.tooltip"))}else{if(!t.preview||!t.preview.isEnabled()){if(!s){sap.ushell.Container.addRemoteSystemForServiceUrl(c.service_url)}this.onUpdateDynamicData()}}},stopRequests:function(){if(this.timer){clearTimeout(this.timer)}if(this.oDataRequest){try{this.oDataRequest.abort()}catch(e){jQuery.sap.log.warning(e.name,e.message)}}},onExit:function(){this.stopRequests()},onPress:function(e){var v=this.getView(),V=v.getViewData(),t=V.chip;if(t.configurationUi.isEnabled()){t.configurationUi.display()}else if(this.navigationTargetUrl){if(this.navigationTargetUrl[0]==='#'){hasher.setHash(this.navigationTargetUrl)}else{window.open(this.navigationTargetUrl,'_blank')}}},onUpdateDynamicData:function(){var v=this.getView(),c=v.getModel().getProperty("/config"),n=c.service_refresh_interval;if(!n){n=0}else if(n<10){jQuery.sap.log.warning("Refresh Interval "+n+" seconds for service URL "+c.service_url+" is less than 10 seconds, which is not supported. "+"Increased to 10 seconds automatically.",null,"sap.ushell.components.tiles.applauncherdynamic.DynamicTile.controller");n=10}if(c.service_url){this.loadData(v,n)}},extractData:function(d){var n,k=["results","icon","title","number","numberUnit","info","infoState","infoStatus","targetParams","subtitle","stateArrow","numberState","numberDigits","numberFactor"];if(typeof d==="object"&&Object.keys(d).length===1){n=Object.keys(d)[0];if(jQuery.inArray(n,k)===-1){return d[n]}}return d},onSaveConfiguration:function(c){var d=jQuery.Deferred(),m=c.getModel(),t=m.getProperty("/tileModel"),T=c.getViewData().chip,a={display_icon_url:m.getProperty("/config/display_icon_url"),display_title_text:m.getProperty("/config/display_title_text"),display_subtitle_text:m.getProperty("/config/display_subtitle_text"),display_info_text:m.getProperty("/config/display_info_text"),display_number_unit:m.getProperty("/config/display_number_unit"),service_url:m.getProperty("/config/service_url"),service_refresh_interval:m.getProperty("/config/service_refresh_interval"),navigation_use_semantic_object:m.getProperty("/config/navigation_use_semantic_object"),navigation_target_url:m.getProperty("/config/navigation_target_url"),navigation_semantic_object:jQuery.trim(m.getProperty("/config/navigation_semantic_object"))||"",navigation_semantic_action:jQuery.trim(m.getProperty("/config/navigation_semantic_action"))||"",navigation_semantic_parameters:jQuery.trim(m.getProperty("/config/navigation_semantic_parameters")),display_search_keywords:m.getProperty("/config/display_search_keywords")};var r=sap.ushell.components.tiles.utils.checkInputOnSaveConfig(c);if(r){d.reject("mandatory_fields_missing");return d.promise()}if(a.navigation_use_semantic_object){a.navigation_target_url=sap.ushell.components.tiles.utils.getSemanticNavigationUrl(a);m.setProperty("/config/navigation_target_url",a.navigation_target_url)}var b=T.bag.getBag('tileProperties');b.setText('display_title_text',a.display_title_text);b.setText('display_subtitle_text',a.display_subtitle_text);b.setText('display_info_text',a.display_info_text);b.setText('display_search_keywords',a.display_search_keywords);function l(e){jQuery.sap.log.error(e,null,"sap.ushell.components.tiles.applauncherdynamic.DynamicTile.controller");d.reject(e)}T.writeConfiguration.setParameterValues({tileConfiguration:JSON.stringify(a)},function(){var C=sap.ushell.components.tiles.utils.getConfiguration(T,false,false),o=sap.ushell.components.tiles.utils.getConfiguration(T,true,false),m=new sap.ui.model.json.JSONModel({config:C,tileModel:t});c.setModel(m);t.setData({data:o,nav:{navigation_target_url:""}},false);if(T.preview){T.preview.setTargetUrl(C.navigation_target_url);T.preview.setPreviewIcon(C.display_icon_url);T.preview.setPreviewTitle(C.display_title_text)}b.save(function(){jQuery.sap.log.debug("property bag 'tileProperties' saved successfully");if(T.title){T.title.setTitle(a.display_title_text,function(){d.resolve()},l)}else{d.resolve()}},l)},l);return d.promise()},onCancelConfiguration:function(c){var v=c.getViewData(),m=c.getModel(),t=m.getProperty("/tileModel"),T=v.chip,C=sap.ushell.components.tiles.utils.getConfiguration(T,false,false);c.getModel().setData({config:C,tileModel:t},false)},loadData:function(d,n){var c=d.getModel().getProperty("/config"),u=c.service_url,t=this;var T=this.getView().getViewData().chip;if(/;o=([;\/?]|$)/.test(u)){u=T.url.addSystemToServiceUrl(u)}if(n>0){jQuery.sap.log.info("Wait "+n+" seconds before calling "+c.service_url+" again",null,"sap.ushell.components.tiles.applauncherdynamic.DynamicTile.controller");this.timer=setTimeout(t.loadData.bind(t,d,n,false),(n*1000))}if(T.visible.isVisible()&&!t.oDataRequest){t.oDataRequest=OData.read({requestUri:u},function(r){t.oDataRequest=undefined;var D=r,o;if(typeof r==="object"){D=t.extractData(D)}else if(typeof r==="string"){D={number:r}}o=sap.ushell.components.tiles.utils.getDataToDisplay(c,D);d.getModel().setProperty("/data",o);d.getModel().setProperty("/nav/navigation_target_url",sap.ushell.components.tiles.utils.addParamsToUrl(t.navigationTargetUrl,o))},function(m){t.oDataRequest=undefined;var M=m&&m.message?m.message:m,r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();if(m.response){M+=" - "+m.response.statusCode+" "+m.response.statusText}jQuery.sap.log.error("Failed to update data via service "+c.service_url+": "+M,null,"sap.ushell.components.tiles.applauncherdynamic.DynamicTile");d.getModel().setProperty("/data",sap.ushell.components.tiles.utils.getDataToDisplay(c,{number:"???",info:r.getText("dynamic_data.error"),infoState:"Critical"}))})}},refreshHandler:function(d){var t=d.getView().getViewData().chip;if(!t.configurationUi.isEnabled()){d.loadData(d.getView(),0)}else{d.stopRequests()}},visibleHandler:function(i){if(i){this.refreshHandler(this)}}})}())},"sap/ushell/components/tiles/applauncherdynamic/DynamicTile.view.js":function(){
//Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";sap.ui.jsview("sap.ushell.components.tiles.applauncherdynamic.DynamicTile",{getControllerName:function(){return"sap.ushell.components.tiles.applauncherdynamic.DynamicTile"},createContent:function(c){jQuery.sap.require('sap.ushell.ui.tile.DynamicTile');this.setHeight('100%');this.setWidth('100%');return new sap.ushell.ui.tile.DynamicTile({title:"{/data/display_title_text}",subtitle:"{/data/display_subtitle_text}",info:"{/data/display_info_text}",infoState:"{/data/display_info_state}",icon:"{/data/display_icon_url}",numberUnit:"{/data/display_number_unit}",numberValue:"{/data/display_number_value}",numberDigits:"{/data/display_number_digits}",numberState:"{/data/display_number_state}",numberFactor:"{/data/display_number_factor}",actions:"{/data/actions}",stateArrow:"{/data/display_state_arrow}",targetURL:"{/nav/navigation_target_url}",highlightTerms:"{/search/display_highlight_terms}",press:[c.onPress,c]})}})}())},"sap/ushell/components/tiles/utils.js":function(){
// Copyright (c) 2013 SAP AG, All Rights Reserved
this.sap=this.sap||{};(function(){"use strict";jQuery.sap.declare("sap.ushell.components.tiles.utils");sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles=sap.ushell.components.tiles||{};sap.ushell.components.tiles.utils=sap.ushell.components.tiles.utils||{};if(sap.ushell.components.tiles.utils.getConfiguration){return}var t;function s(q){var n=q.replace(/\+/g,' ').split("&"),p,i,r=[];for(i=0;i<n.length;i+=1){p=n[i].split("=");r.push({name:decodeURIComponent(p.shift()),value:decodeURIComponent(p.join("="))})}return r}sap.ushell.components.tiles.utils.isInitial=function(T){return T==="App Launcher – Static"||T==="App Launcher – Dynamic"||T==="Target Mapping"};sap.ushell.components.tiles.utils.getResourceBundleModel=function(){jQuery.sap.require("sap.ushell.resources");return sap.ushell.resources.i18nModel};sap.ushell.components.tiles.utils.getConfiguration=function(T,A,e){var r,c=T.configuration.getParameterValueAsString('tileConfiguration'),C=JSON.parse(c||"{}"),b=sap.ushell.components.tiles.utils.getTranslatedTitle(T),S=sap.ushell.components.tiles.utils.getTranslatedSubtitle(T,C),i=sap.ushell.components.tiles.utils.getTranslatedProperty(T,C,'display_info_text'),k=sap.ushell.components.tiles.utils.getTranslatedProperty(T,C,'display_search_keywords');if(A){r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();if(e&&T.bag){var o=T.bag.getOriginalLanguage();var u=sap.ui.getCore().getConfiguration().getLanguage();C.isLocaleSuitable=o===""||o.toLowerCase()===u.toLowerCase();C.orgLocale=o;C.userLocale=u}}C.display_icon_url=C.display_icon_url||"";C.display_info_text=i||C.display_info_text||(A&&!e?"["+r.getText("configuration.display_info_text")+"]":"");C.navigation_semantic_object=C.navigation_semantic_object||"";C.navigation_semantic_action=C.navigation_semantic_action||"";C.navigation_semantic_parameters=C.navigation_semantic_parameters||"";C.display_number_unit=C.display_number_unit||"";C.display_number_factor=C.display_number_factor||"";C.service_refresh_interval=C.service_refresh_interval||0;C.service_url=C.service_url||"";C.navigation_target_url=C.navigation_target_url||"";if(A&&sap.ushell.components.tiles.utils.isInitial(b)){C.display_title_text=e?"":"["+r.getText("configuration.display_title_text")+"]"}else{C.display_title_text=b||C.display_title_text||""}C.display_subtitle_text=S||C.display_subtitle_text||(A&&!e?"["+r.getText("configuration.display_subtitle_text")+"]":"");C.navigation_use_semantic_object=(C.navigation_use_semantic_object===false?false:true);C.display_search_keywords=k||C.display_search_keywords||"";if(A){C.display_number_value=C.display_number_value||1234}C.form_factors=C.form_factors?C.form_factors:this.getDefaultFormFactors();C.desktopChecked=C.form_factors.manual.desktop;C.tabletChecked=C.form_factors.manual.tablet;C.phoneChecked=C.form_factors.manual.phone;C.manualFormFactor=!(C.form_factors.appDefault);C.appFormFactor=C.form_factors.appDefault;C.formFactorConfigDefault=C.form_factors.defaultParam?true:false;C.rows=(C.mapping_signature&&C.mapping_signature!=="*=*")?this.getMappingSignatureTableData(C.mapping_signature):[this.getEmptyRowObj()];C.isUnknownAllowed=(C.mapping_signature!==undefined)?this.getAllowUnknownParametersValue(C.mapping_signature):true;return C};sap.ushell.components.tiles.utils.getEmptyRowObj=function(){return{name:"",mandatory:false,value:"",isRegularExpression:false,defaultValue:"",valEnabled:false,defValEnabled:true}};sap.ushell.components.tiles.utils.getDefaultFormFactors=function(){return{"appDefault":false,"manual":{"desktop":true,"tablet":true,"phone":true},"defaultParam":true}};sap.ushell.components.tiles.utils.buildFormFactorsObject=function(m){return{"appDefault":m.getProperty("/config/appFormFactor"),"manual":{"desktop":m.getProperty("/config/desktopChecked"),"tablet":m.getProperty("/config/tabletChecked"),"phone":m.getProperty("/config/phoneChecked")}}};sap.ushell.components.tiles.utils.tableHasDuplicateParameterNames=function(T){var p={};for(var i=0;i<T.length;i++){var b=T[i].name;if(b!==""){if(p[b]){return true}else{p[b]=true}}}return false};sap.ushell.components.tiles.utils.getMappingSignatureString=function(b,c){var m="";for(var i=0;i<b.length;i++){if(b[i].name){m+=(g(b[i])+"&")}}return c?m+"*=*":m.substring(0,m.length-1)};var g=function(b){var p="";if(b.mandatory){if(b.isRegularExpression){p="{"+b.name+"="+encodeURIComponent(b.value)+"}"}else{p=b.name+"="+encodeURIComponent(b.value)}}else{p="["+b.name+"="+encodeURIComponent(b.defaultValue)+"]"}return p};sap.ushell.components.tiles.utils.getMappingSignatureTableData=function(m){var p=[];var b=m.split("&");for(var i=0;i<b.length;i++){var c=b[i];if(c!=="*=*"){p.push(a(b[i]))}}return p};var a=function(p){var b={};if(p.charAt(0)==="["){b.mandatory=false;b.isRegularExpression=false;b.value="";p=p.substring(1,p.length-1);b.name=p.substring(0,p.indexOf("="));b.defaultValue=decodeURIComponent(p.substring(p.indexOf("=")+1))}else{b.mandatory=true;b.defaultValue="";if(p.charAt(0)==="{"){b.isRegularExpression=true;p=p.substring(1,p.length-1)}else{b.isRegularExpression=false}b.name=p.substring(0,p.indexOf("="));b.value=decodeURIComponent(p.substring(p.indexOf("=")+1))}b.valEnabled=b.mandatory;b.defValEnabled=!b.mandatory;return b};sap.ushell.components.tiles.utils.getAllowUnknownParametersValue=function(m){if(m&&(m.substring(m.length-3,m.length)==="*=*")){return true}else{return false}};sap.ushell.components.tiles.utils.getTranslatedTitle=function(T){if(T.bag){var b=T.bag.getBag('tileProperties');if(b.getTextNames().indexOf("display_title_text")>=0){return b.getText('display_title_text')}}if(T.title){return T.title.getTitle()}if(T.preview){return T.preview.getTitle()}return""};sap.ushell.components.tiles.utils.getTranslatedSubtitle=function(T,c){if(T.bag){var b=T.bag.getBag('tileProperties');if(b.getTextNames().indexOf("display_subtitle_text")>=0){return b.getText('display_subtitle_text')}}if(T.preview&&T.preview.getDescription&&T.preview.getDescription()){return T.preview.getDescription()}return c['display_subtitle_text']};sap.ushell.components.tiles.utils.getTranslatedProperty=function(T,o,p){if(T.bag){var b=T.bag.getBag('tileProperties');if(b.getTextNames().indexOf(p)>=0){return b.getText(p)}}return o[p]};sap.ushell.components.tiles.utils.getActionConfiguration=function(c,A){var C=JSON.parse(c||"{}"),r;if(A){r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle()}C.semantic_object=C.semantic_object||(A?"["+r.getText("configuration.semantic_object")+"]":"");C.semantic_action=C.semantic_action||(A?"["+r.getText("configuration.semantic_action")+"]":"");C.navigation_provider=C.navigation_provider||"";C.navigation_provider_role=C.navigation_provider_role||"";C.navigation_provider_instance=C.navigation_provider_instance||"";C.target_application_id=C.target_application_id||"";C.target_application_alias=C.target_application_alias||"";C.display_info_text=C.display_info_text||"";return C};sap.ushell.components.tiles.utils.getConfigurationUi=function(v,V){var o=v.getViewData(),T=o.chip,c,S,A;var C=sap.ushell.components.tiles.utils.getConfiguration(T,true,true);var b=new sap.ui.model.json.JSONModel({config:C,tileModel:v.getModel()});c=new sap.ui.view({type:sap.ui.core.mvc.ViewType.XML,viewData:o,viewName:V});c.setModel(b);S=c.byId("navigation_semantic_objectInput")||c.byId("semantic_objectInput");if(S){S.getModel().setProperty("/enabled",C.navigation_use_semantic_object);S.getModel().setProperty("/value",C.semantic_object||C.navigation_semantic_object)}A=c.byId("typeLpd_cust");if(A){if(v.getModel().getProperty('/config/navigation_provider')=="LPD"||v.getModel().getProperty('/config/navigation_provider')==''){c.byId("typeLpd_cust").setSelected(true);c.byId("typeSapui5").setSelected(false);sap.ushell.components.tiles.utils.displayLpdCustApplicationTypeFields(c)}else if(v.getModel().getProperty('/config/navigation_provider')=="SAPUI5"){c.byId("typeLpd_cust").setSelected(false);c.byId("typeSapui5").setSelected(true);sap.ushell.components.tiles.utils.displaySapui5ApplicationTypeFields(c)}}return c};sap.ushell.components.tiles.utils.getDataToDisplay=function(c,d){var b=0,i,n,C,e,D={display_icon_url:d.icon||c.display_icon_url||"",display_title_text:d.title||c.display_title_text||"",display_number_value:!isNaN(d.number)?d.number:"...",display_number_unit:d.numberUnit||c.display_number_unit||"",display_info_text:d.info||c.display_info_text||"",display_info_state:d.infoState||"Neutral",display_subtitle_text:d.subtitle||c.display_subtitle_text||"",display_state_arrow:d.stateArrow||"None",display_number_state:d.numberState||"Neutral",display_number_digits:d.numberDigits||0,display_number_factor:d.numberFactor||"",actions:d.actions||c.actions,display_search_keyword:d.keywords||c.display_search_keyword||"",targetParams:[]};if(d.infoStatus){D.display_info_state=d.infoStatus}if(d.targetParams){D.targetParams.push(d.targetParams)}if(d.results){for(i=0,n=d.results.length;i<n;i=i+1){C=d.results[i].number||0;if(typeof C==="string"){C=parseInt(C,10)}b=b+C;e=d.results[i].targetParams;if(e){D.targetParams.push(e)}}D.display_number_value=b}return D};sap.ushell.components.tiles.utils.getSemanticNavigationUrl=function(c){var u="#"+jQuery.trim(c.navigation_semantic_object);u+="-"+jQuery.trim(c.navigation_semantic_action);if(c.navigation_semantic_parameters&&jQuery.trim(c.navigation_semantic_parameters).length>0){u+="?"+jQuery.trim(c.navigation_semantic_parameters)}return u};sap.ushell.components.tiles.utils.addParamsToUrl=function(u,d){var p="",U=u.indexOf("?")!==-1,T=d.targetParams,i;if(T&&T.length>0){for(i=0;i<T.length;i=i+1){p+=T[i];if(i<T.length-1){p+="&"}}}if(p.length>0){if(!U){u+="?"}else{u+="&"}u+=p}return u};sap.ushell.components.tiles.utils.aData=[];sap.ushell.components.tiles.utils.objectSelectDoSearch=function(e){var f=[],v=e.getParameter("value"),i,b,c;if(v!==undefined){i=e.getParameter("itemsBinding");b=new sap.ui.model.Filter("name",sap.ui.model.FilterOperator.Contains,v);c=new sap.ui.model.Filter("obj",sap.ui.model.FilterOperator.Contains,v);f.push(c);f.push(b);i.filter(new sap.ui.model.Filter(f,false))}};sap.ushell.components.tiles.utils.objectSelectUpdateDialog=function(S,v){var f=[],i=S.getBinding("items"),b;if(v!==undefined){b=new sap.ui.model.Filter("name",sap.ui.model.FilterOperator.Contains,v);f.push(b);i.filter(f)}};sap.ushell.components.tiles.utils.sSelectedColor=(jQuery(".sapMStdTileIconDiv").css('color')||"#007cc0").split(" ").join("");sap.ushell.components.tiles.utils.sDeselectedColor=(jQuery(".sapMLabel:not(.sapFioriDropZoneText )").css('color')||"#666666").split(" ").join("");sap.ushell.components.tiles.utils.iconSelect=function(i,S){i.setColor(S?sap.ushell.components.tiles.utils.sSelectedColor:sap.ushell.components.tiles.utils.sDeselectedColor);i.setActiveColor(S?sap.ushell.components.tiles.utils.sDeselectedColor:sap.ushell.components.tiles.utils.sSelectedColor)};sap.ushell.components.tiles.utils.onSelectIcon=function(c,C){var m=c.getView().getModel(),S=m.getProperty("/config/selected_icon");if(S){sap.ushell.components.tiles.utils.iconSelect(S,false)}S=C.getSource();sap.ushell.components.tiles.utils.iconSelect(S,true);m.setProperty("/config/ok.enabled",true);m.setProperty("/config/selected_icon",S);c.byId("selectIconDialog").setTitle(S.getSrc())};sap.ushell.components.tiles.utils.onSelectIconClose=function(v){v.byId("selectIconDialog").close()};sap.ushell.components.tiles.utils.onSelectIconOk=function(v){var S=v.getModel().getProperty("/config/selected_icon");if(S){v.getModel().setProperty("/config/display_icon_url",S.getSrc())}sap.ushell.components.tiles.utils.onSelectIconClose(v)};sap.ushell.components.tiles.utils.iconSelectOnValueHelpRequest=function(c,e){var m=c.getView().getModel(),r=c.getView().byId("icons"),C=sap.ui.core.IconPool.getIconCollectionNames(),b=r.getContent(),d=c.getView().byId("selectIconDialog"),I=m.getProperty("/config/display_icon_url"),f,i,j,u,B=false;if(b.length===0){C.sort();C=jQuery.grep(C,function(v){if(v==="BusinessSuiteInAppSymbols"){B=true;return false}return true});if(B){C.push("BusinessSuiteInAppSymbols")}for(i=0;i<C.length;i+=1){f=sap.ui.core.IconPool.getIconNames(C[i]);f.sort();for(j=0;j<f.length;j+=1){u=sap.ui.core.IconPool.getIconURI(f[j],C[i]);r.addContent(new sap.ui.core.Icon({height:"38px",press:sap.ushell.components.tiles.utils.onSelectIcon.bind(null,c),size:"2rem",src:u,tooltip:u,width:"38px"}))}}b=r.getContent()}m.setProperty("/config/ok.enabled",false);d.bindProperty("title",{model:"i18n",path:"configuration.select_icon"});for(i=0;i<b.length;i+=1){if(b[i].getSrc()===I){m.setProperty("/config/selected_icon",b[i]);sap.ushell.components.tiles.utils.iconSelect(b[i],true);m.setProperty("/config/ok.enabled",true);d.setTitle(I)}else{sap.ushell.components.tiles.utils.iconSelect(b[i],false)}}d.open()};sap.ushell.components.tiles.utils.objectSelectOnValueHelpRequest=function(c,e){var v=c.getView(),T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText("configuration.semantic_object"),S=v.byId("semantic_objectInput")||v.byId("navigation_semantic_objectInput"),V=S.getValue(),o=new sap.ui.model.json.JSONModel(),b=new sap.m.SelectDialog("semantic_object_select_dialog",{title:T,search:sap.ushell.components.tiles.utils.objectSelectDoSearch,liveChange:sap.ushell.components.tiles.utils.objectSelectDoSearch}),i=new sap.m.StandardListItem({title:"{obj}"});b.open(V);o.setData(c.aDefaultObjects.concat(sap.ushell.components.tiles.utils.aData));b.bindAggregation("items","/",i);b.setModel(o);sap.ushell.components.tiles.utils.objectSelectUpdateDialog(b,V);b.attachCancel(function(d){S.setValue(V);S.fireChange();b.destroy();b=null});b.attachConfirm(function(d){var f=d.getParameter("selectedItem");if(f){S.setValue(f.getTitle());S.fireChange()}b.destroy();b=null})};sap.ushell.components.tiles.utils.checkInput=function(c,C){var T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle(),i=c.byId("iconInput"),S=c.byId("navigation_semantic_objectInput")||c.byId("semantic_objectInput"),o=c.byId("navigation_semantic_actionInput")||c.byId("semantic_actionInput"),n=jQuery.trim(C.getParameter("newValue")),I,f,v=sap.ui.core.ValueState.None,V=null,j;switch(C.getSource()){case i:if(n.substring(0,11)!=="sap-icon://"){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.display_icon_url.warning")}break;case S:I=S.getModel().getProperty("/items");f=false;for(j=0;j<I.length;j=j+1){if(I[j].obj===n){f=true;break}}if(/[\-#&? ]/.test(n)){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.semantic_object.error_invalid_chars")}else if(!f){v=sap.ui.core.ValueState.Warning;V=T.getText("configuration.semantic_object.warning")}else if(n==""){v=sap.ui.core.ValueState.Error}if(o.getValue()==""){o.setValueState(sap.ui.core.ValueState.Error)}break;case o:if(/[\-#&? ]/.test(n)){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.semantic_action.error_invalid_chars")}else if(n==""){v=sap.ui.core.ValueState.Error}if(S.getValue()==""){S.setValueState(sap.ui.core.ValueState.Error)}break;default:break}if(v){C.getSource().setValueState(v);if(V!==null){C.getSource().setValueStateText(V||"")}}};sap.ushell.components.tiles.utils.checkInputOnSaveConfig=function(c){var i=c.byId("iconInput"),S=c.byId("navigation_semantic_objectInput"),o=c.byId("navigation_semantic_actionInput"),u=c.byId("useLpdCheckbox"),T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle(),I=S.getModel().getProperty("/items"),f=false,r=false,j;if(i.getValue().substring(0,11)!=="sap-icon://"){i.setValueState(sap.ui.core.ValueState.Error);i.setValueStateText(T.getText("configuration.display_icon_url.warning"));r=true}for(j=0;j<I.length;j=j+1){if(I[j].obj===S.getValue()){f=true;break}}if(/[\-#&? ]/.test(S.getValue())){S.setValueState(sap.ui.core.ValueState.Error);S.setValueStateText(T.getText("configuration.semantic_object.error_invalid_chars"));r=true}else if(!f){S.setValueState(sap.ui.core.ValueState.Error);S.setValueStateText(T.getText("configuration.semantic_object.warning"));r=true}else if(u.getSelected()&&S.getValue()==""){S.setValueState(sap.ui.core.ValueState.Error);r=true}if(/[\-#&? ]/.test(o.getValue())){o.setValueState(sap.ui.core.ValueState.Error);o.setValueStateText(T.getText("configuration.semantic_action.error_invalid_chars"));r=true}else if(u.getSelected()&&o.getValue()==""){o.setValueState(sap.ui.core.ValueState.Error);r=true}return r};sap.ushell.components.tiles.utils.checkTMInput=function(c,C){var T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle(),S=c.byId("semantic_objectInput"),o=c.byId("semantic_actionInput"),b=c.byId("target_application_descriptionInput"),d=c.byId("target_application_urlInput"),e=c.byId("target_application_componentInput"),n=c.byId("navigation_provider_roleInput"),N=c.byId("navigation_provider_instanceInput"),f=c.byId("target_application_aliasInput"),h=c.byId("target_application_idInput"),i=c.byId("typeLpd_cust"),k=c.byId("typeSapui5"),l=c.byId("additionalInfo"),m=jQuery.trim(C.getParameter("newValue")),I,F,v=sap.ui.core.ValueState.None,V=null,j;switch(C.getSource()){case S:I=S.getModel().getProperty("/items");F=false;for(j=0;j<I.length;j=j+1){if(I[j].obj===m){F=true;break}}if(/[\-#&? ]/.test(m)){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.semantic_object.error_invalid_chars")}else if(!F){v=sap.ui.core.ValueState.Warning;V=T.getText("configuration.semantic_object.warning")}if(o.getValue()==""){o.setValueState(sap.ui.core.ValueState.Error)}break;case o:if(/[\-#&? ]/.test(m)){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.semantic_action.error_invalid_chars")}else if(m==""){v=sap.ui.core.ValueState.Error}break;case b:if(m==""){v=sap.ui.core.ValueState.Error}else if(!(/^[-/\w]+$/.test(m))){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.description.error_invalid_chars")}if(k.getSelected()&&d.getValue()==""){d.setValueState(sap.ui.core.ValueState.Error)}if(k.getSelected()&&e.getValue()==""){e.setValueState(sap.ui.core.ValueState.Error)}break;case d:if(m==""){v=sap.ui.core.ValueState.Error}if(k.getSelected()&&b.getValue()==""){b.setValueState(sap.ui.core.ValueState.Error)}if(k.getSelected()&&e.getValue()==""){e.setValueState(sap.ui.core.ValueState.Error)}break;case e:if(m==""){v=sap.ui.core.ValueState.Error}else if(m.substring(0,17)=="SAPUI5.Component="){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.component.error_invalid_input")}else if(!(/^[-/\w]+$/.test(m))){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.component.error_invalid_chars")}if(k.getSelected()&&d.getValue()==""){d.setValueState(sap.ui.core.ValueState.Error)}if(k.getSelected()&&b.getValue()==""){b.setValueState(sap.ui.core.ValueState.Error)}break;case n:if(m==""){v=sap.ui.core.ValueState.Error}if(i.getSelected()&&N.getValue()==""){N.setValueState(sap.ui.core.ValueState.Error)}if(i.getSelected()&&f.getValue()==""&&h.getValue()==""){var p=T.getText("configuration.target_application.alias_id.warning");f.setValueState(sap.ui.core.ValueState.Error);f.setValueStateText(p);h.setValueState(sap.ui.core.ValueState.Error);h.setValueStateText(p)}break;case N:if(m==""){v=sap.ui.core.ValueState.Error}if(i.getSelected()&&n.getValue()==""){n.setValueState(sap.ui.core.ValueState.Error)}if(i.getSelected()&&f.getValue()==""&&h.getValue()==""){var p=T.getText("configuration.target_application.alias_id.warning");f.setValueState(sap.ui.core.ValueState.Error);f.setValueStateText(p);h.setValueState(sap.ui.core.ValueState.Error);h.setValueStateText(p)}break;case f:if(m==""&&h.getValue()==""){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.alias_id.warning")}else if(m!=""&&!(/^[-/\w]+$/.test(m))){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.alias.error_invalid_chars")}else{h.setValueState(sap.ui.core.ValueState.None)}if(i.getSelected()&&N.getValue()==""){N.setValueState(sap.ui.core.ValueState.Error)}if(i.getSelected()&&n.getValue()==""){n.setValueState(sap.ui.core.ValueState.Error)}break;case h:if(m==""&&f.getValue()==""){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.alias_id.warning")}else{f.setValueState(sap.ui.core.ValueState.None)}if(i.getSelected()&&N.getValue()==""){N.setValueState(sap.ui.core.ValueState.Error)}if(i.getSelected()&&n.getValue()==""){n.setValueState(sap.ui.core.ValueState.Error)}break;case l:if(m!=""&&!(/^[-/\w]+$/.test(m))){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.description.error_invalid_chars")}break;default:break}if(v){C.getSource().setValueState(v);if(V!==null){C.getSource().setValueStateText(V||"")}}};sap.ushell.components.tiles.utils.updateTooltipForDisabledProperties=function(c){var m=c.getModel();var i=m.getProperty("/config/isLocaleSuitable");if(!i){var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();var b=r.getText("edit_configuration.original_locale_not_fit_tooltip",[m.getProperty("/config/userLocale"),m.getProperty("/config/orgLocale")]);c.byId("titleInput").setTooltip(b);c.byId("subtitleInput").setTooltip(b);c.byId("keywordsInput").setTooltip(b);c.byId("infoInput").setTooltip(b)}};sap.ushell.components.tiles.utils.createSemanticObjectModel=function(c,S,d){var v=c.getView(),u="/sap/opu/odata/UI2/INTEROP/SemanticObjects",D=[{obj:"",name:""},{obj:"*",name:"*"}],b=(d||D).slice(0),o=new sap.ui.model.json.JSONModel();o.setSizeLimit(999999);o.setProperty("/value","");o.setProperty("/enabled",true);S.bindAggregation("suggestionItems","/items",new sap.ui.core.Item({text:"{obj}"}));S.setModel(o);if(sap.ushell.components.tiles.utils.aData.length>0){o.setData({items:b.concat(sap.ushell.components.tiles.utils.aData)},true);return}OData.read({requestUri:u,headers:{"Accept":"application/json"}},function(e,r){var I,T,i;for(i=0;i<e.results.length;i=i+1){I=e.results[i].id;T=e.results[i].text;sap.ushell.components.tiles.utils.aData.push({obj:I,name:T||I})}o.setData({items:b.concat(sap.ushell.components.tiles.utils.aData)},true)},function(e){var m=e&&e.message?e.message:e;if(e.response){m+=" - "+e.response.statusCode+" "+e.response.statusText}jQuery.sap.log.error("Could not fetch data: "+u+": "+m,null,(v.getViewName()||"sap.ushell.components.tiles.utils"))})};sap.ushell.components.tiles.utils.displayApplicationTypeFields=function(c){if(c.byId("typeLpd_cust").getSelected()){sap.ushell.components.tiles.utils.displayLpdCustApplicationTypeFields(c)}else{sap.ushell.components.tiles.utils.displaySapui5ApplicationTypeFields(c)}};sap.ushell.components.tiles.utils.displaySapui5ApplicationTypeFields=function(c){c.getModel().setProperty('/config/navigation_provider','SAPUI5');c.byId('navigation_provider_role').setVisible(false);c.byId('navigation_provider_roleInput').setVisible(false);c.byId('navigation_provider_instance').setVisible(false);c.byId('navigation_provider_instanceInput').setVisible(false);c.byId('target_application_alias').setVisible(false);c.byId('target_application_aliasInput').setVisible(false);c.byId('target_application_id').setVisible(false);c.byId('target_application_idInput').setVisible(false);c.byId('application_description').setVisible(true);c.byId('target_application_descriptionInput').setVisible(true);c.byId('application_url').setVisible(true);c.byId('target_application_urlInput').setVisible(true);c.byId('application_component').setVisible(true);c.byId('target_application_componentInput').setVisible(true)};sap.ushell.components.tiles.utils.displayLpdCustApplicationTypeFields=function(c){c.getModel().setProperty('/config/navigation_provider','LPD');c.byId('application_description').setVisible(false);c.byId('target_application_descriptionInput').setVisible(false);c.byId('application_url').setVisible(false);c.byId('target_application_urlInput').setVisible(false);c.byId('application_component').setVisible(false);c.byId('target_application_componentInput').setVisible(false);c.byId('navigation_provider_role').setVisible(true);c.byId('navigation_provider_roleInput').setVisible(true);c.byId('navigation_provider_instance').setVisible(true);c.byId('navigation_provider_instanceInput').setVisible(true);c.byId('target_application_alias').setVisible(true);c.byId('target_application_aliasInput').setVisible(true);c.byId('target_application_id').setVisible(true);c.byId('target_application_idInput').setVisible(true)}}())},"sap/ushell/functionBindPrototype.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.functionBindPrototype");if(!Function.prototype.bind){Function.prototype.bind=function(t){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var a=Array.prototype.slice.call(arguments,1),T=this,n=function(){},b=function(){return T.apply(this instanceof n&&t?this:t,a.concat(Array.prototype.slice.call(arguments)))};n.prototype=this.prototype;b.prototype=new n();return b}}}())},"sap/ushell/iconfonts.js":function(){(function(){"use strict";jQuery.sap.require("sap.ui.core.IconPool");jQuery.sap.declare("sap.ushell.iconfonts");sap.ushell.iconfonts={};sap.ushell.iconfonts.registerFiori2IconFont=function(){var l={fontFamily:"BusinessSuiteInAppSymbols",collectionName:"BusinessSuiteInAppSymbols",icons:[["icon-heart","E000"],["icon-quarter","E001"],["icon-year","E002"],["icon-equalizer","E003"],["icon-component","E004"],["icon-component-private","E005"],["icon-raw-material","E006"],["icon-sms","E007"],["icon-add-note","E008"],["icon-change-time-horizon","E009"],["icon-table-chart-customization","E00a"],["icon-delegated-important-task","E00b"],["icon-forklift","E00c"],["icon-coins","E00d"],["icon-filter-menu","E00e"],["icon-target-to-date","E00f"],["icon-program","E010"],["icon-phase","E011"],["icon-checklist","E012"],["icon-mirrored-task","E013"],["icon-sub-project","E014"],["icon-checklist-item","E015"],["icon-adhoc-analysis","E016"],["icon-change-analysis","E017"],["icon-review-demands","E018"],["icon-project-definition","E019"],["icon-data-access","E01a"],["icon-define-shortage","E01b"],["icon-review-supplies","E01c"],["icon-change-log","E01d"],["icon-priority-1","E01e"],["icon-priority-2","E01f"],["icon-jam","E020"],["icon-milestone","E021"],["icon-bulleting-with-numbers","E022"],["icon-decrease-indent","E023"],["icon-increase-indent","E024"],["icon-bold","E025"],["icon-italic","E026"],["icon-strike-through","E027"],["icon-underline","E028"],["icon-save-as","E029"],["icon-segmentation","E02A"],["icon-context-menu","E02B"],["icon-snapshot","E02C"],["icon-substraction-b-a","E02D"],["icon-substraction-a-b","E02E"],["icon-intersection","E02F"],["icon-union","E030"],["icon-top","E031"],["icon-bottom","E032"],["icon-page-up","E033"],["icon-page-down","E034"],["icon-create-dashboard","E035"],["icon-excelsius-file","E036"],["icon-open-folder","E037"],["icon-neutral","E038"],["icon-split-segmentation","E039"],["icon-manage-budget","E03A"],["icon-blocked","E03B"],["icon-pipette","E03C"],["icon-top-recipe","E03D"],["icon-recipe","E03E"],["icon-ingredients","E03F"],["icon-multiple-charts","E040"],["icon-descending-bars","E041"],["icon-descending-stacked-bars","E042"],["icon-scatter-plot","E043"],["icon-spill","E044"],["icon-fire","E045"],["icon-stratification","E046"],["icon-relationship","E047"],["icon-margin-decomposition","E048"],["icon-control-group","E049"],["icon-bullet-chart","E04A"],["icon-responsible-area","E04B"],["icon-increase","E04C"],["icon-decrease","E04D"],["icon-current-stock","E04E"],["icon-expedite","E04F"],["icon-postpone","E050"],["icon-approved","E051"],["icon-partially-delivered","E052"],["icon-line-bar-chart","E053"],["icon-expand-all","E054"],["icon-submission","E055"],["icon-change-request","E056"],["icon-column-unselected","E057"],["icon-column-selected","E058"],["icon-row-unselected","E059"],["icon-row-selected","E05A"],["icon-stock-requirements","E05B"],["icon-gender-male-and-female","E05C"],["icon-icon-marital-status","E05D"],["icon-birthday","E05E"],["icon-classification","E05F"],["icon-marked-for-deletion","E060"],["icon-bullet-chart","E061"],["icon-remove-filter","E062"],["icon-bank-account","E063"],["icon-savings-account","E064"],["icon-debit-card","E065"],["icon-vip-customer","E066"],["icon-undesirable-customer","E067"],["icon-answered-change-request","E068"],["icon-collected-change-request","E069"],["icon-draw-freehand","E06A"],["icon-draw-circle","E06B"],["icon-completed","E06C"],["icon-answered","E06D"],["icon-traffic-cone","E06E"],["icon-traffic-lights","E06F"],["icon-container","E070"],["icon-container-loading","E071"],["icon-traffic-jam","E072"],["icon-products","E073"],["icon-sidepanel","E074"],["icon-split-screen","E075"],["icon-truck-driver","E076"],["icon-keep-segment","E077"],["icon-exclude-segment","E078"],["icon-separate-segments","E079"],["icon-distribute-segments","E07A"],["icon-next-open-item","E07B"],["icon-where-used","E07C"]]},f={fontFamily:"SAP-Icons",collectionName:"Fiori2",icons:[["F0017","e05e"],["F0018","e0c3"],["F0019","e0c3"],["F0020","e0c3"],["F0021","e10d"],["F0366","e129"],["F0392","e04f"],["F0394","e044"],["F0395","e132"],["F0396","e064"],["F0397","e0a4"],["F0398","e0a4"],["F0399","e044"],["F0401","e08d"],["F0402","e13e"],["F0403","e13e"],["F0404","e033"],["F0405","e0b3"],["F0406","e043"],["F0407","e043"],["F0408","e043"],["F0409","e075"],["F0410","e007"],["F0411","e075"]]},F={fontFamily:"Fiori2",collectionName:"Fiori3",icons:[["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0263","E2A8"],["F0508","E2A9"],["F0509","E2AA"],["F0510","E2AB"],["F0533","E2AC"],["F0534","E2AD"],["F0535","E2AE"],["F0536","E2AF"],["F0537","E2B0"],["F0538","E2B1"],["Lumira001","E2B2"]]},a={fontFamily:"Fiori2",collectionName:"Fiori2",icons:[["F0002","E236"],["F0003","E202"],["F0004","E203"],["F0005","E204"],["F0006","E205"],["F0009","E206"],["F0010","E207"],["F0012","E208"],["F0014","E209"],["F0018","E200"],["F0019","E201"],["F0023","E20A"],["F0024","E20B"],["F0025","E20C"],["F0026","E20D"],["F0072","E23A"],["F0100","E23B"],["F0101","E23C"],["F0102","E23D"],["F0106","E20F"],["F0144","E210"],["F0190","E23E"],["F0194","E23F"],["F0210","E242"],["F0211","E243"],["F0212","E244"],["F0217","E211"],["F0220","E213"],["F0243","E215"],["F0244","E216"],["F0245","E217"],["F0246","E218"],["F0247","E219"],["F0250","E21C"],["F0251","E21D"],["F0248","E21A"],["F0249","E21B"],["F0252","E21E"],["F0257","E21F"],["F0281","E220"],["F0282","E221"],["F0283","E222"],["F0284","E223"],["F0292","E224"],["F0295","E225"],["F0296","E226"],["F0316","E227"],["F0317","E228"],["F0321","E229"],["F0339","E22A"],["F0340","E22B"],["F0341","E22C"],["F0342","E22D"],["F0365","E212"],["F0366","E22F"],["F0367","E230"],["F0368","E231"],["F0369","E235"],["F0370","E22E"],["F0372","E232"],["F0380","E233"],["F0381","E234"],["F0382","E246"],["F0390","E20E"],["F0412","E213"],["F0429","E2A6"],["F0xx1","E240"],["F0xx2","E241"],["F0013","E237"],["F0016","E238"],["F0028","E239"],["F0029","E283"],["F0030","E284"],["F0031","E285"],["F0032","E286"],["F0033","E287"],["F0034","E288"],["F0036","E289"],["F0038","E28A"],["F0039","E28B"],["F0041","E28C"],["F0044","E28D"],["F0293","E28E"],["F0294","E28F"],["F0297","E290"],["F0298","E291"],["F0299","E292"],["F0300","E293"],["F0301","E294"],["F0302","E295"],["F0303","E296"],["F0304","E297"],["F0305","E298"],["F0306","E299"],["F0323","E29A"],["F0324","E29B"],["F0326","E29C"],["F0327","E29D"],["F0328","E29E"],["F0329","E29F"],["F0331","E2A1"],["F0332","E2A2"],["F0343","E2A3"],["F0344","E2A4"],["F0345","E2A5"],["F0388","E2A7"],["F0391","E2A0"],["F0260","E2B4"],["FD10N","E2B5"],["FK10N","E2B6"],["FS10N","E2B7"],["FBL5N","E2B8"],["FBL1N","E2B9"],["FFS01","E2BA"],["FBL3N","E2BB"],["FCOA1","E2BC"]]},o={fontFamily:"Fiori2",collectionName:"Fiori4",icons:[["F0194","E2BD"],["F0260","E2B4"],["F0433","E21C"],["F0251","E2BE"],["F0499","E2BF"],["F0500","E2C0"],["F0501","E2C1"],["F0502","E2C2"],["F0503","E2C3"],["F0504","E2C4"],["F0507","E2C5"],["F0530","E2C6"],["F0531","E2C7"],["F0539","E2C8"],["F0544","E2C9"],["F0545","E2CA"],["F0547","E2CB"],["F0576","E2CC"],["F0578","E2CD"],["F0579","E2CE"],["F0580","E2CF"],["F0581","E2D0"],["F0582","E2D1"],["F0583","E2D2"],["F0584","E2D3"],["F0586","E2D4"],["F0587","E2D5"],["F0588","E2D6"],["F0589","E2D7"],["F0590","E2D8"],["F0591","E2D9"],["F0593","E2DA"],["F0594","E2DB"],["F0597","E2DC"],["F0603","E2DD"],["F0604","E2DE"],["F0605","E2DF"],["F0606","E2E0"],["F0607","E2E1"],["F0608","E2E2"],["F0609","E2E3"],["F0615","E2E4"],["F0616","E2E5"],["F0618","E2E6"],["F0617","E2E7"],["F0622","E2E8"],["F0623","E2E9"],["F0624","E2BC"],["F0625","E2EB"],["F0626","E2EC"],["F0627","E2ED"],["F0629","E2EE"],["F0630","E2EF"],["F0632","E2F0"],["F0633","E2F1"],["F0634","E2F2"],["F0635","E2F3"],["F0636","E2F4"],["F0638","E2F5"],["F0639","E2F6"],["F0643","E2F7"],["F0644","E2F8"],["F0645","E2F9"],["F0646","E2FA"],["F0648","E2FB"],["F0649","E2FC"],["F0650","E2FD"],["F0654","E2FE"],["F0655","E2FF"],["F0659","E300"],["F0660","E301"],["F0661","E302"],["F0665","E303"],["F0666","E304"],["F0667","E305"],["F0671","E306"],["F0672","E307"],["F0673","E308"],["F0675","E309"],["F0676","E30A"],["F0677","E30B"],["F0678","E30C"],["F0679","E30D"],["F0680","E30E"],["F0682","E30F"],["F0683","E310"],["F0684","E240"],["F0685","E312"],["F0686","E313"],["F0687","E314"],["F0690","E315"],["F0691","E316"],["F0692","E317"],["F0693","E318"],["F0694","E319"],["F0695","E31A"],["F0700","E31B"],["F0598","E31C"],["F0600","E38A"]]},b={fontFamily:"Fiori2",collectionName:"Fiori5",icons:[["F0263","E321"],["F0266","E322"],["F0834","E31D"],["F2001","E31E"],["F0839","E320"],["F0270","E323"],["F0273","E324"],["F0439","E325"],["F0443","E326"],["F0549","E327"],["F0550","E328"],["F0551","E329"],["F0577","E32A"],["F0585","E32B"],["F0637","E32C"],["F0668","E32D"],["F0669","E32E"],["F0670","E330"],["F0688","E331"],["F0689","E332"],["F0701","E333"],["F0702","E334"],["F0703","E335"],["F0706","E336"],["F0707","E337"],["F0708","E338"],["F0711","E339"],["F0712","E33A"],["F0731","E33B"],["F0732","E33C"],["F0733","E33D"],["F0735","E33E"],["F0736","E340"],["F0737","E341"],["F0742","E342"],["F0743","E343"],["F0744","E344"],["F0745","E345"],["F0746","E346"],["F0747","E347"],["F0748","E348"],["F0749","E349"],["F0750","E34A"],["F0751","E34B"],["F0755","E34C"],["F0756","E34D"],["F0757","E34E"],["F0758","E350"],["F0759","E351"],["F0760","E352"],["F0761","E353"],["F0763","E354"],["F0764","E355"],["F0765","E356"],["F0768","E357"],["F0770","E358"],["F0771","E359"],["F0772","E35A"],["F0774","E35B"],["F0776","E35C"],["F0777","E35D"],["F0778","E35E"],["F0788","E360"],["F0789","E361"],["F0790","E362"],["F0791","E363"],["F0792","E364"],["F0793","E365"],["F0794","E366"],["F0806","E367"],["F0807","E368"],["F0808","E369"],["F0809","E36A"],["F0810","E36B"],["F0811","E36C"],["F0812","E36D"],["F0813","E36E"],["F0814","E370"],["F0815","E371"],["F0816","E372"],["F0817","E373"],["F0818","E374"],["F0819","E375"],["F0820","E376"],["F0821","E377"],["F0822","E378"],["F0823","E379"],["F0824","E37A"],["F0825","E37B"],["F0826","E37C"],["F0827","E37D"],["F0828","E37E"],["F0829","E380"],["F0830","E381"],["F0831","E382"],["F0717","E383"],["F0718","E384"],["F0241","E385"],["F0246","E386"],["F0250","E387"],["F0248","E388"],["F0252","E389"],["F0600","E38A"],["F0674","E38B"],["F0247","E38E"],["F0251","E390"]]},c={fontFamily:"Fiori2",collectionName:"Fiori6",icons:[["F0795","E397"],["F0866","E3A0"],["F0865","E3A1"],["F0867","E3A2"],["F0868","E3A3"],["F0869","E3A4"],["F0870","E3A5"],["F0138","E3A6"],["F0752","E3A7"],["F0753","E3A8"],["F0773","E3A9"],["F0891","E3AA"],["F0892","E3AB"],["F1023","E3AC"]]},d={fontFamily:"FioriInAppIcons",collectionName:"FioriInAppIcons",icons:[["Hierarchal Tree","E700"],["Open","E701"],["Blocked","E702"],["Partially Blocked","E703"],["Open1","E704"],["Partially Adopted","E705"],["Due","E706"],["Overdue","E707"],["Missing Parts","E708"],["Fire","E709"],["Dangerous Chemicals","E70A"]]},e={fontFamily:"Fiori2",collectionName:"FioriNonNative",icons:[["FN0001","E392"],["FN0002","E398"],["FN0003","E399"],["FN0004","E39A"],["FN0005","E39B"],["FN0006","E39C"],["FN0007","E39D"],["FN0008","E39E"],["FN0009","E39F"]]};this.registerFonts(f,F,a,l,d,o,b,e,c)};sap.ushell.iconfonts.registerFonts=function(){var I,i,j;for(i=0;i<arguments.length;i=i+1){I=arguments[i];for(j=0;j<I.icons.length;j=j+1){sap.ui.core.IconPool.addIcon(I.icons[j][0],I.collectionName,I.fontFamily,I.icons[j][1],false,true)}}}}())},"sap/ushell/library.js":function(){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.library");jQuery.sap.require("sap.ui.core.Core");jQuery.sap.require("sap.ui.core.library");jQuery.sap.require("sap.ui.layout.library");jQuery.sap.require("sap.m.library");sap.ui.getCore().initLibrary({name:"sap.ushell",dependencies:["sap.ui.core","sap.ui.layout","sap.m"],types:["sap.ushell.ui.launchpad.DeleteAreaType","sap.ushell.ui.tile.State","sap.ushell.ui.tile.StateArrow"],interfaces:[],controls:["sap.ushell.components.factsheet.controls.PictureTile","sap.ushell.components.factsheet.controls.PictureViewer","sap.ushell.components.factsheet.controls.PictureViewerItem","sap.ushell.ui.footerbar.AboutButton","sap.ushell.ui.footerbar.AddBookmarkButton","sap.ushell.ui.footerbar.ContactSupportButton","sap.ushell.ui.footerbar.HideGroupsButton","sap.ushell.ui.footerbar.JamDiscussButton","sap.ushell.ui.footerbar.JamShareButton","sap.ushell.ui.footerbar.LoginDetailsButton","sap.ushell.ui.footerbar.LogoutButton","sap.ushell.ui.footerbar.SettingsButton","sap.ushell.ui.launchpad.CatalogListItem","sap.ushell.ui.launchpad.DashboardGroupsContainer","sap.ushell.ui.launchpad.DeleteArea","sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage","sap.ushell.ui.launchpad.GroupListItem","sap.ushell.ui.launchpad.HeaderTile","sap.ushell.ui.launchpad.LoadingDialog","sap.ushell.ui.launchpad.Panel","sap.ushell.ui.launchpad.PlusTile","sap.ushell.ui.launchpad.SearchResultAppItem","sap.ushell.ui.launchpad.SearchResultApps","sap.ushell.ui.launchpad.SearchSuggestionList","sap.ushell.ui.launchpad.SearchSuggestionListItem","sap.ushell.ui.launchpad.Tile","sap.ushell.ui.launchpad.TileContainer","sap.ushell.ui.launchpad.TileState","sap.ushell.ui.tile.DynamicTile","sap.ushell.ui.tile.ImageTile","sap.ushell.ui.tile.StaticTile","sap.ushell.ui.tile.TileBase"],elements:[],version:"1.24.5"});jQuery.sap.declare("sap.ushell.ui.launchpad.DeleteAreaType");sap.ushell.ui.launchpad.DeleteAreaType={Dashboard:"Dashboard",GroupList:"GroupList"};jQuery.sap.declare("sap.ushell.ui.tile.State");sap.ushell.ui.tile.State={Neutral:"Neutral",None:"None",Negative:"Negative",Error:"Error",Positive:"Positive",Success:"Success",Critical:"Critical",Warning:"Warning"};jQuery.sap.declare("sap.ushell.ui.tile.StateArrow");sap.ushell.ui.tile.StateArrow={None:"None",Up:"Up",Down:"Down"}},"sap/ushell/override.js":function(){
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.declare("sap.ushell.override");sap.ushell.override={};sap.ushell.override.updateAggregation=function(n){if(this.isTreeBinding(n)){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments)}else{var b=this.mBindingInfos[n],B=b.binding,a=B.getContexts(),f=b.factory,A=this.getMetadata().getJSONKeys()[n],g=A._sMutator+"Group",G=B.isGrouped()&&this[g],i=0,I=[],c=$.proxy(function(C){var s=this.getId()+"-"+jQuery.sap.uid(),o=f(s,C);o.setBindingContext(C,b.model);this[A._sMutator](o)},this);if(G){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments)}else{I=this[A._sGetter]();for(i=0;i<a.length;++i){if(i<I.length){I[i].setBindingContext(a[i],b.model)}else{c(a[i])}}for(;i<I.length;++i){I[i].destroy()}I.length=a.length}}};sap.ushell.override.updateAggregationGrouped=function(n){var b=this.mBindingInfos[n],B=b.binding,f=b.factory,a=this.getMetadata().getJSONKeys()[n],c,N=null,g=null,G=null,t=this,I=t.getItems(),l=0,L=0,i,s,T=[];g=B.isGrouped()&&this.addItemGroup;jQuery.each(B.getContexts(),function(d,C){if(g&&B.aSorters.length>0){N=B.aSorters[0].fnGroup(C);if(typeof N==="string"){N={key:N}}if(N.key!==G){var o,h;if(b.groupHeaderFactory){o=b.groupHeaderFactory(N)}h=o||new sap.m.GroupHeaderListItem({title:N.text||N.key}).addStyleClass("sapMListHdr");t.insertAggregation("items",h,L,true);L=L+1;G=N.key}}I=t.getItems();for(i=L;i<I.length;i=i+1){if(I[i].constructor===sap.m.GroupHeaderListItem){T.push(t.removeItem(I[i]));I=t.getItems()}}if(L<I.length){I[L].setBindingContext(C,b.model);if(I[L].aDelegates){jQuery.each(I[L].aDelegates,function(i,v){v.vThis=C})}}else{s=t.getId()+"-"+L;c=f(s,C);c.setBindingContext(C,b.model);t.addItem(c)}L=L+1;l=L});for(i=I.length-1;i>=l;i=i-1){T.push(t.removeItem(I[i]))}setTimeout(function(){jQuery.each(T,function(i,v){v.destroy()})},1)};sap.ushell.override.updateAggregatesFactory=function(n){return function(){$.proxy(sap.ushell.override.updateAggregation,this,n)()}}}())},"sap/ushell/renderers/fiori2/AccessKeysHandler.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.renderers.fiori2.AccessKeysHandler");var a=function(){this.init()};a.prototype={keyCodes:jQuery.sap.KeyCodes,activateFlag:true,activateAccessibilityKeys:function(f){if(this.activateFlag===!!f){return}this.activateFlag=!!f;if(this.activateFlag){this.init()}else{jQuery("body").off('keyup.accessKeysHandler')}},handleCatalogKey:function(){sap.ushell.renderers.fiori2.Navigation.openCatalogByHash({groupContext:null});jQuery("#configBtn").focus()},handleHomepageKey:function(){var m=sap.ui.getCore().byId("mainShell"),s=m.getController();s.navigateToHome();jQuery("#homeBtn").focus()},handleSearchKey:function(){var s=sap.ui.getCore().byId('sf');var j=jQuery(s.getDomRef());j.click()},handleUserMenuKey:function(){var l=sap.ui.getCore().byId('loginDetails');if(!l){jQuery.sap.require('sap.ushell.ui.footerbar.LoginDetailsButton');l=new sap.ushell.ui.footerbar.LoginDetailsButton()}l.showLoginDetailsDialog()},handleAccessOverviewKey:function(){var t=sap.ushell.resources.i18n,s=new sap.ui.layout.form.SimpleForm({editable:false,content:[new sap.m.Label({text:"Alt+C"}),new sap.m.Text({text:t.getText("actionCatalog")}),new sap.m.Label({text:"Alt+H"}),new sap.m.Text({text:t.getText("actionHomePage")}),new sap.m.Label({text:"Alt+S"}),new sap.m.Text({text:t.getText("actionSearch")}),new sap.m.Label({text:"Alt+U"}),new sap.m.Text({text:t.getText("actionLoginDetails")})]}),d,o=new sap.m.Button({text:t.getText("okBtn"),press:function(){d.close()}});d=new sap.m.Dialog({id:"hotKeysGlossary",title:t.getText("hotKeysGlossary"),contentWidth:"300px",leftButton:o,afterClose:function(){d.destroy()}});d.addContent(s);d.open()},getNumberOfTileInRow:function(f){var j=jQuery(".sapUshellTile:first");if(!j.length)return false;var c=sap.ui.getCore();var t=c.byId(j.attr('id'));var b=(t.getLong()==true)?2:1;var d;if(!f){d=jQuery("#dashboardGroups").width()}else{d=jQuery("#catalogTiles").width()}var e=j.outerWidth(true)/b;var n=Math.floor(d/e);return n},goToEdgeTile:function(s){var t=jQuery(".sapUshellTile:visible")[s]();if(!t.length){return false}this.setTileFocus(t);return true},goToFirstTileOfSiblingGroup:function(s,e){e.preventDefault();var c=jQuery(":focus").closest(".sapUshellDashboardGroupsContainerItem");if(!c.length)return;var n=c[s](".sapUshellDashboardGroupsContainerItem:not(.sapUshellCloneArea)");var t='first';if(!n.length){if(!(s=="next"))return;n=c;t='last'}var j=n.find(".sapUshellTile")[t]();this.setTileFocus(j);this.moveScrollDashboard(j);return false},goToFirstTileOfSiblingGroupInCatalog:function(s,e){e.preventDefault();var j=this.getFocusOnTile(jQuery(":focus"));if(!j)return;var b;if(s=="next"){var i=j.nextAll("h3").length?false:true;if(!i){b=j.nextAll("h3").first().next()}else{b=j.nextAll(".sapUshellTile").last()}}else{var c=j.prevAll("h3").length==1?true:false;if(!c){b=jQuery(j.prevAll("h3")[1]).next()}else{b=j.prevAll("h3").last().next()}}this.setTileFocus(b);this.moveScrollCatalog(b);return false},swapTwoTilesInGroup:function(g,f,s){var b=g.getBindingContext().getObject();var c=b.tiles.indexOf(f.getBindingContext().getObject());var d=b.tiles.indexOf(s.getBindingContext().getObject());var e=b.tiles.splice(c,1,null);var h=b.tiles.splice(d,1,e[0]);b.tiles.splice(c,1,h[0]);var i=g.getBindingContext().getPath();g.getModel().setProperty(i,b)},moveTileInGroup:function(g,f,s){if(sap.ui.getCore().byId("shell").getModel().getProperty("/personalization")){var b=g.getBindingContext().getObject();var c=b.tiles.indexOf(f.getBindingContext().getObject());var d=b.tiles.indexOf(s.getBindingContext().getObject());var e=b.tiles.splice(c,1);b.tiles.splice(d,0,e[0]);var h=g.getBindingContext().getPath();g.getModel().setProperty(h,b)}},moveTile:function(d,s){if(sap.ui.getCore().byId("shell").getModel().getProperty("/personalization")){if(typeof s=="undefined"){s=false}var i=this.getGroupAndTilesInfo();if(!i)return;var n=this.getNextTile(d,i);if(!n)return;if(s){this.swapTwoTilesInGroup(i.group,i.curTile,n)}else{this.moveTileInGroup(i.group,i.curTile,n)}setTimeout(function(){this.setTileFocus($(n.getDomRef()))}.bind(this),100)}},getNextTile:function(d,b){var n,c=sap.ui.getCore().getConfiguration().getRTL();if(d=="left"){n=b.tiles[b.curTileIndex+(c?1:-1)]}if(d=="right"){n=b.tiles[b.curTileIndex+(c?-1:1)]}if(d=="down"||d=="up"){var e;var o=parseFloat(b.curTile.getDomRef().offsetLeft);if(d=="down"){e=b.tiles.slice(b.curTileIndex+1,b.curTileIndex+(b.sizeOfLine*2))}else{var s=b.curTileIndex-(b.sizeOfLine*2);s=(s>0)?s:0;e=b.tiles.slice(s,b.curTileIndex-1).reverse()}for(var i=0,l=e.length;i<l;i++){var t=e[i].getDomRef();var f=parseFloat(t.offsetLeft);var w=parseFloat(t.offsetWidth);var g=f+w;if(f<=o&&g>=o){n=e[i];break}}}return n},getGroupAndTilesInfo:function(j,f){if(!j){j=this.getFocusOnTile(jQuery(":focus"))}if(!j.length)return;var c=sap.ui.getCore().byId(j.attr('id'));var g=c.getParent();var t;if(!f){t=g.getTiles()}else{t=new Array();var b=j.prevAll("h3").first().nextUntil("h3");for(var i=0;i<b.length;i++){t.push(sap.ui.getCore().byId(b[i].id))}}var s=this.getNumberOfTileInRow(f);return{curTile:c,curTileIndex:t.indexOf(c),tiles:t,sizeOfLine:s,group:g}},goToNearbyTile:function(d,j,f){var i=this.getGroupAndTilesInfo(j,f);if(!i)return;var n=this.getNextTile(d,i);if(!n)return;this.setTileFocus($(n.getDomRef()))},deleteTile:function(j){var t=j.attr("id");if(t){var T=sap.ui.getCore().byId(t);var e=sap.ui.getCore().getEventBus();e.publish("launchpad","deleteTile",{tileId:T.getUuid()})}},setTileFocus:function(j){if(!j.hasClass('sapUshellPlusTile')){var b=j.find('[tabindex], a').andSelf().filter('[tabindex], a');b.filter('[tabindex!="-1"]');j=b.eq(0)}j.focus()},moveScrollDashboard:function(j){var b=jQuery("#dashboardPage-cont");var t=jQuery('#shell-hdr').height()+parseInt(jQuery('.sapUshellContainerTitle').css('margin-top'),10);var y=j.offset().top+b.scrollTop()-t;sap.ui.getCore().byId("dashboardPage").scrollTo(y,500)},moveScrollCatalog:function(j){var b=jQuery("#catalogTilesPage-cont");var t=jQuery('#shell-hdr').height()+jQuery('.sapMPageHeader').height()+(parseInt(jQuery('.sapMPanelHdr').css('margin-top'),10)*2);var y=j.offset().top+b.scrollTop()-t;sap.ui.getCore().byId("catalogTilesPage").scrollTo(y,500)},goToNearbySidePanelGroup:function(d,j){var s=(d=="up")?"prev":"next";var n=j[s]();if(!n)return;n.focus()},deleteSidePanelGroup:function(j){var c=sap.ui.getCore();var g=c.byId(j.attr('id'));var r=g.getRemovable();var e=c.getEventBus();e.publish("launchpad",r?"deleteGroup":"resetGroup",{groupId:g.getGroupId()})},moveSidePanelGroup:function(d,j){var c=sap.ui.getCore();var g=c.byId(j.attr('id'));var i=g.getIndex();var t=d=="up"?i-1:i+1;if(!i||!t)return;var b=g.getParent().getItems();if(t>=(b.length))return;var D={fromIndex:i,toIndex:t};var B=c.getEventBus();B.publish("launchpad","moveGroup",D);this.upDownButtonsHandler(d)},goToEdgeSidePanelGroup:function(s){var j=jQuery(".sapUshellGroupLI");j[s]().focus()},getFocusGroupFromSidePanel:function(j){var b=j.closest(".sapUshellGroupLI");return b.length?b:false},getFocusOnTile:function(j){var b=j.closest(".sapUshellTile");return b.length?b:false},getFocusOnCatalogPopover:function(j){var b=j.closest(".sapMPopover");return b.length?b:false},addGroup:function(j){var c=sap.ui.getCore();var b=c.byId(j.attr('id'));b.firePress()},renameGroup:function(){var j=jQuery(":focus");var b=this.getFocusGroupFromSidePanel(j);if(b){b.dblclick()}},upDownButtonsHandler:function(d,f){var j,b=jQuery(":focus");if(j=this.getFocusGroupFromSidePanel(b)){this.goToNearbySidePanelGroup(d,j);return}if(j=this.getFocusOnTile(b)){this.goToNearbyTile(d,j,f);return}if(j=this.getFocusOnCatalogPopover(b)){this.goToNearbyTile(d,j,f);return}},homeEndButtonsHandler:function(s){var j,b=jQuery(":focus");if(b.closest("#dashboardGroups").length||b.closest("#catalogTiles").length){this.goToEdgeTile(s);return}if(j=this.getFocusGroupFromSidePanel(b)){this.goToEdgeSidePanelGroup(s);return}},deleteButtonHandler:function(){if(sap.ui.getCore().byId("shell").getModel().getProperty("/personalization")){var j,b=jQuery(":focus");if(j=this.getFocusOnTile(b)){this.deleteTile(j);return}if(j=this.getFocusGroupFromSidePanel(b)){if(!j.hasClass('sapUshellEditing')&&!j.hasClass("sapUshellDefaultGroupItem")){this.deleteSidePanelGroup(j);return}}}},ctrlUpDownButtonsHandler:function(s){var j,b=jQuery(":focus");if(j=this.getFocusOnTile(b)){this.moveTile(s,false,j);return}if(j=this.getFocusGroupFromSidePanel(b)){this.moveSidePanelGroup(s,j);return}this.moveTile("down")},spaceButtonHandler:function(e){var j,b=jQuery(":focus");if(j=this.getFocusGroupFromSidePanel(b)){j.click();return false}var j=b.closest('#addGroupActionItem');if(j.length){this.addGroup(j);return false}},f6DashboardButtonHandler:function(e){var j=jQuery(":focus"),b,f;var s={configButton:'#configBtn',sidePanelFirstGroup:'.sapUshellGroupLI:first:visible',firstTile:'.sapUshellTile:first'};if(j.closest('#dashboardGroups').length){if(!e.shiftKey){f="configButton"}else{b=jQuery(s.sidePanelFirstGroup);if(!b.length){f="configButton"}else{f="jqElement"}}}if(j.closest(s.sidePanelFirstGroup).length){if(!e.shiftKey){f='firstTile'}else{f='configButton'}}if(j.closest('#shell-hdr').length){if(e.shiftKey){f='firstTile'}else{b=jQuery(s.sidePanelFirstGroup);if(!b.length){f='firstTile'}else{f="jqElement"}}}e.preventDefault();switch(f){case'firstTile':b=jQuery(s.firstTile);this.setTileFocus(b);break;case'jqElement':b.focus();break;default:b=jQuery(s.configButton);b.focus();break}return false},f6CatalogButtonHandler:function(e){var j=jQuery(":focus"),b,f;var s={homeButton:'#homeBtn',backButton:'.sapMBarChild.sapMBtn:first',dropDownList:'#catalogSelect',searchField:'#catalogSearch input',firstTile:'#catalogTiles .sapUshellTile:visible:first'};if(j.closest('#shell-hdr').length){if(!e.shiftKey){f='backButton';b=jQuery(s.backButton)}else{f='firstTile';b=jQuery(s.firstTile)}}if(j.closest(s.backButton).length){if(!e.shiftKey){b=jQuery(s.dropDownList);f='dropDownList'}else{b=jQuery(s.homeButton);f='homeButton'}}if(j.closest('#catalogSelect').length){if(!e.shiftKey){b=jQuery(s.searchField);f='searchField'}else{b=jQuery(s.backButton);f='backButton'}}if(j.closest('#catalogSearch').length){if(!e.shiftKey){b=jQuery(s.firstTile);f='firstTile'}else{b=jQuery(s.dropDownList);f='dropDownList'}}if(j.closest('#catalogTiles').length){if(!e.shiftKey){b=jQuery(s.homeButton);f="homeButton"}else{b=jQuery(s.searchField);f="searchField"}}e.preventDefault();switch(f){case'firstTile':b=jQuery(s.firstTile);this.setTileFocus(b);break;case'homeButton':case'backButton':case'dropDownList':case'searchField':b.focus();break;default:b=jQuery(s.homeButton);b.focus();break}return false},mainKeydownHandler:function(e){e=e||window.event;switch(e.keyCode){case this.keyCodes.SPACE:this.spaceButtonHandler(e);break;case this.keyCodes.HOME:this.homeEndButtonsHandler("first");break;case this.keyCodes.END:this.homeEndButtonsHandler("last");break;default:return true}},catalogKeydownHandler:function(k){var h=sap.ushell.renderers.fiori2.AccessKeysHandler;var f=true;switch(k.keyCode){case h.keyCodes.F6:return h.f6CatalogButtonHandler(k);break;case h.keyCodes.ARROW_UP:h.upDownButtonsHandler("up",f);break;case h.keyCodes.ARROW_DOWN:h.upDownButtonsHandler("down",f);break;case h.keyCodes.ARROW_RIGHT:h.goToNearbyTile("right");break;case h.keyCodes.ARROW_LEFT:h.goToNearbyTile("left");break;case h.keyCodes.PAGE_UP:h.goToFirstTileOfSiblingGroupInCatalog('prev',k);break;case h.keyCodes.PAGE_DOWN:h.goToFirstTileOfSiblingGroupInCatalog('next',k);break}},dashboardKeydownHandler:function(k){var h=sap.ushell.renderers.fiori2.AccessKeysHandler;switch(k.keyCode){case h.keyCodes.F2:this.renameGroup();break;case h.keyCodes.F6:return h.f6DashboardButtonHandler(k);break;case h.keyCodes.DELETE:h.deleteButtonHandler();break;case h.keyCodes.ARROW_UP:if(k.ctrlKey===true){h.ctrlUpDownButtonsHandler("up")}else{h.upDownButtonsHandler("up")}break;case h.keyCodes.ARROW_DOWN:if(k.ctrlKey===true){h.ctrlUpDownButtonsHandler("down")}else{h.upDownButtonsHandler("down")}break;case h.keyCodes.ARROW_RIGHT:if(k.ctrlKey===true){h.moveTile("right")}else{h.goToNearbyTile("right")}break;case h.keyCodes.ARROW_LEFT:if(k.ctrlKey===true){h.moveTile("left")}else{h.goToNearbyTile("left")}break;case h.keyCodes.PAGE_UP:h.goToFirstTileOfSiblingGroup('prev',k);break;case h.keyCodes.PAGE_DOWN:h.goToFirstTileOfSiblingGroup('next',k);break}},init:function(){jQuery(document).on('keyup.accessKeysHandler',function(k){if(!this.activateFlag){return}if(k.altKey){switch(String.fromCharCode(k.keyCode).toUpperCase()){case'C':if(sap.ui.getCore().byId("shell").getModel().getProperty("/personalization")){this.handleCatalogKey()}break;case'H':this.handleHomepageKey();break;case'S':this.handleSearchKey();break;case'U':this.handleUserMenuKey();break;case'0':this.handleAccessOverviewKey();break}}}.bind(this));jQuery(document).on('keydown.main',this.mainKeydownHandler.bind(this))}};sap.ushell.renderers.fiori2.AccessKeysHandler=new a()}())},"sap/ushell/renderers/fiori2/History.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.renderers.fiori2.History");sap.ushell.renderers.fiori2.History=function(){this._history=[];this.backwards=false;this._historyPosition=-1;this._virtual={}};sap.ushell.renderers.fiori2.History.prototype.hashChange=function(n,o){var h=this._history.indexOf(n);if(h===-1){if(this._historyPosition+1<this._history.length){this._history=this._history.slice(0,this._historyPosition+1)}this._history.push(n);this._historyPosition+=1;this.backwards=false;this.forwards=false}else{this.backwards=this._historyPosition>h;this.forwards=this._historyPosition<h;this._historyPosition=h}};sap.ushell.renderers.fiori2.History.prototype.isVirtualHashchange=function(n,o){return this._virtual.hasOwnProperty(o)&&this.getCurrentHash()===n&&this._history.length-1>this._historyPosition&&this._history[this._historyPosition+1]===o};sap.ushell.renderers.fiori2.History.prototype.setVirtualNavigation=function(h){this._virtual[h]=true};sap.ushell.renderers.fiori2.History.prototype.getCurrentHash=function(){return this._history[this._historyPosition]||null};sap.ushell.renderers.fiori2.History.prototype.getHashIndex=function(h){return this._history.indexOf(h)};sap.ushell.renderers.fiori2.History.prototype.getHistoryLength=function(){return this._history.length}}())},"sap/ushell/renderers/fiori2/Navigation.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.renderers.fiori2.Navigation");sap.ushell.renderers.fiori2.Navigation=function(){this.CATALOG={ID:"ShellCatalog",SEMANTICOBJECT:"shell",ACTION:"catalog"};this.SEARCH={ID:"ShellSearch",SEMANTICOBJECT:"shell",ACTION:"search"};sap.ushell.Container.getService("NavTargetResolution").registerCustomResolver({name:"Shell Internal Navigation",isApplicable:jQuery.proxy(this.navTargetIsApplicableForShell,this),resolveHashFragment:jQuery.proxy(this.resolveHashFragmentForShell,this)});sap.ushell.Container.getService("NavTargetResolution").registerCustomResolver({name:"Search App Container",isApplicable:function(h){return h==="#Action-search"},resolveHashFragment:function(h){var d=new jQuery.Deferred(),r={};if(h==="#Action-search"){r={"additionalInformation":"SAPUI5.Component=sap.ushell.renderers.fiori2.search.container","applicationType":"URL","url":jQuery.sap.getResourcePath("sap/ushell/renderers/fiori2/search/container")}}d.resolve(r);return d.promise()}})};sap.ushell.renderers.fiori2.Navigation.prototype.openCatalogByHash=function(d,s){var h="#"+sap.ushell.Container.getService("URLParsing").constructShellHash({target:{semanticObject:this.CATALOG.SEMANTICOBJECT,action:this.CATALOG.ACTION},params:{targetGroup:[(d&&d.groupContext&&d.groupContext.sPath)||"/groups/0"],catalogSelector:[(d&&d.categoryFilter)||""],tileFilter:[(d&&d.searchFilter)||""]}});sap.ushell.Container.getService("ShellNavigation").hashChanger.privsetHash(h,s===undefined?true:s);jQuery(document).off('keydown.dashboard');jQuery(document).off('keydown.catalog');jQuery(document).on('keydown.catalog',sap.ushell.renderers.fiori2.AccessKeysHandler.catalogKeydownHandler)};sap.ushell.renderers.fiori2.Navigation.prototype.navTargetIsApplicableForShell=function(h){var a=sap.ushell.Container.getService("URLParsing").parseShellHash(h.substring(1));return a&&(a.semanticObject===this.CATALOG.SEMANTICOBJECT&&a.action===this.CATALOG.ACTION)};sap.ushell.renderers.fiori2.Navigation.prototype.resolveHashFragmentForShell=function(h){var a=sap.ushell.Container.getService("URLParsing").parseShellHash(h.substring(1)),d=new jQuery.Deferred(),r={};if(a.action===this.CATALOG.ACTION){r={applicationType:this.CATALOG.ID,catalogSelector:a.params.catalogSelector,tileFilter:a.params.tileFilter,targetGroup:a.params.targetGroup}}d.resolve(r);return d.promise()};sap.ushell.renderers.fiori2.Navigation=new sap.ushell.renderers.fiori2.Navigation()}())},"sap/ushell/renderers/fiori2/Renderer.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.renderers.fiori2.Renderer");jQuery.sap.require("sap.ui.core.UIComponent");jQuery.sap.require("sap.ushell.resources");sap.ui.core.UIComponent.extend("sap.ushell.renderers.fiori2.Renderer",{metadata:{version:"1.24.5",dependencies:{version:"1.24.5",libs:["sap.ui.core","sap.ui.unified","sap.m"],components:[]}}});sap.ushell.renderers.fiori2.Renderer.prototype.createContent=function(){var p=jQuery.sap.getUriParameters().get("appState")||jQuery.sap.getUriParameters().get("sap-ushell-config"),v=this.getComponentData()||{};if(p){if(!v.config){v.config={}}v.config.appState=p}return sap.ui.view('mainShell',{type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.ushell.renderers.fiori2.Shell",viewData:v})}}())},"sap/ushell/renderers/fiori2/Shell.controller.js":function(){(function(){"use strict";jQuery.sap.require("sap.ui.core.IconPool");setTimeout(function(){jQuery.sap.require("sap.ushell.renderers.fiori2.launchpad.DashboardManager")},10);jQuery.sap.require("sap.ushell.services.Message");jQuery.sap.require("sap.ushell.services.ShellNavigation");jQuery.sap.require("sap.ushell.services.AppConfiguration");jQuery.sap.require("sap.ushell.renderers.fiori2.History");jQuery.sap.require("sap.ushell.ui.launchpad.LoadingDialog");jQuery.sap.require("sap.ushell.renderers.fiori2.AccessKeysHandler");var a=true,m=sap.ui.Device.system.phone,u,M=new sap.ui.model.json.JSONModel({groups:[],animationRendered:false,title:"My demo title",searchAvailable:false,rtl:false,personalization:true,searchTerm:"",states:{"home":{"stateName":"home","showCurtain":false,"headerHiding":false,"headerVisible":true,"showCatalog":false,"showPane":false,"headItems":["configBtn"],"headEndItems":["sf"],"search":"","paneContent":[],"actions":["ContactSupportBtn","loginDetails","hideGroupsBtn","logoutBtn"]},"app":{"stateName":"app","showCurtain":false,"headerHiding":true,"headerVisible":true,"headEndItems":["sf"],"showCatalog":false,"showPane":false,"search":"","headItems":["homeBtn"],"actions":["ContactSupportBtn","aboutBtn","loginDetails","logoutBtn"],"shellActions":["ContactSupportBtn","aboutBtn","loginDetails","logoutBtn"]},"minimal":{"stateName":"minimal","showCurtain":false,"headerHiding":false,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"headItems":[],"actions":["ContactSupportBtn","aboutBtn","loginDetails","logoutBtn"],"shellActions":["ContactSupportBtn","aboutBtn","loginDetails","logoutBtn"]},"standalone":{"stateName":"standalone","showCurtain":false,"headerHiding":true,"headerVisible":true,"headEndItems":[],"showCatalog":false,"showPane":false,"headItems":[],"actions":["ContactSupportBtn","aboutBtn"],"shellActions":["ContactSupportBtn","aboutBtn"]},"embedded":{"stateName":"embedded","showCurtain":false,"headerHiding":true,"headerVisible":true,"headEndItems":["standardActionsBtn"],"showCatalog":false,"showPane":false,"headItems":[],"actions":["ContactSupportBtn","aboutBtn"],"shellActions":["ContactSupportBtn","aboutBtn"]},"headerless":{"stateName":"headerless","showCurtain":false,"headerHiding":true,"headerVisible":false,"headEndItems":[],"showCatalog":false,"showPane":false,"headItems":[],"actions":[],"shellActions":[]},"catalog":{"stateName":"catalog","showCurtain":false,"headerHiding":true,"headerVisible":true,"headEndItems":["sf"],"showCatalog":true,"showPane":false,"search":"","headItems":["homeBtn"],"actions":["ContactSupportBtn","loginDetails","logoutBtn"]},"catalogApp":{"stateName":"catalogApp","showCurtain":false,"headerHiding":true,"headerVisible":true,"headEndItems":["sf"],"showCatalog":false,"showPane":false,"search":"","headItems":["backBtn"],"actions":["ContactSupportBtn","aboutBtn","loginDetails","logoutBtn"],"shellActions":["ContactSupportBtn","aboutBtn","loginDetails","logoutBtn"]}}}),c=false,C={},b=['minimal','app','standalone','embedded','headerless'];M.setSizeLimit(10000);sap.ui.controller("sap.ushell.renderers.fiori2.Shell",{catalogPageId:"catalogPage",onInit:function(){this.getView().setModel(M);var v=this.getView().getViewData();if(v){C=v.config||{}}this.getView().setModel(sap.ushell.resources.i18nModel,"i18n");sap.ui.getCore().getEventBus().subscribe("externalSearch",this.externalSearchTriggered,this);sap.ui.getCore().getEventBus().subscribe("showCatalog",this.showCatalog,this);sap.ui.getCore().getEventBus().subscribe("openApp",this.openApp,this);sap.ui.getCore().getEventBus().subscribe("launchpad","contentRendered",this.loadCoreExt);if(C){if(C.appState==="headerless"){M.setProperty("/personalization",false);M.setProperty("/states/home/headerVisible",false)}else{if(C.enablePersonalization!==undefined){M.setProperty("/personalization",C.enablePersonalization)}if(C.enableSetTheme!==undefined){M.setProperty("/setTheme",C.enableSetTheme)}}}u=sap.ushell.Container.getService("UserRecents");this.history=new sap.ushell.renderers.fiori2.History();this.oNavContainer=sap.ui.getCore().byId("navContainer");this.oLoadingDialog=sap.ui.getCore().byId("loadingDialog");this.toggleRtlMode(sap.ui.getCore().getConfiguration().getRTL());this.oShellNavigation=sap.ushell.Container.getService("ShellNavigation");this.oShellNavigation.init(jQuery.proxy(this.doHashChange,this));sap.ushell.Container.getService("Message").init(jQuery.proxy(this.doShowMessage,this));sap.ushell.Container.setLogonFrameProvider(this._getLogonFrameProvider());this.bContactSupportEnabled=sap.ushell.Container.getService("SupportTicket").isEnabled();if(this.bContactSupportEnabled){sap.ushell.UserActivityLog.activate()}if(C&&C.enableHideGroups!==undefined){M.setProperty("/enableHideGroups",C.enableHideGroups)}},_getLogonFrameProvider:function(){var v=this.getView();return{create:function(){return v.createIFrameDialog()},show:function(){v.showIFrameDialog()},destroy:function(){v.destroyIFrameDialog()}}},onExit:function(){sap.ui.getCore().getEventBus().unsubscribe("externalSearch",this.externalSearchTriggered,this);sap.ui.getCore().getEventBus().unsubscribe("showCatalog",this.showCatalog,this);sap.ui.getCore().getEventBus().unsubscribe("openApp",this.openApp,this);this.oShellNavigation.hashChanger.destroy();this.getView().aDanglingControls.forEach(function(o){if(o.destroyContent){o.destroyContent()}o.destroy()});this.getView().oDashboardManager.destroy();sap.ushell.UserActivityLog.deactivate()},getModel:function(){return M},showCatalog:function(s,e,d){if(!this.isCatalogExist()){var o=sap.ui.view({id:this.catalogPageId,viewName:"sap.ushell.renderers.fiori2.launchpad.catalog.Catalog",viewData:{},type:sap.ui.core.mvc.ViewType.JS});this.oNavContainer.addPage(o)}this.switchViewState("catalog");this.oNavContainer.to(this.catalogPageId,this.getAnimationType());this.setAppIcons({title:sap.ushell.resources.i18n.getText("tile_catalog")});this.oLoadingDialog.closeLoadingScreen();sap.ui.getCore().getEventBus().publish("showCatalogEvent",d);jQuery(document).off('keydown.dashboard');jQuery(document).off('keydown.catalog');jQuery(document).on('keydown.catalog',sap.ushell.renderers.fiori2.AccessKeysHandler.catalogKeydownHandler)},isCatalogExist:function(){return(sap.ui.getCore().byId(this.catalogPageId))?true:false},getAnimationType:function(){return sap.ui.Device.os.android?"show":"slide"},openShellOverlay:function(d){},closeShellOverlay:function(){},onCurtainClose:function(e){jQuery.sap.log.warning("Closing Curtain",e);c=false},doShowMessage:function(t,s,p){jQuery.sap.require("sap.m.MessageToast");jQuery.sap.require("sap.m.MessageBox");if(t===sap.ushell.services.Message.Type.ERROR){if(sap.ushell.Container.getService("SupportTicket").isEnabled()){jQuery.sap.require("sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage");var e=new sap.ushell.ui.launchpad.EmbeddedSupportErrorMessage("EmbeddedSupportErrorMessage",{title:p.title||sap.ushell.resources.i18n.getText("error"),content:new sap.m.Text({text:s})});e.open()}else{sap.m.MessageBox.show(s,sap.m.MessageBox.Icon.ERROR,p.title||sap.ushell.resources.i18n.getText("error"))}}else if(t===sap.ushell.services.Message.Type.CONFIRM){if(p.actions){sap.m.MessageBox.show(s,sap.m.MessageBox.Icon.QUESTION,p.title,p.actions,p.callback)}else{sap.m.MessageBox.confirm(s,p.callback,p.title)}}else{sap.m.MessageToast.show(s,{duration:p.duration||3000})}},ignoreHashChange:function(s,A,o){},doHashChange:function(s,A,o,p){if(!a){a=true;return}s=this.fixShellHash(s);var d=this.history.getHistoryLength();if(p){this.hashChangeFailure(d,p.message,null,"sap.ushell.renderers.fiori2.Shell.controller");return}this.history.hashChange(s,o);var U=sap.ushell.Container.getService("URLParsing");var S=U.parseShellHash(s);var e=M.getProperty("/currentState");var i=e&&e.stateName==="catalog";var O=S&&S.action!==sap.ushell.renderers.fiori2.Navigation.CATALOG.ACTION;if(!i||O){this.oLoadingDialog.setText("");this.oLoadingDialog.openLoadingScreen()}if(S&&S.contextRaw&&S.contextRaw==="navResCtx"){var f={};f.additionalInformation=S.params.additionalInformation[0];f.url=S.params.url[0];f.applicationType=S.params.applicationType[0];this.openSomething(s,o,A,f)}else{sap.ushell.Container.getService("NavTargetResolution").resolveHashFragment(s).done(jQuery.proxy(this.openSomething,this,s,o,A)).fail(jQuery.proxy(function(g){this.hashChangeFailure(d,"Failed to resolve navigation target: "+s,g,"sap.ushell.renderers.fiori2.Shell.controller")},this))}},hashChangeFailure:function(h,s,d,e){this.reportError(s,d,e);this.oLoadingDialog.closeLoadingScreen();this.delayedMessageError(sap.ushell.resources.i18n.getText("fail_to_start_app_config_err"));if(h===0){this.cleanHash()}else{this.historyBack()}},reportError:function(s,d,e){jQuery.sap.log.error(s,d,e)},delayedMessageError:function(s){setTimeout(function(){sap.ushell.Container.getService("Message").error(s)},0)},fixShellHash:function(s){if(!s){s='#'}else if(s.charAt(0)!=='#'){s='#'+s}return(s)},cleanHash:function(){window.location.hash=""},changeHash:function(h){window.location.hash=h},historyBack:function(){window.history.back(1)},openSomething:function(s,o,A,d){var f;if(!this.oNavContainer.getParent()){sap.ui.getCore().byId("shell").addContent(this.oNavContainer)}if(d){try{f=sap.ushell.Container.getService("URLParsing").parseShellHash(s)}catch(e){f=undefined}if(f===undefined){jQuery.sap.log.warning("Could not parse shell hash: "+s);f={}}f.sShellHash=s;f.sOldShellHash=o;f.sAppPart=A;f.oApplication=d;if(d.applicationType===sap.ushell.renderers.fiori2.Navigation.CATALOG.ID){if(M.getProperty("/personalization")){sap.ui.getCore().getEventBus().publish("showCatalog",f)}else{this.openDashboard();this.cleanHash();this.oLoadingDialog.closeLoadingScreen()}}else{try{jQuery.sap.require('sap.fiori.core-ext')}catch(g){jQuery.sap.log.warning("failed to load sap.fiori.core-ext!")}f.oMetadata=sap.ushell.services.AppConfiguration.getMetadata(d);sap.ui.getCore().getEventBus().publish("openApp",f)}}else{var h=M.getProperty("/currentState");if(h&&h.stateName==="catalogApp"){this.showCatalog()}else{this.openDashboard()}}},openDashboard:function(){var o=M.getProperty("/currentState")&&M.getProperty("/currentState").stateName==="catalog";this.switchViewState("home");this.oNavContainer.backToTop();sap.ushell.services.AppConfiguration.setCurrentApplication(null);this.setAppIcons(null);if(o){sap.ushell.utils.addBottomSpace()}try{sap.ushell.utils.handleTilesVisibility()}catch(e){}jQuery(document).off('keydown.dashboard');jQuery(document).off('keydown.catalog');jQuery(document).on('keydown.dashboard',sap.ushell.renderers.fiori2.AccessKeysHandler.dashboardKeydownHandler);var U=sap.ui.getCore().byId('shell');U.focusOnConfigBtn()},openApp:function(s,E,d){this.getView().showDemoPopover=false;jQuery.sap.log.warning("Triggering navigation to ",d);var A,o=d.oApplication,f=d.oMetadata||{},I=null,g=d.sShellHash.replace(/\W/g,"-"),O,h=f.title||"",j=f.icon||null,k=sap.ushell.Container.getService('Message');if(!C||!C.changeOpacity||C.changeOpacity!=='off'){setTimeout(function(){u.addAppUsage(d.sShellHash)},700)}if(o){try{if(o.applicationType==="NWBC"&&!(d&&d.contextRaw&&d.contextRaw==="navResCtx")&&this.history.getHistoryLength()>1){a=false;window.history.back(1);var t=d;var S=d;var l;S.params.additionalInformation=o.additionalInformation;S.params.url=o.url;S.params.applicationType=o.applicationType;S.target=t;t.contextRaw=S.contextRaw="navResCtx";var n=sap.ushell.Container.getService("ShellNavigation").hrefForExternal(S,true);if(n.skippedParams){l="#"+d.semanticObject+"-"+d.action}else{l=n.hash}this.openAppNewWindow(l);this.oLoadingDialog.closeLoadingScreen();return}if(!this.oNavContainer.getPage("application"+g)&&!this.oNavContainer.getPage("shellPage"+g)){jQuery.sap.require('sap.ushell.components.container.ApplicationContainer');A=new sap.ushell.components.container.ApplicationContainer("application"+g,o);var p=A.onAfterRendering;A.onAfterRendering=function(){if(p){p.apply(this,arguments)}setTimeout(function(){sap.ui.getCore().getEventBus().publish("launchpad","appOpened",o);jQuery.sap.log.info('app was opened')},0)};var q=A.exit;A.exit=function(){if(q){q.apply(this,arguments)}setTimeout(function(){sap.ui.getCore().getEventBus().publish("launchpad","appClosed",o);jQuery.sap.log.info('app was closed')},0)};sap.ushell.services.AppConfiguration.setCurrentApplication(o);this.oLoadingDialog.showAppInfo(h,j);if(!f.fullWidth&&o.applicationType!=="NWBC"){I=new sap.m.Shell("shellPage"+g,{logo:sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'),title:h,showLogout:false,app:A}).addStyleClass("sapUshellApplicationPage");if(!h){I.addStyleClass("sapUshellApplicationPageNoHdr")}}else{A.addStyleClass('sapMShellGlobalInnerBackground');I=A}this.oNavContainer.addPage(I)}else if(this.oNavContainer.getPage("application"+g)||this.oNavContainer.getPage("shellPage"+g)){I=this.oNavContainer.getPage("application"+g)||this.oNavContainer.getPage("shellPage"+g)}this.setAppIcons(f);if(o.applicationType[0]==="NWBC"||o.applicationType==="NWBC"){this.switchViewState("minimal");a=false;this.changeHash(d.semanticObject+"-"+d.action)}else{var r=M.getProperty("/currentState");if(r&&r.stateName==="catalog"){this.switchViewState("catalogApp")}else{var w="app";if(b.indexOf(C.appState)>=0){w=C.appState}this.switchViewState(w)}}if(this.history.backwards&&this.oNavContainer.getInitialPage()!==this.oNavContainer.getCurrentPage().getId()){this.oNavContainer.to(I,"slideBack")}else{this.oNavContainer.to(I,this.oNavContainer.getInitialPage()?"slide":"show")}setTimeout(function(){this.oLoadingDialog.closeLoadingScreen()}.bind(this),300)}catch(e){this.reportError(e.name,e.message,h);this.oNavContainer.removePage(this.oNavContainer.getCurrentPage()).destroy();O=this.oNavContainer.removeAllPages();this.oNavContainer.destroy();this.oNavContainer=this.getView().initNavContainer(this);jQuery.each(O,jQuery.proxy(function(i,v){if(!this.oNavContainer.getPage(v.getId())){this.oNavContainer.addPage(v)}if(v.getId()===this.oNavContainer.getInitialPage()){v.removeStyleClass("sapMNavItemHidden")}},this));this.navigateToHome();this.oLoadingDialog.closeLoadingScreen();k.error(sap.ushell.resources.i18n.getText("fail_to_start_app_runtime_err"))}}if(this.history.getHistoryLength()<1){this.oLoadingDialog.closeLoadingScreen()}},openAppNewWindow:function(U){window.open(U)},setAppIcons:function(o){var s=jQuery.sap.getModulePath("sap.ushell");var l=(o&&o.homeScreenIconPhone)||(s+'/themes/base/img/launchicons/57_iPhone_Desktop_Launch.png'),L=(o&&o["homeScreenIconPhone@2"])||(s+'/themes/base/img/launchicons/114_iPhone-Retina_Web_Clip.png'),d=(o&&o.homeScreenIconTablet)||(s+'/themes/base/img/launchicons/72_iPad_Desktop_Launch.png'),e=(o&&o["homeScreenIconTablet@2"])||(s+'/themes/base/img/launchicons/144_iPad_Retina_Web_Clip.png'),f=(o&&o.favIcon)||(s+'/themes/base/img/launchpad_favicon.ico'),t=(o&&o.title)||sap.ushell.resources.i18n.getText("homeBtn_tooltip"),g=this.getFavIconHref();if(sap.ui.Device.os.ios){jQuery.sap.setIcons({'phone':l,'phone@2':L,'tablet':d,'tablet@2':e,'favicon':f,'precomposed':true})}else if(g!==f){jQuery.sap.setIcons({'phone':'','phone@2':'','tablet':'','tablet@2':'','favicon':f,'precomposed':true})}window.document.title=t},getFavIconHref:function(){return jQuery('link').filter('[rel="shortcut icon"]').attr('href')||''},externalSearchTriggered:function(s,e,d){M.setProperty("/searchTerm",d.searchTerm);d.query=d.searchTerm},onAfterNavigate:function(e){var h=this.oNavContainer.getInitialPage(),f=e.getParameter("fromId");if(f!==h&&f!==this.catalogPageId){this.oNavContainer.removeAggregation("pages",f,true);sap.ui.getCore().byId(f).destroy()}this.oLoadingDialog.closeLoadingScreen()},onAfterRendering:function(){if(window.f2p){f2p.add(f2p.m.endHomePage)}},navigateToHome:function(e){if(!e||(e&&e.getParameter("id")==='homeBtn')){location.hash='';this.openDashboard()}else{sap.ushell.renderers.fiori2.Navigation.openCatalogByHash({groupContext:null})}},toggleSearch:function(i){M.setProperty("/searchAvailable",i)},toggleRtlMode:function(r){M.setProperty("/rtl",r)},togglePane:function(e){var s=e.getSource(),S=s.getSelected();if(!sap.ui.getCore().byId('groupList')){var g=this.getView().oDashboardManager.getGroupListView();if(sap.ui.Device.system.desktop){g.addStyleClass("sapUshellGroupListDesktopScrollbar")}this.getModel().setProperty('/states/home/paneContent',[g.getId()]);this.getModel().setProperty('/currentState/paneContent',[g.getId()])}if(e.getParameter("id")==="categoriesBtn"){s.getModel().setProperty("/currentState/showCurtainPane",!S)}else{s.getModel().setProperty("/currentState/showPane",!S);setTimeout(function(){var o=sap.ui.getCore().byId("shell");if(o){o.setFocusOnFirstGroupInList()}},1500)}setTimeout(function(){$("li.sapUshellOver").click()},400)},getActiveViews:function(){var d=this.getModel().getProperty("/currentState/curtainContent"),p=sap.ui.getCore().byId(d[0]),A=[];jQuery.each(p.getContent(),function(i,v){A.push(v.getId())});return A},getLastSearchScreen:function(){return M.getProperty("/lastSearchScreen")},saveSearchScreen:function(s){if(s==='historyScreen'||s==='searchResults'||s==='suggestions'){M.setProperty("/lastSearchScreen",s)}},switchViewState:function(s,S){var p=s[0]==="/"?s:"/states/"+s,o=M.getProperty(p),d=sap.ui.getCore().byId("shell"),e=M.getProperty("/currentState")||{};if(!d.getSearch()||o.search!==d.getSearch().getId()){d.setSearch(sap.ui.getCore().byId(o.search))}this.saveSearchScreen(s);if(!!S){M.setProperty("/lastState",e)}o=jQuery.extend({},e,o);M.setProperty("/currentState",o);if(s==="searchResults"){M.setProperty("/lastSearchScreen",'');if(window.location.href.indexOf("#Action-search")>-1){this.closeShellOverlay()}else{var f=sap.ui.getCore().getModel("searchModel");window.location.href="#Action-search&/searchTerm="+encodeURI(f.getProperty("/searchBoxTerm"))+"&dataSource="+encodeURI(JSON.stringify(f.getDataSourceJson()))}}else{if(!!o.showCurtain){this.openShellOverlay()}else{this.closeShellOverlay()}}},pressActionBtn:function(e){if(!sap.ui.Device.system.desktop){this.getModel().setProperty("/headerHiding",false)}var A=sap.ui.getCore().byId('headActions');if(!A){var l=new sap.ushell.ui.footerbar.LoginDetailsButton("loginDetails"),L=new sap.ushell.ui.footerbar.LogoutButton("logoutBtn"),o=new sap.ushell.ui.footerbar.AboutButton("aboutBtn");var h=new sap.ushell.ui.footerbar.HideGroupsButton("hideGroupsBtn");if(!this.getModel().getProperty('/enableHideGroups')){h.setVisible(false)}var d=new sap.ushell.ui.footerbar.ContactSupportButton("ContactSupportBtn",{visible:this.bContactSupportEnabled});A=new sap.m.ActionSheet("headActions",{placement:sap.m.PlacementType.Bottom,buttons:{path:"/currentState/actions",factory:function(i,f){return sap.ui.getCore().byId(f.getObject())}}});A.updateAggregation=this.getView().updateShellAggregation;A.setModel(this.getModel());this.getView().aDanglingControls.push(A,l,L,o,d,h)}A.openBy(e.getSource());A.attachAfterClose(A,function(){if(!sap.ui.Device.system.desktop){var f=sap.ui.getCore().byId('shell').getModel().getProperty("/currentState"),g=f.headerHiding;this.getModel().setProperty("/headerHiding",g)}})},loadCoreExt:function(){var A=jQuery.sap.isDeclared('sap.fiori.core',true)||jQuery.sap.isDeclared('sap.fiori.core-ext',true),l,p='';if(A){return}if(window.Worker){p=jQuery.sap.getModulePath('sap.ushell.loader','.js');l=new window.Worker(p);l.onmessage=function(E){if(E.data&&!E.data.error){try{window.eval(E.data);jQuery.sap.declare('sap.fiori.core-ext'+'')}catch(e){jQuery.sap.log.warning('failed to load sap.fiori.core-ext')}}else{jQuery.sap.log.warning('failed to load sap.fiori.core-ext')}l.terminate()};l.postMessage({action:'loadResource',url:window['sap-ui-debug']?'../fiori/core-ext-dbg.js':'../fiori/core-ext.js'})}else{setTimeout(function(){try{jQuery.sap.require('sap.fiori.core-ext')}catch(e){jQuery.sap.log.warning("failed to load sap.fiori.core-ext")}},0)}}})}())},"sap/ushell/renderers/fiori2/Shell.view.js":function(){
//Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.require("sap.ushell.renderers.fiori2.Navigation");jQuery.sap.require("sap.ushell.renderers.fiori2.launchpad.DashboardManager");jQuery.sap.require("sap.ushell.renderers.fiori2.search.SearchModel");jQuery.sap.require("sap.ushell.renderers.fiori2.search.SearchBox");jQuery.sap.require("sap.ushell.touchSupport");jQuery.sap.require("sap.ushell.UserActivityLog");sap.ui.jsview("sap.ushell.renderers.fiori2.Shell",{createContent:function(c){var s=this;var v=this.getViewData()||{},C=v.config||{},S=(C.appState==="embedded")?true:false,b=(C.appState==="headerless")?true:false,p=function(e,k,H){return e?H:k},f=function(I,e){return sap.ui.getCore().byId(e.getObject())},l=new sap.ushell.ui.launchpad.LoadingDialog({id:"loadingDialog",title:null,text:"",showCancelButton:false}),o=new sap.ui.unified.ShellHeadItem({id:"configBtn",tooltip:"{i18n>showGrpsBtn_tooltip}",icon:sap.ui.core.IconPool.getIconURI("menu2"),selected:{path:"/currentState/showPane"},press:[c.togglePane,c]}),h=new sap.ui.unified.ShellHeadItem({id:"homeBtn",title:"{i18n>homeBtn_tooltip}",tooltip:"{i18n>homeBtn_tooltip}",icon:sap.ui.core.IconPool.getIconURI("home"),press:[c.navigateToHome,c]}),B=new sap.ui.unified.ShellHeadItem({id:"backBtn",title:"{i18n>backBtn_tooltip}",tooltip:"{i18n>backBtn_tooltip}",icon:{parts:["/rtl"],formatter:function(r){return r?sap.ui.core.IconPool.getIconURI("feeder-arrow"):sap.ui.core.IconPool.getIconURI("nav-back")}},press:[c.navigateToHome,c]});o.addEventDelegate({onsaptabprevious:function(E){try{if(!sap.ushell.renderers.fiori2.AccessKeysHandler.goToEdgeTile('last')){sap.ui.getCore().byId('actionsBtn').focus()}E.preventDefault()}catch(e){}}});h.addEventDelegate({onsaptabprevious:function(E){try{if(!sap.ushell.renderers.fiori2.AccessKeysHandler.goToEdgeTile('last')){jQuery(document).find(".sapUshellNoFilteredItems").focus()}E.preventDefault()}catch(e){}}});var a,A;if(S){A=new sap.ui.unified.ShellHeadItem({id:"standardActionsBtn",tooltip:"{i18n>headerActionsTooltip}",icon:sap.ui.core.IconPool.getIconURI("account"),press:[c.pressActionBtn,c]})}else if(!b){a=new sap.ui.unified.ShellHeadUserItem({id:"actionsBtn",username:sap.ushell.Container.getUser().getFullName(),tooltip:"{i18n>headerActionsTooltip}",image:sap.ui.core.IconPool.getIconURI("account"),press:[c.pressActionBtn,c]});a.addEventDelegate({onsaptabnext:function(E){try{var k=sap.ui.getCore().byId('shell'),D=k.getModel().getData();if(D.currentState.stateName==="home"){if(D.currentState.showPane){var m=sap.ui.getCore().byId('groupListPage');var n=m.getContent()[1];var q=n.getItems()[0];if(q){q.focus()}else{sap.ui.getCore().byId('addGroupActionItem').focus()}}else{if(!sap.ushell.renderers.fiori2.AccessKeysHandler.goToEdgeTile('first')){sap.ui.getCore().byId('configBtn').focus()}else{u.setFocusOnFirstGroupOnPage()}}E.preventDefault()}}catch(e){}}});var i=sap.ushell.Container.getUser().getImage();if(i){jQuery.ajax({url:i,headers:{'Cache-Control':'no-cache, no-store, must-revalidate','Pragma':'no-cache','Expires':'0'},success:function(){a.setImage(i)},error:function(){jQuery.sap.log.error("Could not load user image from: "+i,"","sap.ushell.renderers.fiori2.Shell.view")}})}}var u=new sap.ui.unified.Shell({id:"shell",fullHeightContent:true,showPane:{path:"/currentState/showPane"},headItems:{path:"/currentState/headItems",factory:f},headEndItems:{path:"/currentState/headEndItems",factory:f},user:a,paneContent:{path:"/currentState/paneContent",factory:f},headerHiding:{path:"/currentState/headerHiding"},headerVisible:{path:"/currentState/headerVisible"}});u._setStrongBackground(true);if(sap.ui.Device.os.android){o.addEventDelegate({onclick:function(e){e.preventDefault()}})}u.focusOnConfigBtn=function(){jQuery.sap.delayedCall(0,this,function(){if(!b){var C=sap.ui.getCore().byId('configBtn');if(C){C.focus()}}})};u.oldInvalidate=u.invalidate;u.invalidate=function(){this.oldInvalidate.apply(this,arguments)};u.setFocusOnFirstGroupOnPage=function(){var D=sap.ui.getCore().byId('dashboardGroups'),n=jQuery(D.getDomRef()).find(".sapUshellTileContainer:first");if(n[0]){n.focus()}else{sap.ui.getCore().byId('addGroupActionItem').focus()}};u.setFocusOnFirstGroupInList=function(){var e=sap.ui.getCore().byId('groupList'),n=jQuery(e.getDomRef()).find("li:first");if(n[0]){n.focus()}};this.oDashboardManager=new sap.ushell.renderers.fiori2.launchpad.DashboardManager("dashboardMgr",{model:c.getModel(),config:C});var d=this.pageFactory("dashboardPage",this.oDashboardManager.getDashboardView(),!sap.ui.Device.system.desktop),g=this.pageFactory("shellPage",u,true);this.initNavContainer(c);if(S){u.setIcon(sap.ui.resource('sap.ui.core','themes/base/img/1x1.gif'))}else{this.initShellBarLogo(u)}this.setDisplayBlock(true);this.aDanglingControls=[sap.ui.getCore().byId('navContainer'),g,d,B,l,h,o];u.updateAggregation=this.updateShellAggregation;var j=(C.enableSearch!==false);c.getModel().setProperty("/searchAvailable",j);if(j){s.oSearchField=new sap.ui.unified.ShellHeadItem({id:"sf",tooltip:"{i18n>searchbox_tooltip}",icon:sap.ui.core.IconPool.getIconURI("search"),visible:{path:"/searchAvailable"},press:function(e){if(!s.oHeadSearchBox){s.initHeadSearchBox();s.openHeadSearchBox(e,true)}else{if(!s.oHeadSearchBox.getVisible()){s.openHeadSearchBox(e,false)}else{if(s.oHeadSearchInput.getValue()===""){s.closeHeadSearchBox(e)}else{s.handleHash(s.getModel("searchModelInHead"));s.oHeadSearchInput.destroySuggestionRows();s.closeHeadSearchBox(e)}}}}});s.aDanglingControls.push(s.oSearchField)}this.logonIFrameReference=null;return new sap.m.App({pages:g})},_getIconURI:function(i){var r=null;if(i){var m=/url[\s]*\('?"?([^\'")]*)'?"?\)/.exec(i);if(m){r=m[1]}}return r},initShellBarLogo:function(u){jQuery.sap.require("sap.ui.core.theming.Parameters");var i=sap.ui.core.theming.Parameters.get("sapUiGlobalLogo");if(i){i=this._getIconURI(i);if(!i){u.setIcon(sap.ui.resource("sap.ui.core","mimes/logo/sap_50x26.png"))}}var t=this;sap.ui.getCore().attachThemeChanged(function(){var n=sap.ui.core.theming.Parameters.get("sapUiGlobalLogo");if(n){n=t._getIconURI(n);if(n){u.setIcon(n)}}})},initHeadSearchBox:function(){var s=this;var S;s.oHeadSearchBox=sap.ui.getCore().byId("headSearchBox");if(!s.oHeadSearchBox){s.oHeadSearchBox=new sap.m.Toolbar({id:"headSearchBox"}).addStyleClass('sapUshellHeadSearchBox')}S=sap.ui.getCore().byId('shell');S.setSearch(s.oHeadSearchBox);s.oHeadSearchSelect=sap.ui.getCore().byId("headSearchSelect");if(!s.oHeadSearchSelect){s.oHeadSearchSelect=new sap.m.Select({id:"headSearchSelect",name:"headSearchSelect",autoAdjustWidth:true,items:{path:"searchModelInHead>/connectors",template:new sap.ui.core.Item({key:"{searchModelInHead>labelRaw}",text:"{searchModelInHead>label}"})}}).addStyleClass('sapUshellContainerSearchSelect')}s.oHeadSearchInput=sap.ui.getCore().byId("headSearchInput");if(!s.oHeadSearchInput){s.oHeadSearchInput=new sap.m.Input({id:"headSearchInput",type:"Text",showValueStateMessage:false,showTableSuggestionValueHelp:false,showSuggestion:true,filterSuggests:false,suggestionColumns:[new sap.m.Column({})],liveChange:function(e){s.inputLiveChange(e)},suggest:function(e){s.handleSuggest(e)},suggestionItemSelected:function(e){if(s.changeTimer){window.clearTimeout(s.changeTimer);s.changeTimer=null}s.selectSuggest(e)},change:function(e){s.changeTimer=window.setTimeout(function(){var a=s.getModel("searchModelInHead");s.handleHash(a);s.oHeadSearchInput.destroySuggestionRows();s.closeHeadSearchBox(event);s.changeTimer=null},100)}})}s.oHeadSearchBox.addContent(s.oHeadSearchSelect);s.oHeadSearchBox.addContent(s.oHeadSearchInput);s.oHeadSearchBox.addEventDelegate({onAfterRendering:function(e){jQuery('#headSearchBox').parent().parent().parent().addClass('headSearchDivContainer');jQuery('#headSearchBox').parent().parent().addClass('headSearchDiv')}},s.oHeadSearchBox)},openHeadSearchBox:function(e,f){var s=this;var S=sap.ui.getCore().byId('shell');var a=S.getSearch();if(!a){S.setSearch(s.oHeadSearchBox);f=true}var b=sap.ui.getCore().getModel("searchModel");if(!b){b=new sap.ushell.renderers.fiori2.search.SearchModel();b.setSizeLimit(200);sap.ui.getCore().setModel(b,"searchModel");b.searchInit()}else{}b.setSkip(0,false);s.setModel(sap.ushell.resources.i18nModel,"i18n");var c=s.getModel("searchModelInHead");if(!c){c=new sap.ushell.renderers.fiori2.search.SearchModel();c.setSizeLimit(200);s.setModel(c,"searchModelInHead");c.searchInit();s.createHeadSearchBoxViews(c)}else{}var j;if(c.getProperty('/isNormalSearchEnable')){j=c.createAllDataSource()}else{j=c.createAppDataSource()}c.setProperty("/dataSource",j);if(c.getProperty('/isNormalSearchEnable')){s.oHeadSearchSelect.setSelectedKey("$$ALL$$")}else{s.oHeadSearchSelect.setSelectedKey("$$APP$$")}c.setProperty("/searchBoxTerm","");s.oHeadSearchInput.setValue("");s.oHeadSearchInput.setPlaceholder(sap.ushell.resources.i18n.getText("search"));s.oHeadSearchBox.setVisible(true);s.oHeadSearchBox.addEventDelegate({onAfterRendering:function(E){if(f){jQuery('.headSearchDiv').css("maxWidth","38rem")}else{jQuery('.headSearchDiv').css("maxWidth","0rem");jQuery('.headSearchDiv').animate({'maxWidth':'38rem'},100)}}},s.oHeadSearchBox)},closeHeadSearchBox:function(){var s=this;jQuery('.headSearchDiv').animate({'maxWidth':'38rem'},{duration:100,complete:function(){s.oHeadSearchBox.setVisible(false)}})},createHeadSearchBoxViews:function(s){var a=this;a.oHeadSearchSelect.attachChange(function(e){var b=a.oHeadSearchSelect.getSelectedItem();var j={};if(b.getKey()==="$$ALL$$"){j=s.createAllDataSource()}else if(b.getKey()==="$$APP$$"){j=s.createAppDataSource()}else{j=s.sina.createDataSource({objectName:{label:b.getText(),value:b.getKey()},packageName:{label:"",value:""},schemaName:{label:"",value:""},label:""})}s.setProperty("/dataSource",j);if(b.getKey()!=="$$ALL$$"){a.oHeadSearchInput.setPlaceholder(sap.ushell.resources.i18n.getText("searchIn")+": "+b.getText())}else{a.oHeadSearchInput.setPlaceholder(sap.ushell.resources.i18n.getText("search"))}},this);a.oHeadSearchInput.addEventDelegate({onAfterRendering:function(e){e.srcControl.focus()},},a.oHeadSearchInput);a.oHeadSearchInput.bindAggregation("suggestionRows","searchModelInHead>/mixedSection",function(p,d){var l=new sap.m.Label({text:"{searchModelInHead>mixedLabel}"}).addStyleClass('sapUshellSuggestText').addStyleClass('sapUshellSearchSuggestionNavItem');l.addEventDelegate({onAfterRendering:function(){a.bTagUnescaper(this.getDomRef())}},l);l.data("labelRaw","{searchModelInHead>labelRaw}");l.data("targetURL","{searchModelInHead>targetURL}");l.data("dataSource","{searchModelInHead>dataSource}");l.data("suggestType","{searchModelInHead>suggestType}");var i=new sap.ui.core.Icon({src:"{searchModelInHead>icon}"}).addStyleClass('sapUshellSuggestIcon');var b=new sap.m.Label({text:{path:"searchModelInHead>icon",formatter:function(v){if(v){return"<i>"+sap.ushell.resources.i18n.getText("label_app")+"</i>"}return""}}}).addStyleClass('sapUshellSuggestText').addStyleClass('sapUshellSearchSuggestionNavItem');b.addEventDelegate({onAfterRendering:function(){a.bTagUnescaper(this.getDomRef())}},b);var c=new sap.m.CustomListItem({type:sap.m.ListType.Active,content:[b,i,l]});c.getText=function(){return l.data("labelRaw")};if(!a.oHeadSearchInput.getValue())return null;return new sap.m.ColumnListItem({cells:[c],type:"Active"})})},bTagUnescaper:function(d){var i=d.innerHTML;while(i.indexOf('&lt;b&gt;')+i.indexOf('&lt;/b&gt;')>=-1){i=i.replace('&lt;b&gt;','<b>');i=i.replace('&lt;/b&gt;','</b>')}while(i.indexOf('&lt;i&gt;')+i.indexOf('&lt;/i&gt;')>=-1){i=i.replace('&lt;i&gt;','<i>');i=i.replace('&lt;/i&gt;','</i>')}d.innerHTML=i},handleHash:function(s){var a=this;if(a.oHeadSearchInput.getValue()==="")return;var h="#Action-search&/searchTerm="+encodeURIComponent(a.oHeadSearchInput.getValue())+"&dataSource="+encodeURIComponent(JSON.stringify(s.getDataSourceJson()));if(window.location.hash===h){return}else{window.location.href=h;s.setProperty("/searchBoxTerm",a.oHeadSearchInput.getValue())}},inputLiveChange:function(e){var s=this.getModel("searchModelInHead");if(!this.oHeadSearchInput.getValue()){s.setProperty("/appSection",[]);s.setProperty("/suggestSection",[]);s.setProperty("/mixedSection",[])}},handleSuggest:function(e){this.oHeadSearchInput.destroySuggestionItems();var s=this.oHeadSearchInput.getValue();var a=this.getModel("searchModelInHead");a.setProperty("/searchBoxTerm",s);a.doSuggestion()},selectSuggest:function(e){var s=this.getModel("searchModelInHead");var a=e.getParameter("selectedRow").getCells()[0].getContent()[2].data("suggestType");var b=e.getParameter("selectedRow").getCells()[0].getContent()[2].data("labelRaw");var d=e.getParameter("selectedRow").getCells()[0].getContent()[2].data("dataSource");var t=e.getParameter("selectedRow").getCells()[0].getContent()[2].data("targetURL");if(a==="dataSourceSuggest"){s.setProperty("/searchBoxTerm","");this.oHeadSearchInput.setValue("");this.oHeadSearchSelect.setSelectedKey(b);var c=this.oHeadSearchSelect.getSelectedItem();var j={};if(c.getKey()==="$$ALL$$"){j=s.createAllDataSource()}else if(c.getKey()==="$$APP$$"){j=s.createAppDataSource()}else{j=s.sina.createDataSource({objectName:{label:c.getText(),value:c.getKey()},packageName:{label:"",value:""},schemaName:{label:"",value:""},label:""})}s.setProperty("/dataSource",j);if(c.getKey()!=="$$ALL$$"){this.oHeadSearchInput.setPlaceholder(sap.ushell.resources.i18n.getText("searchIn")+": "+c.getText())}else{this.oHeadSearchInput.setPlaceholder(sap.ushell.resources.i18n.getText("search"))}return}var h;if(t){h=t}else{s.setSearchTerm(b,false);s.setDataSource(d,false);h="#Action-search&/searchTerm="+encodeURIComponent(s.getProperty("/searchBoxTerm"))+"&dataSource="+encodeURIComponent(JSON.stringify(s.getDataSourceJson()))}if(window.location.hash!==h){if(h.charAt(0)==='#')window.location.href=h;else window.open(h);this.closeHeadSearchBox(event)}},initNavContainer:function(c){var d=sap.ui.getCore().byId("dashboardPage"),n=new sap.m.NavContainer({id:"navContainer",pages:[d],initialPage:d,afterNavigate:jQuery.proxy(c.onAfterNavigate,c)});n.addCustomTransition("slideBack",sap.m.NavContainer.transitions.slide.back,sap.m.NavContainer.transitions.slide.back);return n},updateShellAggregation:function(n){var b=this.mBindingInfos[n],a=this.getMetadata().getJSONKeys()[n],c;jQuery.each(this[a._sGetter](),jQuery.proxy(function(i,v){this[a._sRemoveMutator](v)},this));jQuery.each(b.binding.getContexts(),jQuery.proxy(function(i,v){c=b.factory(this.getId()+"-"+i,v)?b.factory(this.getId()+"-"+i,v).setBindingContext(v,b.model):"";this[a._sMutator](c)},this))},disableBouncing:function(p){p.onBeforeRendering=function(){sap.m.Page.prototype.onBeforeRendering.apply(p);var s=this._oScroller,o=s.onAfterRendering;s.onAfterRendering=function(){o.apply(s);if(s._scroller){s._scroller.options.bounce=false}}};return p},getControllerName:function(){return"sap.ushell.renderers.fiori2.Shell"},pageFactory:function(i,c,d){var p=new sap.m.Page({id:i,showHeader:false,showFooter:false,content:c,enableScrolling:!!sap.ui.Device.system.desktop}),e=["onAfterHide","onAfterShow","onBeforeFirstShow","onBeforeHide","onBeforeShow"],D={};jQuery.each(e,function(I,E){D[E]=jQuery.proxy(function(a){jQuery.each(this.getContent(),function(I,c){c._handleEvent(a)})},p)});p.addEventDelegate(D);if(d&&sap.ui.Device.system.desktop){this.disableBouncing(p)}return p},onAfterRendering:function(){if(window.f2p){jQuery.sap.require("sap.ushell.components.perf.monitor");window.f2pMonitor.init(sap.ui.getCore().byId("navContainer"))}},createIFrameDialog:function(){jQuery.sap.require("sap.ushell.ui.footerbar.ContactSupportButton");var d=null;var l=this.logonIFrameReference;var _=function(){if(l){l.remove()}return $('<iframe id="SAMLDialogFrame" src="" frameborder="0"></iframe>')};var a=function(){d.addStyleClass('samlDialogHidden');$('#sap-ui-blocklayer-popup').addClass('samlDialogHidden')};this.destroyIFrameDialog();var c=new sap.m.Button({text:sap.ushell.resources.i18n.getText("samlCloseBtn"),press:function(){sap.ushell.Container.cancelLogon()}});var b=new sap.ushell.ui.footerbar.ContactSupportButton();b.setWidth('150px');b.setIcon('');var h=new sap.ui.core.HTML("SAMLDialogFrame");this.logonIFrameReference=_();h.setContent(this.logonIFrameReference.prop('outerHTML'));d=new sap.m.Dialog({id:"SAMLDialog",title:sap.ushell.resources.i18n.getText("samlDialogTitle"),contentWidth:"50%",contentHeight:"50%",leftButton:b,rightButton:c});d.addContent(h);d.open();a();this.logonIFrameReference=$('#SAMLDialogFrame');return this.logonIFrameReference[0]},destroyIFrameDialog:function(){var d=sap.ui.getCore().byId('SAMLDialog');if(d){d.destroy()}this.logonIFrameReference=null},showIFrameDialog:function(){var d=sap.ui.getCore().byId('SAMLDialog');if(d){d.removeStyleClass('samlDialogHidden');$('#sap-ui-blocklayer-popup').removeClass('samlDialogHidden')}}})}())},"sap/ushell/renderers/fiori2/launchpad/DashboardManager.js":function(){
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.declare("sap.ushell.renderers.fiori2.launchpad.DashboardManager");jQuery.sap.require("sap.ushell.services.Message");jQuery.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-core');jQuery.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-widget');jQuery.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-mouse');jQuery.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-sortable');jQuery.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-draggable');jQuery.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-droppable');jQuery.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-effect');jQuery.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-effect-shake');var g=function(m,p){return p?sap.ushell.resources.i18n.getText(m,p):sap.ushell.resources.i18n.getText(m)};var a=function(c){var C=this.oModel.getProperty('/catalogTiles'),b=C.filter(function(t){return t.catalogId===c.id&&t.isTileIntentSupported===true});return b.length};sap.ui.base.EventProvider.extend("sap.ushell.renderers.fiori2.launchpad.DashboardManager",{metadata:{publicMethods:["getModel","getDashboardView","getGroupListView","loadPersonalizedGroups","attachEvent","detachEvent","attachEventOnce"]},constructor:function(i,s){if(sap.ushell.renderers.fiori2.launchpad.getDashboardManager&&sap.ushell.renderers.fiori2.launchpad.getDashboardManager()){return sap.ushell.renderers.fiori2.launchpad.getDashboardManager()}sap.ushell.renderers.fiori2.launchpad.getDashboardManager=jQuery.sap.getter(this.getInterface());this.oPageBuilderService=sap.ushell.Container.getService("LaunchPage");this.oModel=s.model;this.oConfig=s.config;this.oDashboardView=sap.ui.view('dashboard',{type:sap.ui.core.mvc.ViewType.JS,viewName:"sap.ushell.renderers.fiori2.launchpad.dashboard.DashboardContent",viewData:{config:this.oConfig}});this.oDashboardView.setWidth('');this.oDashboardView.setDisplayBlock(true);this.oSortableDeferred=$.Deferred();this.oSortableDeferred.resolve();this.aRequestQueue=[];this.bRequestRunning=false;this.registerEvents();this.oTileCatalogToGroupsMap={};this.tileViewUpdateQueue=[];this.tileViewUpdateTimeoutID=0},registerEvents:function(){var e=sap.ui.getCore().getEventBus();e.subscribe("launchpad","addBookmarkTile",this._createBookmark,this);e.subscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);e.subscribe("launchpad","createGroup",this._createGroup,this);e.subscribe("launchpad","deleteGroup",this._deleteGroup,this);e.subscribe("launchpad","resetGroup",this._resetGroup,this);e.subscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);e.subscribe("launchpad","moveGroup",this._moveGroup,this);e.subscribe("launchpad","deleteTile",this._deleteTile,this);e.subscribe("launchpad","moveTile",this._moveTile,this);e.subscribe("launchpad","sortableStart",this._sortableStart,this);e.subscribe("launchpad","sortableStop",this._sortableStop,this);e.subscribe("showCatalog",this.loadAllCatalogs,this);this.oDashboardView.addEventDelegate({onBeforeFirstShow:jQuery.proxy(function(b){try{this.loadPersonalizedGroups()}catch(c){console.log("DahsboardManager ; oDashboardView.addEventDelegate failed ; exception: "+c)}},this),onAfterHide:jQuery.proxy(function(b){try{sap.ushell.utils.setTilesNoVisibility()}catch(c){console.log("DahsboardManager ; Call to _sap.ushell.utils.setTilesNoVisibility failed ; exception: "+c)}},this)})},destroy:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe("launchpad","addBookmarkTile",this._createBookmark,this);e.unsubscribe("launchpad","loadDashboardGroups",this.loadPersonalizedGroups,this);e.unsubscribe("launchpad","createGroup",this._createGroup,this);e.unsubscribe("launchpad","deleteGroup",this._deleteGroup,this);e.unsubscribe("launchpad","resetGroup",this._resetGroup,this);e.unsubscribe("launchpad","changeGroupTitle",this._changeGroupTitle,this);e.unsubscribe("launchpad","moveGroup",this._moveGroup,this);e.unsubscribe("launchpad","deleteTile",this._deleteTile,this);e.unsubscribe("launchpad","moveTile",this._moveTile,this);e.unsubscribe("launchpad","sortableStart",this._sortableStart,this);e.unsubscribe("launchpad","sortableStop",this._sortableStop,this);e.unsubscribe("showCatalog",this.loadAllCatalogs,this);this.oDashboardView.destroy();sap.ushell.renderers.fiori2.launchpad.getDashboardManager=undefined},_refreshTiles:function(){var t=this,G=this.oModel.getProperty("/groups");jQuery.each(G,function(n,o){jQuery.each(o.tiles,function(n,T){t.oPageBuilderService.refreshTile(T.object)})})},_sortableStart:function(){this.oSortableDeferred=$.Deferred()},_createBookmark:function(c,e,d){var t=d.group?d.group.object:"",b=d.group?d.group.groupId:0,f;delete d.group;this._addRequest($.proxy(function(){var r=sap.ushell.Container.getService("Bookmark").addBookmark(d,t),R=sap.ushell.resources.i18n;r.always($.proxy(this._checkRequestQueue,this));r.done(function(T){if(!T){this.loadPersonalizedGroups();return}var n=this._getTileModel(T);f=this.oModel.getProperty("/groups/"+(this._getIndexOfGroup(b)||0));f.tiles.push(n);this.oModel.setProperty("/groups/"+this._getIndexOfGroup(b),f);if(sap.ushell.Container){sap.ushell.Container.getService('Message').info(R.getText('tile_created_msg'))}}.bind(this));r.fail(function(m){jQuery.sap.log.error("Failed to add bookmark",m,"sap.ushell.ui.footerbar.AddBookmarkButton");if(sap.ushell.Container){sap.ushell.Container.getService('Message').error(R.getText('fail_to_add_tile_msg'))}})},this))},_sortableStop:function(){this.oSortableDeferred.resolve()},_handleAfterSortable:function(f){return $.proxy(function(){var o=Array.prototype.slice.call(arguments);this.oSortableDeferred.done(function(){f.apply(null,o)})},this)},_addRequest:function(r){this.aRequestQueue.push(r);if(!this.bRequestRunning){this.bRequestRunning=true;this.aRequestQueue.shift()()}},_checkRequestQueue:function(){if(this.aRequestQueue.length===0){this.bRequestRunning=false}else{this.aRequestQueue.shift()()}},_requestFailed:function(){this.aRequestQueue=[];this.bRequestRunning=false},_createGroup:function(c,e,d){var t=this,G=this._getGroupModel(null),b=this.oModel.getProperty("/groups"),m=this.oModel;m.setProperty("/groupList-skipScrollToGroup",true);window.setTimeout(function(){m.setProperty("/groups/"+b.length,G)},500);window.setTimeout(function(){m.setProperty("/groupList-skipScrollToGroup",false)},1000)},_getIndexOfGroup:function(G){var n=null,b=this.oModel.getProperty("/groups");jQuery.each(b,function(c,o){if(o.groupId===G){n=c;return false}});return n},_getPathOfGroup:function(G){return"/groups/"+this._getIndexOfGroup(G)},_getPathOfTile:function(t){var G=this.oModel.getProperty("/groups"),n=null,b=null;jQuery.each(G,function(c,o){jQuery.each(o.tiles,function(d,T){if(T.uuid===t){n=c;b=d;return false}});if(n!==null){return false}});return n!==null?"/groups/"+n+"/tiles/"+b:null},_moveInArray:function(A,n,b){if(b>=A.length){var k=b-A.length;while((k--)+1){A.push(undefined)}}A.splice(b,0,A.splice(n,1)[0])},_updateGroupIndices:function(A){var k;for(k=0;k<A.length;k++){A[k].index=k}},_deleteGroup:function(c,e,d){var t=this,G=d.groupId,b=this.oModel.getProperty("/groups"),n=this._getIndexOfGroup(G),o=null,r,m,f,B;f=b.length-1===n?n-1:n;this._destroyGroupModel("/groups"+n);o=b.splice(n,1)[0].object;m=this.oModel;m.setProperty("/groupList-skipScrollToGroup",true);m.setProperty("/groups",b);this._updateGroupIndices(b);if(f>=0){B=sap.ui.getCore().getEventBus();window.setTimeout($.proxy(B.publish,B,"launchpad","scrollToGroup",{groupId:this.oModel.getProperty("/groups")[f].groupId}),200)}window.setTimeout(function(){m.setProperty("/groupList-skipScrollToGroup",false)},1000);this._addRequest($.proxy(function(){var h=sap.ushell.Container.getService("LaunchPage").getGroupTitle(o);try{r=this.oPageBuilderService.removeGroup(o)}catch(i){this._resetGroupsOnFailure("fail_to_delete_group_msg");return}r.done($.proxy(this._showLocalizedMessage("group_deleted_msg",[h])));r.fail(this._handleAfterSortable(t._resetGroupsOnFailureHelper("fail_to_delete_group_msg")));r.always($.proxy(this._checkRequestQueue,this))},this))},_resetGroup:function(c,e,d){var t=this,G=d.groupId,n=this._getIndexOfGroup(G),o=this.oModel.getProperty("/groups/"+n),r;this.oModel.setProperty("/groups/"+n+"/sortable",false);this._addRequest($.proxy(function(){try{r=this.oPageBuilderService.resetGroup(o.object)}catch(b){this._resetGroupsOnFailure("fail_to_reset_group_msg");return}r.done(this._handleAfterSortable($.proxy(function(G,o,R){var n=t._getIndexOfGroup(G);this._loadGroup(n,R||o.object);this._showLocalizedMessage("group_reset_msg",[o.title]);this.oModel.setProperty("/groups/"+n+"/sortable",true)},this,G,o)));r.fail(this._handleAfterSortable(t._resetGroupsOnFailureHelper("fail_to_reset_group_msg")));r.always($.proxy(this._checkRequestQueue,this))},this))},_moveGroup:function(c,e,d){var f=d.fromIndex,t=d.toIndex,G=this.oModel.getProperty("/groups"),m=this.oModel,r;f=this._adjustFromGroupIndex(f,G);var o=G[f],s=o.groupId;t=this._adjustToGroupIndex(t,G,s);this._moveInArray(G,f,t);this._updateGroupIndices(G);m.setProperty("/groupList-skipScrollToGroup",true);m.setProperty("/groups",G);window.setTimeout(function(){m.setProperty("/groupList-skipScrollToGroup",false)},1000);if(o.isDefaultGroup){that.toggleDefaultGroupVisibility(false)}this._addRequest($.proxy(function(){var o=this.oModel.getProperty(this._getPathOfGroup(s));try{r=this.oPageBuilderService.moveGroup(o.object,t)}catch(b){this._resetGroupsOnFailure("fail_to_move_group_msg");return}r.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_move_group_msg")));r.always($.proxy(this._checkRequestQueue,this))},this))},_adjustToGroupIndex:function(t,b,c){var v=0,I=false,i=0;for(i=0;i<b.length&&v<t;i++){if(b[i].isGroupVisible){if(b[i].groupId===c){I=true}else{v++}}}if(I){return i-1}return i},_adjustFromGroupIndex:function(b,c){var v=0;for(var i=0;i<c.length;i++){if(c[i].isGroupVisible){v++}if(v===b+1){return i}}return b},_changeGroupTitle:function(c,e,d){var n=d.newTitle,G=d.groupId,b=this._getIndexOfGroup(G),o=this.oModel.getProperty("/groups/"+b),r;this.oModel.setProperty("/groups/"+b+"/title",n);if(!o.object){this._addRequest($.proxy(function(){try{r=this.oPageBuilderService.addGroup(n)}catch(f){this._resetGroupsOnFailure("fail_to_create_group_msg");return}r.done(this._handleAfterSortable($.proxy(function(G,N){var b=this._getIndexOfGroup(G);this._loadGroup(b,N)},this,G)));r.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_create_group_msg")))},this))}else{this._addRequest($.proxy(function(){try{r=this.oPageBuilderService.setGroupTitle(o.object,n)}catch(f){this._resetGroupsOnFailure("fail_to_rename_group_msg");return}r.fail(this._handleAfterSortable($.proxy(function(G,O){var s=this._getPathOfGroup(G);this._showLocalizedError("fail_to_rename_group_msg");this.oModel.setProperty(s+"/title",O);this._requestFailed()},this,G)))},this))}r.always($.proxy(this._checkRequestQueue,this))},_createTile:function(d){var c=d.catalogTileContext,C=d.groupContext,G=this.oModel.getProperty(C.getPath()),s=G.groupId,r,b=jQuery.Deferred(),R={};var B=sap.ui.getCore().getEventBus();$.proxy(B.publish,B,"launchpad","addTile",{catalogTileContext:c,groupContext:C});if(C.getObject().isDefaultGroup){this.toggleDefaultGroupVisibility(true)}if(!c){jQuery.sap.log.warning("DashboardManager: Did not receive catalog tile object. Abort.",this);return}this._addRequest($.proxy(function(){try{r=this.oPageBuilderService.addTile(c.getProperty("src"),C.getProperty("object"))}catch(e){this._resetGroupsOnFailure("fail_to_add_tile_msg");return}var t=this;r.done(this._handleAfterSortable($.proxy(function(s,T){var f=this._getPathOfGroup(s);this._addTileToGroup(f,T);R={group:G,status:1,action:'add'};b.resolve(R)},this,s))).fail(function(){R={group:G,status:0,action:'add'};b.resolve(R)}).always(function(){t._checkRequestQueue()})},this));return b.promise()},_createGroupAndSaveTile:function(d){var c=d.catalogTileContext,n=d.newGroupName,r,b=jQuery.Deferred(),t=this,R={};if(sap.ushell.utils.validHash(n)&&c){var G=this._getGroupModel(null),e=this.oModel.getProperty("/groups"),B=sap.ui.getCore().getEventBus(),s=G.groupId;var i=e.length;this.oModel.setProperty("/groups/"+i,G);this.oModel.setProperty("/groups/"+i+"/title",n);if(!c){jQuery.sap.log.warning("DashboardManager: Did not receive catalog tile object. Abort.",this);return}this._addRequest($.proxy(function(){try{r=this.oPageBuilderService.addGroup(n)}catch(f){this._resetGroupsOnFailure("fail_to_create_group_msg");return}r.done(this._handleAfterSortable($.proxy(function(s,N){var h=this._getIndexOfGroup(s);this._loadGroup(h,N);var C=new sap.ui.model.Context(this.oModel,"/groups/"+h);var p=this._createTile({catalogTileContext:c,groupContext:C});p.done(function(j){R={group:j.group,status:1,action:'addTileToNewGroup'};b.resolve(R)}).fail(function(j){R={group:j.group,status:0,action:'addTileToNewGroup'};b.resolve(R)})},this,s)));r.fail(function(h){this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_create_group_msg"));R={group:h.group,status:0,action:'createNewGroup'};b.resolve(R)});r.always($.proxy(this._checkRequestQueue,this))},this))}return b.promise()},_deleteTile:function(c,e,d){var t=this,T=d.tileId,G=this.oModel.getProperty("/groups");jQuery.each(G,function(n,o){var f=false;jQuery.each(o.tiles,function(b,h){if(h.uuid===T){t._destroyTileModel("/groups/"+n+"/tiles/"+b);var i=o.tiles.splice(b,1)[0],r;t.oModel.setProperty("/groups/"+n+"/tiles",o.tiles);if(o.isDefaultGroup&&o.tiles.length==0){t.toggleDefaultGroupVisibility(false)}t._addRequest(function(){try{r=t.oPageBuilderService.removeTile(o.object,i.object)}catch(j){this._resetGroupsOnFailure("fail_to_remove_tile_msg");return}r.done(t._handleAfterSortable(function(){var s=sap.ushell.Container.getService("LaunchPage").getTileTitle(i.object);if(s){t._showLocalizedMessage("tile_deleted_msg",[s])}else{t._showLocalizedMessage("empty_tile_deleted_msg")}}.bind(i)));r.fail(t._handleAfterSortable(t._resetGroupsOnFailureHelper("fail_to_remove_tile_msg")));r.always($.proxy(t._checkRequestQueue,t))});sap.ushell.utils.handleTilesVisibility();f=true;return false}});if(f){return false}})},_sendDeleteTileRequest:function(G,t){var r,b=sap.ushell.Container.getService('LaunchPage');try{r=b.removeTile(G,t.object)}catch(e){jQuery.sap.log.error("_deleteCatalogTileFromGroup ; removeTile ; Exception occurred: "+e)}return r},_deleteCatalogTileFromGroup:function(d){var t=this,D=decodeURIComponent(d.tileId),G=d.groupIndex,o=this.oModel.getProperty("/groups/"+G),T=this.oModel.getProperty("/groups/"+G+"/tiles/"),s=sap.ushell.Container.getService("LaunchPage"),b=jQuery.Deferred(),c=[],e,i,t=this,f;f=o.tiles.filter(function(h){var e=s.getCatalogTileId(h.object);if(e!==D){return true}else{var p=jQuery.Deferred(),j=t._sendDeleteTileRequest(o.object,h);j.done((function(b){return function(){b.resolve({status:true})}})(p));j.fail((function(b){return function(){b.resolve({status:false})}})(p));c.push(p);return false}});o.tiles=f;jQuery.when.apply(jQuery,c).done(function(r){var S=true,i=0,p=c.length;for(i;i<p;i++){if(!r.status){S=false;break}}if(S){t.oModel.setProperty("/groups/"+G,o)}b.resolve({group:o,status:S,action:'remove'})});return b.promise()},_moveTile:function(c,e,d){var t=this,n=d.toIndex,N=d.toGroupId,T=d.sTileId,o,b,O,f,h,i,G=this.oModel.getProperty("/groups");jQuery.each(G,function(k,l){var F=false;jQuery.each(l.tiles,function(m,p){if(p.uuid===T){o=p;b=m;O=l;f=k;F=true;return false}});if(F){return false}});jQuery.each(G,function(k,l){if(l.groupId===N){h=l;i=k;if(O.isDefaultGroup&&f!=i&&O.tiles.length<=1){t.toggleDefaultGroupVisibility(false)}}});if(n&&n>h.tiles.length){n=h.tiles.length}if(O.groupId===N){if(n===null||n===undefined){O.tiles.splice(b,1);n=O.tiles.length;O.tiles.push(o)}else{n=this._adjustTileIndex(n,o,O);this._moveInArray(O.tiles,b,n)}this.oModel.setProperty("/groups/"+f+"/tiles",O.tiles)}else{O.tiles.splice(b,1);this.oModel.setProperty("/groups/"+f+"/tiles",O.tiles);if(n===null||n===undefined){n=h.tiles.length;h.tiles.push(o)}else{n=this._adjustTileIndex(n,o,h);h.tiles.splice(n,0,o)}this.oModel.setProperty("/groups/"+i+"/tiles",h.tiles)}sap.ushell.utils.handleTilesVisibility();var s=this.oModel.getProperty("/groups/"+f).object,j=this.oModel.getProperty("/groups/"+i).object,r;this._addRequest($.proxy(function(){try{r=this.oPageBuilderService.moveTile(o.object,b,n,s,j)}catch(k){this._resetGroupsOnFailure("fail_to_move_tile_msg");return}r.done(this._handleAfterSortable($.proxy(function(T,l){var m=this._getPathOfTile(T),p=this.oPageBuilderService;if(m){this.oModel.setProperty(m+"/object",l)}},this,T)));r.fail(this._handleAfterSortable(this._resetGroupsOnFailureHelper("fail_to_move_tile_msg")));r.always($.proxy(this._checkRequestQueue,this))},this))},_adjustTileIndex:function(n,t,b){var v=0,I=false,i=0;for(i=0;i<b.tiles.length&&v<n;i++){if(b.tiles[i].isTileIntentSupported){if(b.tiles[i]===t){I=true}else{v++}}}if(I){return i-1}return i},toggleDefaultGroupVisibility:function(v){var d=this.oDashboardView.oDashboardGroupsBox.getGroups()[0],G;if(sap.ui.getCore().byId('groupList')){G=sap.ui.getCore().byId('groupList').oGroupList.getItems()[0];if(G){G.setShow(v)}}if(d){d.setVisible(v)}},getModel:function(){return this.oModel},getDashboardView:function(){if(!sap.ui.getCore().byId('dashboard')){this.oDashboardView=sap.ui.jsview("dashboard","sap.ushell.renderers.fiori2.launchpad.dashboard.DashboardContent")}return this.oDashboardView},getGroupListView:function(){if(!sap.ui.getCore().byId('groupList')){this.oGroupListView=sap.ui.jsview("groupList","sap.ushell.renderers.fiori2.launchpad.group_list.GroupList")}return this.oGroupListView},loadAllCatalogs:function(c,e,d){if(!this.oModel.getProperty("/catalogs")||!sap.ushell.Container.getService("LaunchPage").isCatalogsValid()){var t=this;if(!this.oModel.getProperty("/groups")||this.oModel.getProperty("/groups").length===0){this.loadPersonalizedGroups()}this.numOfLoadedCatalogs=0;this._destroyAllGroupModels("/catalogs");this._destroyAllTileModels("/catalogTiles");this.oModel.setProperty("/catalogs",[]);this.oModel.setProperty("/catalogTiles",[]);sap.ushell.Container.getService("LaunchPage").getCatalogs().done(this.onDoneLoadingCatalogs.bind(this)).fail(t._showLocalizedErrorHelper("fail_to_load_catalog_msg")).progress(this.addCatalogToModel.bind(this))}var G=this.getModel().getProperty("/groups");if(G&&G.length!==0){this.mapCatalogTilesToGroups();this.updateCatalogTilesToGroupsMap()}},updateCatalogTilesToGroupsMap:function(){var c=this.getModel().getProperty("/catalogTiles"),t,i,b,d,G;var s=sap.ushell.Container.getService("LaunchPage");var e=this.getModel().getProperty("/catalogTiles");if(c){for(i=0;i<c.length;i++){t=c[i];b=encodeURIComponent(s.getCatalogTileId(t.src));d=this.getModel().getProperty("/catalogTiles/"+i+"/associatedGroups");G=this.oTileCatalogToGroupsMap[b];d=G?G:[];e[i].associatedGroups=d}}this.getModel().setProperty("/catalogTiles",e)},addCatalogToModel:function(c){var C=this.oModel.getProperty('/catalogs');var s=sap.ushell.Container.getService("LaunchPage");var b=s.getCatalogId(c);var d=false;C.forEach(function(e){if(e.id===b){d=true}});if(!d){var o={title:s.getCatalogTitle(c),id:s.getCatalogId(c),"static":false,tiles:[]};s.getCatalogTiles(c).done(function(t){if(!t.length){return}var e={catalog:o.title,id:o.id,index:this.numOfLoadedCatalogs};this.setCatalogTiles("/catalogTiles",true,e,t);o.numIntentSupportedTiles=a.call(this,o);C.push(o);this.oModel.setProperty('/catalogs',C);this.numOfLoadedCatalogs++}.bind(this)).fail(this._showLocalizedErrorHelper("fail_to_load_catalog_tiles_msg"))}},onDoneLoadingCatalogs:function(c){var s=sap.ushell.Container.getService("LaunchPage");var l=c.filter(function(o){return!s.getCatalogError(o)});if(l.length!==c.length){this._showLocalizedError("partialCatalogFail")}var C=this.oModel.getProperty('/catalogs');if(C[0]&&C[0].title===sap.ushell.resources.i18n.getText('catalogsLoading')){C.splice(0,1)}C.splice(0,0,{title:g("all"),"static":true,tiles:[],numIntentSupportedTiles:-1});this.oModel.setProperty('/catalogs',C);sap.ushell.utils.handleTilesVisibility()},setCatalogTiles:function(p,A,d,c){var s=sap.ushell.Container.getService("LaunchPage");this.oModel.setProperty(p,$.merge((A&&this.oModel.getProperty(p))||[],$.map(c,function(C,t){var b=encodeURIComponent(s.getCatalogTileId(C)),e=this.oTileCatalogToGroupsMap[b]||[];return{associatedGroups:e,src:C,catalog:d.catalog,catalogIndex:d.index*100000+t,catalogId:d.id,title:s.getCatalogTileTitle(C),keywords:(s.getCatalogTileKeywords(C)||[]).join(','),id:b,size:s.getCatalogTileSize(C),content:[s.getCatalogTileView(C)],isTileIntentSupported:s.isTileIntentSupported(C)}}.bind(this))))},mapCatalogTilesToGroups:function(){this.oTileCatalogToGroupsMap={};var G=this.oModel.getProperty("/groups"),s=sap.ushell.Container.getService("LaunchPage"),i=0,o,t,T,b,c,d;for(i=0;i<G.length;i++){o=G[i];T=o.tiles;if(T){for(t=0;t<T.length;++t){b=encodeURIComponent(s.getCatalogTileId(T[t].object));c=this.oTileCatalogToGroupsMap[b]||[];d=s.getGroupId(o.object);if(c.indexOf(d)===-1&&(typeof(o.isGroupVisible)==='undefined'||o.isGroupVisible)){c.push(d)}this.oTileCatalogToGroupsMap[b]=c}}}},_showLocalizedMessage:function(m,p,t){sap.ushell.Container.getService("Message").show(t||sap.ushell.services.Message.Type.INFO,g(m,p),p)},_showLocalizedError:function(m,p){this._showLocalizedMessage(m,p,sap.ushell.services.Message.Type.ERROR)},_showLocalizedErrorHelper:function(m,p){var t=this;return function(){t._showLocalizedError(m,p)}},_resetGroupsOnFailureHelper:function(m){var t=this;return function(G){t._showLocalizedError(m);setTimeout(function(){t.loadGroupsFromArray(G)})}},_resetGroupsOnFailure:function(m,p){this._requestFailed();this._showLocalizedError(m,p);this.loadPersonalizedGroups();this.oModel.updateBindings(true)},loadGroupsFromArray:function(G){var t=this;this.oPageBuilderService.getDefaultGroup().done(function(d){var i,k=1;t._loadGroup(0,d);for(i=0;i<G.length;++i){if(G[i]!==d){t._loadGroup(k,G[i]);k++}}for(i=G.length;i<t.oModel.getProperty("/groups/length");++i){t._destroyGroupModel("/groups/"+i)}t.oModel.setProperty("/groups/length",G.length);if(t.oModel.getProperty('/currentState/stateName')==="catalog"){t.mapCatalogTilesToGroups();t.updateCatalogTilesToGroupsMap()}}).fail(t._resetGroupsOnFailureHelper("fail_to_get_default_group_msg"))},_loadGroup:function(n,G){var t=this,s="/groups/"+n;this._destroyGroupModel(s);var o=this.oModel.getProperty(s+"/groupId"),N=this._getGroupModel(G,n===0);if(o){N.groupId=o}N.index=n;this.oModel.setProperty(s,N)},_getGroupModel:function(G,d){var s=this.oPageBuilderService,b=(G&&s.getGroupTiles(G))||[],m=[],i,c;if(sap.ui.getCore().byId("shell")&&sap.ui.getCore().byId("shell").getModel()){c=sap.ui.getCore().byId("shell").getModel().getProperty("/personalization")}for(i=0;i<b.length;++i){m.push(this._getTileModel(b[i]))}return{title:(d&&g("my_group"))||(G&&s.getGroupTitle(G))||"",object:G,groupId:jQuery.sap.uid(),tiles:m,isDefaultGroup:d||false,editMode:!G,removable:!G||s.isGroupRemovable(G),sortable:c,isGroupVisible:!G||s.isGroupVisible(G),isEnabled:!d}},_addTileToGroup:function(G,t){var T=G+"/tiles",n=this.oModel.getProperty(T).length;this.oModel.setProperty(T+"/"+n,this._getTileModel(t))},_updateModelWithTileView:function(t,T){var b=this;this.tileViewUpdateQueue.push({uuid:t,view:T});if(this.tileViewUpdateTimeoutID){clearTimeout(this.tileViewUpdateTimeoutID)}this.tileViewUpdateTimeoutID=setTimeout(function(){b.tileViewUpdateTimeoutID=undefined;b.oSortableDeferred.done(function(){b._updateModelWithTilesViews()})},50)},_updateModelWithTilesViews:function(){var G=this.oModel.getProperty("/groups"),t,T,u,s;if(!G){return}for(var i=0;i<G.length;i=i+1){t=G[i].tiles;for(var j=0;j<t.length;j=j+1){T=t[j];for(var q=0;q<this.tileViewUpdateQueue.length;q++){u=this.tileViewUpdateQueue[q];if(T.uuid==u.uuid){if(u.view){T.content[0].destroy();T.content=[u.view]}else{T.content[0].setState("Failed")}s=this.oPageBuilderService.getTileSize(T.object);T['long']=((s!==null)&&(s==="1x2"||s==="2x2"))||false;T.tall=((s!==null)&&(s==="2x1"||s==="2x2"))||false;break}}}}this.tileViewUpdateQueue=[];this.oModel.setProperty("/groups",G)},_getTileModel:function(t){var s=this.oPageBuilderService,S=s.getTileSize(t),T=jQuery.sap.uid(),o,u,b=this,d;;s.setTileVisible(t,false);d=s.getTileView(t);d.done(function(v){o=v;if(u){u.apply(b,[T,o])}});d.fail(function(){if(u){u.apply(b,[T])}else{o=new sap.ushell.ui.launchpad.TileState({state:"Failed"})}});if(!o){u=this._updateModelWithTileView;o=new sap.ushell.ui.launchpad.TileState({state:"Loading"})}return{"object":t,"uuid":T,"content":[o],"long":((S!==null)&&(S==="1x2"||S==="2x2"))||false,"tall":((S!==null)&&(S==="2x1"||S==="2x2"))||false,"target":s.getTileTarget(t)||"","debugInfo":s.getTileDebugInfo(t),"isTileIntentSupported":s.isTileIntentSupported(t),"rgba":""}},_destroyAllGroupModels:function(t){var G=(typeof t==="string")?this.oModel.getProperty(t):t,i;if(G){for(i=0;i<G.length;i=i+1){this._destroyGroupModel(G[i])}}},_destroyGroupModel:function(t){var G=(typeof t==="string")?this.oModel.getProperty(t):t,i;if(G){this._destroyAllTileModels(G.tiles)}},_destroyAllTileModels:function(t){var T=(typeof t==="string")?this.oModel.getProperty(t):t,i;if(T){for(i=0;i<T.length;i=i+1){this._destroyTileModel(T[i])}}},_destroyTileModel:function(t){var T=(typeof t==="string")?this.oModel.getProperty(t):t,i;if(T&&T.content){for(i=0;i<T.content.length;i=i+1){T.content[i].destroy()}}},loadPersonalizedGroups:function(){var t=this,G=this.oPageBuilderService.getGroups();G.done(function(b){t.loadGroupsFromArray(b)});G.fail(t._showLocalizedErrorHelper("fail_to_load_groups_msg"))}})}())},"sap/ushell/renderers/fiori2/launchpad/dashboard/DashboardContent.controller.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.ui.launchpad.TileContainer");sap.ui.controller("sap.ushell.renderers.fiori2.launchpad.dashboard.DashboardContent",{onInit:function(){this.sViewId="#"+this.oView.getId();if(sap.ui.Device.browser.mobile){sap.ui.getCore().getEventBus().subscribe("launchpad","contentRefresh",this._webkitMobileRenderFix,this)}this.isDesktop=(sap.ui.Device.system.desktop&&(navigator.userAgent.toLowerCase().indexOf('tablet')<0))},onExit:function(){sap.ui.getCore().getEventBus().unsubscribe("launchpad","contentRefresh",this._webkitMobileRenderFix,this)},onAfterRendering:function(){var e=sap.ui.getCore().getEventBus();e.unsubscribe("launchpad","scrollToGroup",this._scrollToGroup,this);e.subscribe("launchpad","scrollToGroup",this._scrollToGroup,this);e.unsubscribe("grouplist","GroupListOver",this._handleGroupListOver,this);e.unsubscribe("grouplist","GroupListOut",this._handleGroupListOut,this);e.unsubscribe("grouplist","GroupListItemOver",this._handleGroupListItemOver,this);e.unsubscribe("grouplist","GroupListItemOut",this._handleGroupListItemOut,this);e.unsubscribe("grouplist","GroupListItemDrop",this._handleGroupListItemDrop,this);e.subscribe("grouplist","GroupListOver",this._handleGroupListOver,this);e.subscribe("grouplist","GroupListOut",this._handleGroupListOut,this);e.subscribe("grouplist","GroupListItemOver",this._handleGroupListItemOver,this);e.subscribe("grouplist","GroupListItemOut",this._handleGroupListItemOut,this);e.subscribe("grouplist","GroupListItemDrop",this._handleGroupListItemDrop,this);if(sap.ui.Device.os.android){e.unsubscribe("launchpad","changeGroupTitle",this._changeGroupTitleHandler,this);e.subscribe("launchpad","changeGroupTitle",this._changeGroupTitleHandler,this)}jQuery("#__area0").appendTo("#shellPage");var t;jQuery(window).bind("resize",function(){clearTimeout(t);t=setTimeout(this._resizeHandler.bind(this),300)}.bind(this));if(sap.ui.Device.system.desktop){jQuery("#dashboardPage-cont").scroll(sap.ushell.utils.handleTilesVisibility)}else{setTimeout(function(){this.oDashboardPage=sap.ui.getCore().byId("dashboardPage");this.oScroller=this.oDashboardPage.getScrollDelegate();if(this.oScroller&&this.oScroller._scroller){if(!this.oOriginalScrollMove){this.oOriginalScrollMove=this.oScroller._scroller.options.onScrollMove}var a=this;this.oScroller._scroller.options.onScrollMove=function(E){a.oOriginalScrollMove.apply(a.oScroller);sap.ushell.utils.handleTilesVisibility()}}else{jQuery("#dashboardPage-cont").scroll(sap.ushell.utils.handleTilesVisibility);jQuery("#dashboard").scroll(sap.ushell.utils.handleTilesVisibility)}}.bind(this),1500)}},_changeGroupTitleHandler:function(){this._forceBrowserRerenderElement(document.getElementById('groupList'))},_forceBrowserRerenderElement:function(e){var a=window.requestAnimationFrame||window.webkitRequestAnimationFrame;if(a){a(function(){var d=e.style.display;e.style.display='none';e.offsetHeight;e.style.display=d})}else{console.log('unsupported browser for animation frame')}},_webkitMobileRenderFix:function(){if(sap.ui.Device.browser.chrome||sap.ui.Device.os.ios||sap.ui.Device.os.android){this._forceBrowserRerenderElement(document.body)}},_resizeHandler:function(){this._addBottomSpace();sap.ushell.utils.handleTilesVisibility()},_addBottomSpace:function(){sap.ushell.utils.addBottomSpace()},_scrollToGroup:function(c,e,d){var g,t=this;if(d.group){g=d.group.getGroupId()}else{g=d.groupId}jQuery.each(this.oView.oDashboardGroupsBox.getGroups(),function(n,G){if(G.getGroupId()===g){var y;if(sap.ui.Device.system.desktop){if(n===0){sap.ui.getCore().byId("dashboardPage").scrollTo(0,500)}else{var j=jQuery("#dashboardPage-cont");var T=jQuery('#shell-hdr').height()+parseInt(jQuery('.sapUshellContainerTitle').css('margin-top'),10);y=jQuery.sap.byId(G.sId).offset().top+j.scrollTop()-T;sap.ui.getCore().byId("dashboardPage").scrollTo(y,500)}}else{y=-1*(document.getElementById('dashboardGroups').getBoundingClientRect().top)+document.getElementById(G.sId).getBoundingClientRect().top;jQuery('#dashboard').animate({scrollTop:y},500,t.fHandleScrollEnd)}if(d.group&&d.focus&&!d.group.getEditMode()){jQuery.sap.byId(G.sId).focus()}if(d.groupId||d.groupChanged){t._addBottomSpace()}jQuery('#groupList .sapUshellDefaultGroupItem, #groupList .sapUshellGroupListItem').removeClass('sapUshellOver').eq(n).addClass('sapUshellOver');sap.ushell.utils.handleTilesVisibility();return false}})},fHandleScrollEnd:function(){var e=sap.ui.getCore().getEventBus();e.publish("grouplist","ScrollAnimationEnd")},makeGroupSortable:function(j){var a=j.find('.sapUshellInner');if(a.hasClass("ui-sortable")){return}this._sortable(a)},_getTileTopOffset:function(t,a,d){var T=0+d;T+=t.closest(".sapUshellDashboardGroupsContainerItem").position().top;T+=a.top;return T},_sortable:function(j){var t=this,a=jQuery.sap.byId(this.oView.oDashboardGroupsBox.getId()),b=a.find(".sapUshellCloneArea");t.bActive=false;if(b.length<=0){b=jQuery("<div id='cloneArea' class='sapUshellCloneArea sapUshellDashboardGroupsContainerItem'></div>");a.append(b)}j.sortable({containment:"document",items:'>:not(.sapUshellPlusTile)',connectWith:".sapUshellInner.sapUshellTilesContainer-sortable",placeholder:"sapUshellTile-placeholder",tolerance:"pointer",helper:function(e,c){var d=c.clone();var f=d.find('a');if(f.length){var g=f.html();f.replaceWith(jQuery('<div>'+g+'</div>'))}d.find('[title]').removeAttr('title');d.attr("id",d.attr("id")+'-helperclone');d.addClass("sapUshellSortableHelperClone");d.css("font-size",c.css("font-size"));d.hide();setTimeout(function(){d.appendTo('body');d.show()},1);return d},revert:250,start:this._handleSortableStart.bind(this),change:this._handleSortableChange.bind(this),stop:this._handleSortableStop.bind(this)}).disableSelection();if(sap.ui.Device.system.phone){j.sortable('disable')}},_bindTileEvents:function(E){if(!sap.ui.Device.system.tablet){return}var t=this,T=E.getSource();var j=jQuery.sap.byId(T.sId);j.bind("mousedown",function(a){if(t.bActive===false){try{jQuery(".sapUshellInner.sapUshellTilesContainer-sortable").sortable('disable')}catch(e){jQuery.sap.log.warning('tile container sortable was not initialized. intializing again now.');jQuery(".sapUshellInner.sapUshellTilesContainer-sortable").each(function(){t._sortable(jQuery(this))})}var _=jQuery(this),b=a;clearTimeout(t.fdownTimer);t.fdownTimer=setTimeout(function(){t.bActive=true;jQuery(_).effect("shake",{times:1,distance:5,complete:function(){if(!t.bActive){return}var d=sap.ui.getCore().byId("dashboardPage"),s=d.getScrollDelegate();if(s&&s._scroller){s._scroller.disable()}jQuery(".sapUshellInner.sapUshellTilesContainer-sortable").sortable('enable');jQuery(this).trigger(b)}},50)},150)}});j.bind('mouseup',$.proxy(t,'_resetDraggingTimeout')).bind('mousemove',$.proxy(t,'_resetDraggingTimeout')).bind('scrollstart',$.proxy(t,'_resetDraggingTimeout')).bind('touchmove',$.proxy(t,'_resetDraggingTimeout')).bind('touchcancel',$.proxy(t,'_resetDraggingTimeout'))},_resetDraggingTimeout:function(){clearTimeout(this.fdownTimer);this.bActive=false;if(!sap.ui.Device.system.desktop){var d=sap.ui.getCore().byId("dashboardPage"),s=d.getScrollDelegate();if(s&&s._scroller){s._scroller.enable()}}},_handleSortableStart:function(e,u){this.sortableInfo={};this.sortableInfo.dashboardGroups=document.getElementById(this.oView.oDashboardGroupsBox.getId());this.sortableInfo.jqDashboardGroups=jQuery(this.sortableInfo.dashboardGroups);var j=this.sortableInfo.jqDashboardGroups.find(".sapUshellTile");if(sap.ui.Device.os.ios&&sap.ui.Device.system.tablet){j.find('a').removeAttr('href')}this.sortableInfo.originalTiles=j.not(".sapUshellSortableHelperClone").not(u.item);this.sortableInfo.cloneArea=this.sortableInfo.jqDashboardGroups.find("#cloneArea");this.sortableInfo.tilesFirstContainer=this.sortableInfo.jqDashboardGroups.find('.sapUshellTileContainer:visible:first');this.sortableInfo.containerLeftMargin=parseInt(this.sortableInfo.tilesFirstContainer.css("margin-left"));this.sortableInfo.jqDashboardPageCont=jQuery("#dashboardPage-cont");var a=sap.ui.getCore();a.getEventBus().publish("launchpad","sortableStart");var t=a.byId(u.item[0].id);if(t.getLong()){u.placeholder.addClass("sapUshellLong")}if(t.getTall()){u.placeholder.addClass("sapUshellTall")}u.item.click(function(E){E.preventDefault();E.stopPropagation()});this.oView.oDashboardDeleteArea.show();if(!this.isDesktop){return}var b=this,c=parseFloat(jQuery("#dashboardPage-scroll").offset().left),d=this.sortableInfo.jqDashboardGroups.offset().left;this.sortableInfo.cloneArea.css("left",d-c);var f=this.sortableInfo.jqDashboardPageCont.scrollTop();for(var i=0;i<this.sortableInfo.originalTiles.length;i++){var g=this.sortableInfo.originalTiles.eq(i),C=g.clone();var h=g[0];h.tilePosition=g.position();h.tileOffset=g.offset();C.attr("id",C.attr("id")+'-clone');C.css("font-size",g.css("font-size"));C.addClass("sapUshellClonedTile");g.data("clone",C);var T=parseInt(h.tilePosition.left)+this.sortableInfo.containerLeftMargin+"px",k=b._getTileTopOffset(g,h.tilePosition,f);C.css("left",T);C.css("top",k+"px");b.sortableInfo.cloneArea.append(C);g.css("visibility","hidden")}},_handleSortableStop:function(e,u){jQuery(".sapUshellSortableHelperClone").remove();this.oView.oDashboardDeleteArea.hide();var a=sap.ui.getCore(),t=a.byId(u.item[0].id),E=a.getEventBus();if(t){var o=t.getParent();if(!t.bDeletionFlag){if(t.getLong()){jQuery(".sapUshellTile-placeholder").removeClass("sapUshellLong")}var n=sap.ui.getCore().byId(u.item.parents(".sapUshellTileContainer").attr("id")),N=n.getGroupId(),b=u.item.index();o.removeTile(t,true);n.insertTile(t,b,true);E.publish("launchpad","moveTile",{sTileId:t.getUuid(),toGroupId:N,toIndex:b});u.item.parent().sortable('disable')}else if(t.bDeletionFlag){o.removeTile(t,true);t.bDeletionFlag=false;E.publish("launchpad","deleteTile",{tileId:t.getUuid()});t.destroy()}}if(sap.ui.Device.system.phone){that.bActive=false;jQuery(".sapUshellInner.sapUshellTilesContainer-sortable").sortable('disable')}if(this.isDesktop){var j=jQuery(".sapUshellTile").not(".sapUshellClonedTile");j.removeData("clone");j.removeClass("sapUshellExcludeMe");j.css("visibility","visible");var c=jQuery.sap.byId(this.oView.oDashboardGroupsBox.getId()),d=c.find("#cloneArea");d.empty()}delete this.sortableInfo;E.publish("launchpad","sortableStop")},_handleDrop:function(e,u){var j=jQuery(u);this.oView.oDashboardDeleteArea.hide();var n=sap.ui.getCore().byId(j.parents(".sapUshellTileContainer").attr("id")),N=n.getGroupId(),a=j.index(),b=sap.ui.getCore(),t=b.byId(j.attr('id')),o=t.getParent(),E=b.getEventBus(),d=jQuery(".sapUshellDeleteArea_dashboard_functional");if(d.data("tileOver")===true){o.removeTile(t,true);E.publish("launchpad","deleteTile",{tileId:t.getUuid()});t.destroy();d.data("tileOver",false)}else{o.removeTile(t,true);n.insertTile(t,a,true);E.publish("launchpad","moveTile",{sTileId:t.getUuid(),toGroupId:N,toIndex:a})}},_handleSortableChange:function(e,u,a){if(typeof a=="undefined"){a=true}if(u&&(u.placeholder.length>0)){var j=u.placeholder.parent();var b=j.children('.sapUshellPlusTile');if(b.length>0){b.detach();j.append(b)}}if(!this.isDesktop)return;var t=this;var o=this.sortableInfo.originalTiles;var d=this.sortableInfo.jqDashboardPageCont.scrollTop();for(var i=0;i<o.length;i++){var c=o.eq(i);var f=c[0];var g=c.position();var h=c.offset();if((h.left==f.tileOffset.left)&&(h.top==f.tileOffset.top)){continue}f.tilePosition=g;f.tileOffset=h;var C=c.data("clone");if(!C)continue;var k=f.tilePosition.left+this.sortableInfo.containerLeftMargin;var T=t._getTileTopOffset(c,f.tilePosition,d);if(a){C.stop(true,false).animate({left:k,top:T},{duration:250},{easing:"swing"})}else{C.css({left:k,top:T})}}},_handleGroupListOver:function(c,e,E){jQuery(".sapUshellSortableHelperClone").toggleClass("sapUshellOverGroupList");jQuery(".sapUshellTile-placeholder").hide()},_handleGroupListOut:function(c,e,E){jQuery(".sapUshellSortableHelperClone").toggleClass("sapUshellOverGroupList");jQuery(".sapUshellTile-placeholder").show();jQuery(".sapUshellGroupList").data("dropGroup",null);this._handleSortableChange(undefined,undefined,false)},_handleGroupListItemOver:function(c,e,E){jQuery(".sapUshellGroupList").data("dropGroup",E.getSource());var j=jQuery(".sapUshellTile-placeholder").not(".sapUshellPlaceholderClone").clone();j.addClass("sapUshellPlaceholderClone");j.attr("id","placeholder-clone_"+E.getSource().sId);var a;jQuery.each(this.oView.oDashboardGroupsBox.getGroups(),function(n,g){if(g.getGroupId()===E.getSource().getGroupId()){a=jQuery("#"+g.sId).find(".sapUshellTilesContainer-sortable");return false}});if(a.find(".sapUshellPlusTile").length>0){a.find(".sapUshellPlusTile").before(j);j.show()}else{a.append(j);j.show()}jQuery(".sapUshellTile-placeholder").not(".sapUshellPlaceholderClone").hide();this._handleSortableChange(undefined,undefined,false)},_handleGroupListItemOut:function(c,e,E){jQuery("#placeholder-clone_"+E.getSource().sId).remove();this._handleSortableChange(undefined,undefined,false)},_handleGroupListItemDrop:function(c,e,E){var t=E.getParameter("control"),o=t.getParent();o.removeTile(t,true);this._publishAsync("launchpad","moveTile",{sTileId:t.getUuid(),toGroupId:E.getSource().getGroupId(),toIndex:null});this._handleGroupListOut(c,e,E);this._handleGroupListItemOut(c,e,E);t.destroy()},_publishAsync:function(c,e,d){var b=sap.ui.getCore().getEventBus();window.setTimeout($.proxy(b.publish,b,c,e,d),1)}})}())},"sap/ushell/renderers/fiori2/launchpad/dashboard/DashboardContent.view.js":function(){
//Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.require("sap.ushell.ui.launchpad.TileContainer");jQuery.sap.require("sap.ushell.ui.launchpad.Tile");jQuery.sap.require("sap.ushell.override");jQuery.sap.require("sap.ushell.resources");var _=$.ui.sortable.prototype._mouseStop;$.ui.sortable.prototype._mouseStop=function(e,n){if(!e){return}if(this.options.revert){var t=this,a=arguments,c=t.placeholder.offset(),d=$.isFunction(this.options.revert)?this.options.revert.apply(this.element[0],[e,t._uiHash(this)]):this.options.revert,r=sap.ui.getCore().getConfiguration().getRTL(),j=jQuery(this.helper),g=function(h){if(r){return 0}else{return(jQuery(document).width()-h.width()-10)}};self.reverting=true;if(jQuery(".sapUshellDeleteArea_dashboard_functional").data("tileOver")===true){var i=$.browser.msie,I=(i&&(parseInt($.browser.version,10)===10))?true:false,b=(!(navigator.userAgent.indexOf('Chrome')>-1))&&(navigator.userAgent.indexOf("Safari")>-1);if(!I&&(i||b)){$(this.helper).animate({top:(jQuery(document).height()-this.helper.height()-10)+"px",left:g(this.helper),opacity:0},!isNaN(d)?d:250,function(){setTimeout(function(){var T=jQuery(t.currentItem).attr('id'),o=sap.ui.getCore().byId(T);o.bDeletionFlag=true;jQuery(".sapUshellDeleteArea_dashboard_functional").data("tileOver",false);_.apply(t,a)},d)})}else{jQuery(this.helper).css({top:(jQuery(document).height()-this.helper.height()-10),left:g(this.helper),opacity:0,WebkitTransition:'top '+d+'ms ease-in-out, left '+d+'ms ease-in-out, opacity '+d+'ms ease-in-out, ',MozTransition:'top '+d+'ms ease-in-out, left '+d+'ms ease-in-out, opacity '+d+'ms ease-in-out, ',MsTransition:'top '+d+'ms ease-in-out, left '+d+'ms ease-in-out, opacity '+d+'ms ease-in-out, ',OTransition:'top '+d+'ms ease-in-out, left '+d+'ms ease-in-out, opacity '+d+'ms ease-in-out, ',transition:'top '+d+'ms ease-in-out, left '+d+'ms ease-in-out, opacity '+d+'ms ease-in-out'});setTimeout(function(){var T=jQuery(t.currentItem).attr('id'),o=sap.ui.getCore().byId(T);o.bDeletionFlag=true;jQuery(".sapUshellDeleteArea_dashboard_functional").data("tileOver",false);_.apply(t,a)},d)}}else{_.apply(t,a)}}else{this._clear(e,n)}return false};sap.ui.jsview("sap.ushell.renderers.fiori2.launchpad.dashboard.DashboardContent",{createContent:function(c){var t=this,E=sap.ui.getCore().getEventBus();this.oDashboardGroupsBox=this._getDashboardGroupsBox(c);this.oDashboardDeleteArea=this._getDashboardDeleteArea(c);this.oDashboardDeleteArea.attachEvent("tileOver",function(){jQuery(".sapUshellTile-placeholder").hide();jQuery(".sapUshellExcludeMe.sapUshellSortableHelperClone").hide();t.oController._handleSortableChange()});this.oDashboardDeleteArea.attachEvent("tileOut",function(){jQuery(".sapUshellTile-placeholder").show();jQuery(".sapUshellExcludeMe.sapUshellSortableHelperClone").show();t.oController._handleSortableChange()});var f=new sap.m.Button('firstHiddenDashboardTabFocusHelper');f.addEventDelegate({onfocusin:function(){try{var s=sap.ui.getCore().byId('shell').getModel().getData();if(s.currentState.showPane){var g=sap.ui.getCore().byId('groupListPage');var a=g.getFooter();jQuery(a.getDomRef()).find("[tabindex=0]").last().focus()}else{sap.ui.getCore().byId('actionsBtn').focus()}}catch(e){}}});var l=new sap.m.Button('lastHiddenDashboardTabFocusHelper');l.addEventDelegate({onfocusin:function(){try{var s=sap.ui.getCore().byId('configBtn').focus()}catch(e){}}});return[f,this.oDashboardGroupsBox,this.oDashboardDeleteArea,l]},_getDashboardDeleteArea:function(c){var d=new sap.ushell.ui.launchpad.DeleteArea({type:sap.ushell.ui.launchpad.DeleteAreaType.Dashboard,message:sap.ushell.resources.i18n.getText("deleteAreaMsgForTile"),icon:sap.ui.core.IconPool.getIconURI('delete')});return d},_getDashboardGroupsBox:function(c){var t=this;var T=this._getTileContainerTemplate(c),v=this.getViewData(),C;if(v){C=v.config}var a=function(){if(this.getGroups().length){if((sap.ui.Device.system.combi||!sap.ui.Device.system.desktop)&&this.getModel().getProperty("/personalization")){this.touchSupport=new sap.ushell.touchSupport({containerSelector:'#dashboardGroups',wrapperSelector:sap.ui.Device.system.combi?'#dashboardPage-cont':undefined,draggableSelector:".sapUshellTile[role='link'],.sapUshellPlusTile",draggableSelectorExclude:".sapUshellPlusTile",rootSelector:"#dashboardPage",placeHolderClass:"sapUshellTile-placeholder",cloneClass:"sapUshellTile-clone",touchStartCallback:t._handleTouchStart.bind(t),touchEndCallback:c._handleDrop.bind(c),touchDragCallback:t._handleTouchDrag.bind(t),dragAndScrollCallback:t._handleDelete.bind(t),moveTolerance:10,switchModeDelay:1000,debug:jQuery.sap.debug()}).enable()}sap.ui.getCore().getEventBus().publish("launchpad","contentRendered");sap.ui.getCore().getEventBus().publish("launchpad","contentRefresh");var l=sap.ui.getCore().byId("loadingDialog");l.closeLoadingScreen();c._addBottomSpace();if(!C||C.enableTilesOpacity!==false){sap.ushell.utils.handleTilesOpacity()}}try{sap.ushell.utils.handleTilesVisibility()}catch(e){}};var h=[];if(this.oViewData.config&&this.oViewData.config.enableHideGroups){h.push(new sap.ui.model.Filter("isGroupVisible",sap.ui.model.FilterOperator.EQ,true))}var g=new sap.ushell.ui.launchpad.DashboardGroupsContainer("dashboardGroups",{accessibilityLabel:sap.ushell.resources.i18n.getText("DashboardGroups_label"),groups:{path:"/groups",template:T,filters:h},afterRendering:a});return g},_getTileContainerTemplate:function(c){var f=new sap.ui.model.Filter("isTileIntentSupported",sap.ui.model.FilterOperator.EQ,true);var a=(sap.ui.Device.system.desktop&&!sap.ui.Device.system.combi)?[c._bindTileEvents,c]:[function(){}];var t=new sap.ushell.ui.launchpad.TileContainer({headerText:"{title}",tooltip:"{title}",groupId:"{groupId}",defaultGroup:"{isDefaultGroup}",showHeader:true,showPlaceholder:true,tiles:{path:"tiles",template:new sap.ushell.ui.launchpad.Tile({draggable:false,"long":"{long}","tall":"{tall}",uuid:"{uuid}",target:"{target}",rgba:"{rgba}",animationRendered:false,debugInfo:"{debugInfo}",tileViews:{path:"content",factory:function(i,C){return C.getObject()}},afterRendering:a}),filters:[f]},add:function(e){sap.ushell.renderers.fiori2.Navigation.openCatalogByHash({groupContext:e.getSource().getBindingContext()})},afterRendering:function(){if(this.getModel().getProperty("/personalization")&&sap.ui.Device.system.desktop){var j=jQuery('#'+this.getId());c.makeGroupSortable(j)}},removable:"{removable}",sortable:"{sortable}"});return t},_handleTouchStart:function(e,u){},_handleTouchDrag:function(e,u){jQuery(u).find("a").removeAttr('href');this.oDashboardDeleteArea.show();this.placeHolderElement=jQuery(".sapUshellTile-placeholder")},_handleDelete:function(e,t){if(this.oDashboardDeleteArea.isElementOverDeleteArea(t)){if(this.isOutsideDeleteArea){this.oDashboardDeleteArea.tileOver(true);this.oDashboardDeleteArea.adjustStyleOnOverIn(true,jQuery(t));this.isOutsideDeleteArea=false;this.placeHolderElement.hide()}}else{if(!this.isOutsideDeleteArea){this.oDashboardDeleteArea.tileOver(false);this.oDashboardDeleteArea.adjustStyleOnOverOut(true,jQuery(t));this.isOutsideDeleteArea=true;this.placeHolderElement.show()}}},getControllerName:function(){return"sap.ushell.renderers.fiori2.launchpad.dashboard.DashboardContent"}})}())},"sap/ushell/renderers/fiori2/search/SearchBox.js":function(){(function(g){"use strict";jQuery.sap.require("sap.m.SearchField");sap.ushell.renderers.fiori2.search.SearchBox=sap.m.SearchField.extend("sap.ushell.renderers.fiori2.search.SearchBox",{metadata:{properties:{dataSourceName:"string"},events:{deletePill:{},resetAll:{}}},renderer:"sap.m.SearchFieldRenderer",onAfterRendering:function(){var s=this;var e=$(this.getDomRef());sap.m.SearchField.prototype.onAfterRendering.apply(this,arguments);e.find("#sfOverlay-reset").click(function(){s.fireResetAll()});e.find("#sfOverlay-reset").on({"touchstart":function(){s.fireResetAll()}});e.find("#containerSf-reset").click(function(){s.fireResetAll()});e.find("#containerSf-reset").on({"touchstart":function(){s.fireResetAll()}});var f=e.find("form");f.addClass("sapUiUfdShellSearchBoxForm");var i=e.find("input");i.addClass("sapUiUfdShellSearchBox");var d=this.getDataSourceName();if(!d||d===""){return}var p=$('<span class="sapUshellDataSourcePill sapUshellSearchBoxPill"></span>');f.prepend(p);p.append('<span class="sapUiUfdShellSearchBoxPillDsName">'+d+'</span>');var a=$('<span class="sapUiUfdShellSearchBoxPillDel"></span>');var r=sap.ui.getCore().getConfiguration().getRTL();if(r){p.prepend(a)}else{p.append(a)}a.click(function(){s.fireDeletePill()});a.on({"touchstart":function(){s.fireDeletePill()}})}})}(window))},"sap/ushell/renderers/fiori2/search/SearchModel.js":function(){(function(g){"use strict";var s=g.sap;var c=g.console;var T=function(){this.init.apply(this,arguments)};T.prototype={init:function(t){this.text=t||"";this.lower=this.text.toLocaleLowerCase();this.globalBold=false;this.bold=new Array(this.text.length);for(var i=0;i<this.bold.length;++i){this.bold[i]=false}},highlight:function(t){if(t===""||this.lower==="")return;t=t.toLowerCase();var a=-1;while(a<this.lower.length){a=this.lower.indexOf(t,a);if(a>=0){for(var i=a;i<a+t.length;++i){this.bold[i]=true;this.globalBold=true}a+=t.length}else{break}}},render:function(){if(!this.globalBold){return this.text}var b=false;var r=[];var a=0;for(var i=0;i<this.text.length;++i){if(b&&!this.bold[i]||!b&&this.bold[i]){r.push(this.text.substring(a,i));if(b){r.push("</b>")}else{r.push("<b>")}b=!b;a=i}}r.push(this.text.substring(a,i));if(b){r.push("</b>")}return r.join("")}};s.ui.model.json.JSONModel.extend("sap.ushell.renderers.fiori2.search.SearchModel",{searchInit:function(){var a=this;a.sina=s.ushell.Container.getService("Search").getSina();var p={templateFactsheet:true};a.suggestionid=0;a.suggestionQuery=a.sina.createSuggestionQuery();this.oUserRecentsService=s.ushell.Container.getService("UserRecents");a.query=a.sina.createPerspectiveQuery(p);a.searchRequestID=0;a.setProperty('/dataSourceName','');a.setProperty('/dataSourceLabelRaw','');a.setProperty('/searchBoxTerm','');a.setProperty('/headSelectedDataSource',{});a.setProperty('/facets',{});a.setProperty('/facets/dataSources',[]);a.setProperty('/facets/attributes',[]);a.setProperty('/results',[]);a.setProperty('/detail',{});a.setProperty('/detail',{});a.setProperty('/detail/title',"");a.setProperty('/detail/titleUrl',"");a.setProperty('/detail/type',"");a.setProperty('/detail/data',{});a.setProperty('/count',0);a.setProperty('/isResultAppended',false);a.setProperty('/attributeFacetFilterLists',[]);a.resetDataSource(false);a.resetDataSources(false);a.resetAttributeFacets(false);a.resetFilterConditions(false);a.dsSuggestionQuery=a.sina.createPerspectiveQuery(p);if(jQuery.device.is.phone){this.appSuggestionLimit=3;this.normalAppSuggestionLimit=3;this.singleAppSuggestionLimit=5;this.normalSuggestionLimit=5;this.dataSourceSuggestionLimit=5}else{this.appSuggestionLimit=3;this.normalAppSuggestionLimit=3;this.singleAppSuggestionLimit=7;this.normalSuggestionLimit=7;this.dataSourceSuggestionLimit=7}if(s.ui.getCore().byId("mainShell").getViewData().config.searchBusinessObjects){a.setProperty('/isNormalSearchEnable',s.ui.getCore().byId("mainShell").getViewData().config.searchBusinessObjects!=="hidden")}else{a.setProperty('/isNormalSearchEnable',true)}a.setProperty("/tiles",[]);var d=[];if(a.isNormalSearchEnable()){d.push({dataSourceLabel:s.ushell.resources.i18n.getText("label_all"),label:s.ushell.resources.i18n.getText("label_all"),labelRaw:"$$ALL$$"})}d.push({dataSourceLabel:s.ushell.resources.i18n.getText("label_apps"),label:s.ushell.resources.i18n.getText("label_apps"),labelRaw:"$$APP$$"});a.setProperty("/connectors",d);var h=function(b){var e=[];e.push({dataSourceLabel:s.ushell.resources.i18n.getText("label_all"),label:s.ushell.resources.i18n.getText("label_all"),labelRaw:"$$ALL$$"});e.push({dataSourceLabel:s.ushell.resources.i18n.getText("label_apps"),label:s.ushell.resources.i18n.getText("label_apps"),labelRaw:"$$APP$$"});for(var i=0;i<b.length;i++){var f=b[i];if(f.DESCRIPTION&&f.OBJECT_NAME){var j;if(f.DESCRIPTION.value!==null){j={dataSourceLabel:a.getHighlightingForTerms(f.DESCRIPTION.value,"*"),label:f.DESCRIPTION.value,labelRaw:f.OBJECT_NAME.value,}}else{j={dataSourceLabel:a.getHighlightingForTerms(f.DESCRIPTION.value,"*"),label:f.OBJECT_NAME.value,labelRaw:f.OBJECT_NAME.value,}}if(j.label&&j.labelRaw){e.push(j)}}}a.setProperty("/connectors",e)};if(a.isNormalSearchEnable()){a.getConnectors(h,function(){})}},isNormalSearchEnable:function(){return this.getProperty("/isNormalSearchEnable")},doSuggestion:function(){var a=this;if(a.suggestionTimeoutId){g.clearTimeout(a.suggestionTimeoutId)}a.suggestionTimeoutId=g.setTimeout(function(){var b=a.getProperty("/searchBoxTerm");a.setProperty("/appSection",[]);a.setProperty("/dataSourceSection",[]);a.setProperty("/suggestSection",[]);a.setProperty("/mixedSection",[]);a.suggestionid=a.suggestionid+1;if(a.isNormalSearchEnable()){if((b.length>=3||!a.isAllCategory())&&!a.isAppCategory()){a.doNormalSuggestions(b,a.suggestionid)}if(!a.isAppCategory()){a.appSuggestionLimit=a.normalAppSuggestionLimit}else{a.appSuggestionLimit=a.singleAppSuggestionLimit}if(a.isAllCategory()||a.isAppCategory()){a.doAppSuggestions(b,a.suggestionid)}if(a.isAllCategory()){a.doDataSourceSuggestions(b)}}else{a.appSuggestionLimit=a.singleAppSuggestionLimit;a.doAppSuggestions(b,a.suggestionid)}},400)},isAllCategory:function(){var d=this.getProperty("/dataSource");if((d&&d.objectName&&d.objectName.value&&d.objectName.value.toLowerCase()==="$$all$$")||(d&&d.objectName&&d.objectName.toLowerCase&&d.objectName.toLowerCase()==="$$all$$"))return true;return false},isAppCategory:function(){var d=this.getProperty("/dataSource");if(d&&d.objectName&&d.objectName.value==="$$APP$$")return true;return false},doAppSuggestions:function(a,b){var d=this;var q={searchTerm:a,top:d.appSuggestionLimit};var e=s.ushell.Container.getService("Search").queryApplications(q).done(function(r){var R=r.getElements();var u=[];if(b!==d.suggestionid)return;for(var i=0;i<R.length;++i){var f=R[i];var h={pos:i,label:f.title,icon:f.icon,targetURL:f.url,labelRaw:"",mixedLabel:f.title};u.push(h)}d.setProperty("/appSection",u);var k=d.getProperty("/appSection");var l=d.getProperty("/dataSourceSection");var n=d.getProperty("/suggestSection");var m=k.concat(l).concat(n);for(var j=0;j<m.length;j++){var o=m[j];if(d.isAllCategory()&&o.dataSourceLabel){o.mixedLabel=o.label+" <i>in "+o.dataSourceLabel+"</i>"}else{o.mixedLabel=o.label}}d.setProperty("/mixedSection",m)})},doDataSourceSuggestions:function(a){var b=this;b.suggestDataSources(a,2)},suggestDataSources:function(a,l){var b=this;var d=a.replace(/([.+?^=!:${}()|\[\]\/\\])/g,"\\$1");d=d.replace(/\*/g,".*");var e=new RegExp('\\b'+d,'i');var t=b.tokenizeSuggestionTerm(a);var f=b.getProperty("/connectors");if(f){var h=[];for(var i=0;i<f.length;++i){var j=f[i];if(e.test(j.label)&&j.label.toLowerCase()!=='all'&&j.label.toLowerCase()!=='apps'){var k={};k.label='<i>'+s.ushell.resources.i18n.getText("searchIn")+': </i>'+b.getHighlightingForTerms(j.label,t);k.labelRaw=j.labelRaw;k.mixedLabel=k.label;k.suggestType="dataSourceSuggest";h.push(k);if(h.length===l){break}}}b.setProperty("/dataSourceSection",h);var m=b.getProperty("/appSection");var n=b.getProperty("/dataSourceSection");var o=b.getProperty("/suggestSection");var p=m.concat(n).concat(o);b.setProperty("/mixedSection",p)}},getConnectors:function(o,a){var b=this;var d=b.sina.sinaSystem();d.getServerInfo().done(function(){var e;if(d&&d.properties&&d.properties.rawServerInfo&&d.properties.rawServerInfo.ServerInfo)e=d.properties.rawServerInfo.ServerInfo.SystemId;var f=d.properties.rawServerInfo.ServerInfo.Client;b.searchConnector=e+f+"~ESH_CONNECTOR~";var h=b.sina.createDataSource({objectName:b.searchConnector,packageName:"ABAP",type:"Connector",label:""});b.dsSuggestionQuery.setDataSource(h);b.dsSuggestionQuery.setSearchTerms("*");b.dsSuggestionQuery.setTop(1000);b.dsSuggestionQuery.setOrderBy({orderBy:'DESCRIPTION',sortOrder:'ASC'});b.dsSuggestionQuery.getResultSet(jQuery.proxy(function(r){var i=r.searchresultset.getElements();o(i)},this),function(i){a(i)})})},getDataSourceSuggestions:function(a,o,b){var d=this;var e=d.sina.sinaSystem();e.getServerInfo().done(function(){var f;if(e&&e.properties&&e.properties.rawServerInfo&&e.properties.rawServerInfo.ServerInfo)f=e.properties.rawServerInfo.ServerInfo.SystemId;var h=e.properties.rawServerInfo.ServerInfo.Client;d.searchConnector=f+h+"~ESH_CONNECTOR~";var i=d.sina.createDataSource({objectName:d.searchConnector,packageName:"ABAP",type:"Connector",label:""});d.dsSuggestionQuery.setDataSource(i);d.dsSuggestionQuery.setSearchTerms(a);d.dsSuggestionQuery.setTop(1000);d.dsSuggestionQuery.setOrderBy({orderBy:'DESCRIPTION',sortOrder:'ASC'});d.dsSuggestionQuery.getResultSet(jQuery.proxy(function(r){var j=r.searchresultset.getElements();o(j)},this),function(j){b(j)})})},doNormalSuggestions:function(a,b){var d=this;d.suggestionQuery.setSuggestionTerm(a);d.suggestionQuery.setDataSource(d.getProperty("/dataSource"));d.suggestionQuery.getResultSet(function(r){if(b!==d.suggestionid)return;var e=r.getElements();var f=[];var t=d.tokenizeSuggestionTerm(a);for(var i=0;i<e.length;i++){var h=e[i];var j;if(i===0){j=h.labelRaw}if(h.attribute.value!=="$$AllAttributes$$"){continue}if(d.isAllCategory()){if(h.dataSource.getObjectName().value!=="$$AllDataSources$$"){if(j!==h.labelRaw){continue}h.dataSourceLabel=d.getLabelForSinaDataSource(h.dataSource)}else{h.dataSource=d.sina.createDataSource({objectName:"$$ALL$$",packageName:"ABAP",type:"Category",label:"All Categories"})}}else{if(h.dataSource.getObjectName().value!=="$$AllDataSources$$"){continue}else{h.dataSource=d.sina.createDataSource({objectName:"$$ALL$$",packageName:"ABAP",type:"Category",label:"All Categories"})}h.dataSource=d.getProperty("/dataSource");h.dataSourceLabel=d.getLabelForSinaDataSource(h.dataSource)}h.label=d.getHighlightingForTerms(h.labelRaw,t);f.push(h);if(d.normalSuggestionLimit===f.length)break}d.setProperty("/suggestSection",f);var k=d.getProperty("/appSection");var l=d.getProperty("/dataSourceSection");var n=d.getProperty("/suggestSection");var m=k.concat(l).concat(n);for(var i=0;i<m.length;i++){var o=m[i];if(d.isAllCategory()&&o.dataSourceLabel){o.mixedLabel=o.label+" <i>in "+o.dataSourceLabel+"</i>"}else{o.mixedLabel=o.label}}d.setProperty("/mixedSection",m)})},addTitle:function(t,i){if(i.length!==0){i.unshift({isTitle:true,title:t})}},createAllDataSource:function(){return this.sina.createDataSource({objectName:{label:"$$ALL$$",value:"$$ALL$$"},packageName:{label:"ABAP",value:"ABAP"},type:"Category",label:"All Categories"})},createAppDataSource:function(){return this.sina.createDataSource({objectName:{label:"$$APP$$",value:"$$APP$$"},packageName:"",type:"",label:"App Category"})},getLabelForSinaDataSource:function(d){var a=d.label||d.objectName.label||d.objectName.value;return a},getHighlightingForTerms:function(t,a){var m=new T(t);for(var j=0;j<a.length;++j){var b=a[j];m.highlight(b)}return m.render()},tokenizeSuggestionTerm:function(a){var t=a;var b=t.split(" ");var n=[];$.each(b,function(i,d){d=$.trim(d);if(d.length>0){var e=d.split("*");$.each(e,function(i,f){if(f.length>0){n.push(f)}})}});return n},correctServerErrorHighlighting:function(a,t){var m;var b=/<b>[^<]+<\/b>/igm;while(m=b.exec(a)){var d=m.index;var e=b.lastIndex-4;var S=a.substring(d+3,e);var f=new T(S);for(var i=0;i<t.length;++i){m={};var h=t[i];f.highlight(h)}S=f.render();a=a.substring(0,d)+S+a.substring(e+4)}return a},buildSuggestions:function(S,a){var r={};var t=a;var b=t.split(" ");var n=[];$.each(b,function(i,e){e=$.trim(e);if(e.length>0){var f=e.split("*");$.each(f,function(i,h){if(h.length>0){h=h.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&");n.push(h)}})}});t=n;var d=/<b>[^<]+<\/b>/igm;jQuery.each(S,function(i,v){if(v.filter.attribute!=="$$AllAttributes$$"){return}if(!r[v.labelRaw]){r[v.labelRaw]=v;r[v.labelRaw].categories=[];r[v.labelRaw].visible=true;r[v.labelRaw].type="suggestion"}var e=r[v.labelRaw].label;if(e.length===0){r[v.labelRaw].label=v.labelRaw;e=r[v.labelRaw].label}var m;while(m=d.exec(e)){var f=m.index;var h=d.lastIndex-4;var j=e.substring(f+3,h);var k=new T(j);for(i=0;i<t.length;++i){m={};var l=t[i];var o=new RegExp(l,"ig");if(j!==l){var p=j.match(o);if(p&&p instanceof Array&&p.length>0){k.highlight(l)}}}j=k.render();e=e.substring(0,f)+j+e.substring(h+4)}r[v.labelRaw].label=e;if(v.dataSource.getObjectName().value!=="$$AllDataSources$$"){r[v.labelRaw].categories.push({label:v.dataSource.getObjectName().label,data:v})}});return jQuery.map(r,function(v,k){return[v]})},addFilterCondition:function(a,o,v,f){var b=this;b.query.addFilterCondition(a,o,v);if(f||f===undefined){b._searchFireQuery()}},addFilterConditionGroup:function(a,f){var b=this;b.query.getFilter().addFilterConditionGroup(a);if(f||f===undefined){b._searchFireQuery()}},resetFilterConditions:function(f){var a=this;a.query.resetFilterConditions();a.query.addFilterCondition('$$RenderingTemplatePlatform$$','=','html');a.query.addFilterCondition('$$RenderingTemplateTechnology$$','=','Tempo');a.query.addFilterCondition('$$RenderingTemplateVariant$$','=','');a.query.addFilterCondition('$$RenderingTemplateType$$','=','ItemDetails');a.query.addFilterCondition('$$RenderingTemplateType$$','=','ResultItem');if(f||f===undefined){a._searchFireQuery()}},resetAttributeFacets:function(f){var a=this;a.setProperty('/facets/attributes',[]);if(f||f===undefined){a._searchFireQuery()}},getDataSources:function(){var a=this;return a.getProperty("/facets/dataSources")},resetDataSources:function(f){var a=this;a.setProperty('/facets/dataSources',[]);if(f||f===undefined){a._searchFireQuery()}},getResultList:function(){var a=this;return a.perspective.getSearchResultSet()},getFacets:function(){var a=this;return a.perspective.getChartFacets()},getFilter:function(){var a=this;return a.query.getFilter()},setFilter:function(f,a){var b=this;b.query.setFilter(f);if(a||a===undefined){b._searchFireQuery()}},getTop:function(){var a=this;return a.query.getTop()},setTop:function(t,f){var a=this;a.query.setTop(t);if(f||f===undefined){a._searchFireQuery()}},getSkip:function(){var a=this;return a.query.getSkip()},setSkip:function(a,f){var b=this;b.query.setSkip(a);if(f||f===undefined){b._searchFireQuery()}},resetDataSource:function(f){var a=this;if(s.bc===undefined)return;var d=a.sina.createDataSource({objectName:"$$ALL$$",packageName:"ABAP",type:"Category",label:"All Categories"});a.setDataSource(d,f)},getDataSource:function(){var a=this;return a.query.getDataSource()},getDataSourceJson:function(){var a=this;var d=a.getProperty("/dataSource");var j={"SchemaName":{"label":d.getSchemaName().label,"value":d.getSchemaName().value},"PackageName":{"label":d.getPackageName().label,"value":d.getPackageName().value},"ObjectName":{"label":d.getObjectName().label,"value":d.getObjectName().value}};if(d.getType().value){j.Type=d.getType().value}return j},setDataSource:function(d,f){var a=this;d=a.sina.createDataSource(d);var b=d.getLabel();a.setProperty('/dataSourceName',b);a.setProperty('/dataSourceLabelRaw',d.objectName.value);a.setSkip(0,false);a.setProperty("/dataSource",d);if(a.isAllCategory()){a.setProperty('/dataSourceName',"");a.setProperty('/dataSourceLabelRaw',"$$ALL$$")}this.oUserRecentsService.noticeDataSource(d);if(f||f===undefined){a._searchFireQuery()}},getSearchTerm:function(){var a=this;return a.getProperty("/searchBoxTerm")},setSearchTerm:function(a,f){var b=this;b.setProperty("/searchBoxTerm",a);if(f||f===undefined){b._searchFireQuery()}},getResultsForDataSource:function(d,r){var a=[];for(var i=0;i<r.length;i++){var b=r[i];var e=b.$$DataSourceMetaData$$;if(d.objectName.value===e.objectName.value){a.push(b)}}return a},_searchFireQuery:function(){var a=this;if(!a.sina){jQuery.sap.log.info("Current Search adapter does not support Sina queries");return}var b=a.getProperty('/searchBoxTerm');var d=a.getProperty("/dataSource");s.ui.getCore().getEventBus().publish("search",{searchTerm:b,dataSource:d});if(a.getSkip()>0&&a.query.getSearchTerms()===b&&a.query.getDataSource().equals(d)){a.setProperty("/isResultAppended",true)}else{a.setProperty("/results",[]);a.setProperty("/isResultAppended",false)}a.query.setSearchTerms(b);a.query.setDataSource(d);a.searchRequestID=a.searchRequestID+1;var e=a.searchRequestID;s.ui.getCore().getEventBus().publish("searchStarted");var p=2;var f=function(){if(!--p){s.ui.getCore().getEventBus().publish("allSearchFinished")}};a.setProperty("/tiles",[]);if(a.isAllCategory()||a.isAppCategory()){var h={searchTerm:a.getProperty('/searchBoxTerm'),searchInKeywords:true};s.ushell.Container.getService("Search").queryApplications(h).done(function(r){if(e!==a.searchRequestID){jQuery.sap.log.debug("Searchrequest deprecated");return}var m=[];var t=r.getElements();a.setProperty("/tiles",t);s.ui.getCore().getEventBus().publish("appSearchFinished",r)})}else{s.ui.getCore().getEventBus().publish("appSearchFinished")}f();a.perspective=a.getEmptyPerspective();if(a.isNormalSearchEnable()&&!a.isAppCategory()){var j=a.query.getResultSet();j.always(function(i){if(this.state()!=="resolved"){i=a.getEmptyPerspective()}if(e!==a.searchRequestID){jQuery.sap.log.debug("Searchrequest deprecated");return}a.perspective=i;a._afterSearchPrepareResultList(i,a.getProperty("/isResultAppended"));s.ui.getCore().getEventBus().publish("searchFinished",{append:a.getProperty("/isResultAppended"),resultset:i})});j.fail(function(k){var l=["ESH_FED_MSG016"];if(k&&k.responseText){var m=true;var n=jQuery.parseJSON(k.responseText);var o='Search Error: ';var q='';if(n.Error){if(n.Error.Message){o+=''+n.Error.Message}if(n.Error.Code){o+=' (Code '+n.Error.Code+').'}}if(n.ErrorDetails){q+='';for(var i=0;i<n.ErrorDetails.length;i++){q+=n.ErrorDetails[i].Message+' (Code '+n.ErrorDetails[i].Code+')';if(l.indexOf(n.ErrorDetails[i].Code)!==-1){m=false}}}jQuery.sap.log.error(o+' Details: '+q);if(m){jQuery.sap.require("sap.ca.ui.message.message");s.ca.ui.message.showMessageBox({type:s.ca.ui.message.Type.ERROR,message:o,details:q})}}});j.always(function(i){f()})}else{f()}},getEmptyPerspective:function(r){return{getSearchResultSet:function(){return{getElements:function(){return[]},totalcount:0}}}},_searchGetGenericResults:function(r){function d(h){var A={imageUrl:'',name:''};for(var p in h){if(h[p].label&&h[p].value){if(h[p].value&&jQuery.type(h[p].value)==='string'&&(h[p].value.split('.').pop()==='jpg'||h[p].value.split('.').pop()==='png')){A.imageUrl=h[p].value;A.name=p;return A}}}return A}var m=function(w,a){var l=w.length;while(l--){if(w[l].labelRaw===a.labelRaw&&a!==undefined){a.value=w[l].value;a.whyfound=true;w.splice(l,1)}}};var e=function(a,b){return a.displayOrder-b.displayOrder};var f=[];for(var i=0;i<r.length;i++){var h=r[i];var u='';var j=h.$$RelatedActions$$;for(var k in j){if(j[k].type==="Navigation"){u=j[k].uri}}var w=h.$$WhyFound$$||[];var n=[];var o=[];var t='';for(var p in h){if(h[p].label&&h[p].$$MetaData$$){var q=h[p].$$MetaData$$.presentationUsage||[];if(q&&q.length>0){if(q.indexOf("Title")>-1&&h[p].value){m(w,h[p]);t=t+" "+h[p].value}if(q.indexOf("Summary")>-1){n.push({property:p,displayOrder:h[p].$$MetaData$$.displayOrder})}else if(q.indexOf("Detail")>-1){o.push({property:p,displayOrder:h[p].$$MetaData$$.displayOrder})}}}}n.sort(e);o.sort(e);var v=n.concat(o);var x=1;var y={};var A=d(h);y.imageUrl=A.imageUrl;y.dataSourceName=this._highlight(h.$$DataSourceMetaData$$.label);y.uri=u;y.$$Name$$='';for(var z=0;z<v.length;z++){var B=v[z].property;if(B!==A.name){m(w,h[B]);y["attr"+x+"Name"]=h[B].label;y["attr"+x]=h[B].value;if(h[B].whyfound){y["attr"+x+"Whyfound"]=h[B].whyfound}x=x+1}}y.$$Name$$=t.trim();y.numberofattributes=v.length;y.title=h.title;y.whyfounds=w;f.push(y)}return f},_highlight:function(t){var a=this.query.filter.searchTerms;a=a.replace(new RegExp("[*]","g"),"");a=a.split(" ");var n=[];a=$.each(a,function(i,b){b=$.trim(b);if(b.length>0){n.push(b)}});a=n;var m=new T(t);for(var i=0;i<a.length;++i){var b=a[i];m.highlight(b)}return m.render()},_afterSearchPrepareResultList:function(r,a){var b=this;var v=b.getProperty("/results");var d;if(a){v.pop()}var e=r.getSearchResultSet().getElements();e=b._searchGetGenericResults(e);d=v.concat(e);if(d.length<r.getSearchResultSet().totalcount){var f={};f.type="footer";d.push(f)}b.setProperty("/resultListHeading",s.ushell.resources.i18n.getText("searchResults"));b.setProperty("/count",r.getSearchResultSet().totalcount);b.setProperty("/results",d);if(window.f2p)window.f2p.add(window.f2p.m.endSearch,{st:""})},mockScopes:function(){var a=[{label:'Supplier',labelRaw:'Q7D004~VENDOR_H~',objectName:{label:'Supplier',value:'Q7D004~VENDOR_H~'},packageName:{label:"",value:""},schemaName:{label:"",value:""}},{label:'Goods Issue',labelRaw:'Q7D004~GOODS_ISSUE_H~',objectName:{label:'Goods Issue',value:'Q7D004~GOODS_ISSUE_H~'},packageName:{label:"",value:""},schemaName:{label:"",value:""}},{label:'Material',labelRaw:'Q7D004~MATERIAL_H~',objectName:{label:'Material',value:'Q7D004~MATERIAL_H~'},packageName:{label:"",value:""},schemaName:{label:"",value:""}},{label:'Purchasing Info Record',labelRaw:'Q7D004~PURCHASE_INFO_REC_H~',objectName:{label:'Purchasing Info Record',value:'Q7D004~PURCHASE_INFO_REC_H~'},packageName:{label:"",value:""},schemaName:{label:"",value:""}},{label:'Purchase Order',labelRaw:'Q7D004~PURCHASE_ORDER_H~',objectName:{label:'Purchase Order',value:'Q7D004~PURCHASE_ORDER_H~'},packageName:{label:"",value:""},schemaName:{label:"",value:""}},{label:'Sales Order',labelRaw:'Q7D004~SALES_ORDER_H~',objectName:{label:'Sales Order',value:'Q7D004~SALES_ORDER_H~'},packageName:{label:"",value:""},schemaName:{label:"",value:""}}];return a},_searchInvoked:function(C,e,d){var a=this;if(window.f2p){window.f2p.add(window.f2p.m.startSearch,{st:d.searchTerm})}if(d.searchTerm.toLowerCase().indexOf(a.getSearchTerm().toLowerCase())===-1){a.resetDataSource(false)}a.setSearchTerm(d.searchTerm,false);if(d.dataSource){a.setDataSource(d.dataSource,false)}a.setSkip(0,false);a.setTop(10)},_afterSearchPrepareFacets:function(){var a=this;var f=a.getFacets();var d=f.filter(function(e){return e.facetType==="datasource"});a._afterSearchPrepareDataSourceFacet(d);var b=f.filter(function(e){return e.facetType==="attribute"});a._afterSearchPrepareAttributeFacet(b)},_afterSearchPrepareDataSourceFacet:function(d){var a=this;var b=a.getProperty("/facets/dataSources");if(d.length>0){d=d[0];if(d.query.resultSet&&d.query.resultSet.elements&&d.query.resultSet.elements.length>0){for(var i=0;i<d.query.resultSet.elements.length;i++){var e={id:d.query.resultSet.elements[i].dataSource.label+(i+1),text:d.query.resultSet.elements[i].dataSource.label,count:d.query.resultSet.elements[i].valueRaw,dataSource:d.query.resultSet.elements[i].dataSource,selected:a.getDataSource()===d.query.resultSet.elements[i].dataSource};b.push(e)}}}a.setProperty("/facets/dataSources",b)},_afterSearchPrepareAttributeFacet:function(a){var b=this;function f(m){var r=false;for(var i=0,l=m.items.length;i<l;i++){var n=m.items[i];if(n.selected){r=true;break}}return r}var d=b.getProperty("/facets/attributes").filter(f);for(var i=0,l=a.length;i<l;i++){var e={title:a[i].title,dimension:a[i].dimension,items:[],allCount:0};for(var j=0,h=a[j].query.resultSet.elements.length;j<h;j++){var m=a[i].query.resultSet.elements[j];var n={text:m.label,count:m.valueRaw,filterCondition:m.labelRaw,selected:false};e.items.push(n);e.allCount+=n.count}var o=false;for(var k=0,p=d.length;k<p;k++){var q=d[k];if(q.title===e.title&&q.dimension===e.dimension){o=true;break}}if(!o){d.push(e)}}b.setProperty("/facets/attributes",d)}})})(window)},"sap/ushell/resources.js":function(){
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.declare("sap.ushell.resources");jQuery.sap.require("sap.ui.model.resource.ResourceModel");sap.ushell.resources={};sap.ushell.resources.getTranslationModel=function(){var t=new sap.ui.model.resource.ResourceModel({bundleUrl:jQuery.sap.getModulePath("sap.ushell.renderers.fiori2.resources.resources",".properties"),bundleLocale:sap.ui.getCore().getConfiguration().getLanguage()});return t};sap.ushell.resources.i18nModel=sap.ushell.resources.getTranslationModel();sap.ushell.resources.i18n=sap.ushell.resources.i18nModel.getResourceBundle()}())},"sap/ushell/services/AppConfiguration.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.services.AppConfiguration");function A(){var m={},c=null;this.getMetadata=function(a){if(!a){a=c}if(a){var k=this.getApplicationUrl(a);if(!(m.hasOwnProperty(k))){this.addMetadata(a)}return m[k]||{}}return{}};this.setCurrentApplication=function(a){c=a};this.addApplicationSettingsButtons=function(b){var M=sap.ui.getCore().byId('shell')&&sap.ui.getCore().byId('shell').getModel();var i,C,B,n=[];if(!M){jQuery.sap.log.error("shell does not exist");return}B=M.getProperty('/currentState/shellActions').slice(0);for(i=0;i<b.length;i++){C=b[i];C.setIcon(C.getIcon()||sap.ui.core.IconPool.getIconURI('action-settings'));n.push(C.getId())}M.setProperty('/currentState/actions',n.concat(B))};this.setWindowTitle=function(t){window.document.title=t};this.setIcons=function(i){jQuery.sap.setIcons(i)};this.getSettingsControl=function(){jQuery.sap.require("sap.ushell.ui.footerbar.SettingsButton");return new sap.ushell.ui.footerbar.SettingsButton()};this.getApplicationName=function(a){var M,s=(a&&a.additionalInformation)||null;if(s){M=/^SAPUI5\.Component=(.+)$/i.exec(s);if(M){return M[1]}}return null};this.getApplicationUrl=function(a){var u=(a&&a.url)||null,i;if(u){i=u.indexOf("?");if(i>=0){u=u.slice(0,i)}if(u.slice(-1)!=='/'){u+='/'}}return u};this.addMetadata=function(a){try{var C=this.getApplicationName(a),u=this.getApplicationUrl(a),s,o,r,R,l,b,i,p,v,P=["libraryName","version","fullWidth","title","icon","favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"],d,e,f;if(u&&!(m.hasOwnProperty(u))){m[u]={};o=sap.ui.component.load({url:u,name:C});l=o.getMetadata();if(l){b=l&&l.getConfig();if(b){R=b.resourceBundle||"";if(R){if(R.slice(0,1)!=='/'){R=u+R}r=jQuery.sap.resources({url:R,locale:sap.ui.getCore().getConfiguration().getLanguage()})}}for(i=0;i<P.length;i=i+1){p=P[i];if(r&&b.hasOwnProperty(p+"Resource")){v=r.getText(b[p+"Resource"])}else if(b.hasOwnProperty(p)){v=b[p]}else{v=l["_s"+p.substring(0,1).toUpperCase()+p.slice(1)]}m[u][p]=v}}d=["favIcon","homeScreenIconPhone","homeScreenIconPhone@2","homeScreenIconTablet","homeScreenIconTablet@2","startupImage320x460","startupImage640x920","startupImage640x1096","startupImage768x1004","startupImage748x1024","startupImage1536x2008","startupImage1496x2048"];e=(u&&u[u.length-1]==='/')?u.substring(0,u.length-1):u;f=function(u){if(u.match(/^https?:\/\/.*/)){return false}return u&&u[0]!=='/'};d.forEach(function(h){var O=m[u][h],F=null;if(O){F=f(O)?e+"/"+O:O}m[u][h]=F})}}catch(g){jQuery.sap.log.warning("Application configuration could not be parsed")}}}sap.ushell.services.AppConfiguration=new A()}())},"sap/ushell/services/Container.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.services.Container");jQuery.sap.require("sap.ushell.utils");jQuery.sap.require("sap.ushell.System");var c,d="sap.ushell.Container.dirtyState.",p;sap.ushell.utils.testPublishAt(sap.ushell.services);function a(){close()}sap.ushell.utils.testPublishAt(sap.ushell.services);function r(){document.location="about:blank"}sap.ushell.utils.testPublishAt(sap.ushell.services);function g(){return localStorage}function b(P){if(p&&p[P]){return p[P]}return"sap.ushell.adapters."+P}function f(s){return(c.services&&c.services[s])||{}}function h(n,s,P){var A=f(n).adapter||{},e=A.module||b(s.getPlatform())+"."+n+"Adapter";jQuery.sap.require(e);return new(jQuery.sap.getObject(e))(s,P,{config:A.config||{}})}function C(A){var l=new sap.ui.base.EventProvider(),R="sap.ushell.Container."+A.getSystem().getPlatform()+".remoteSystem.",m={},G,s,L=g(),S=new sap.ushell.utils.Map(),j="sap.ushell.Container."+A.getSystem().getPlatform()+".sessionTermination",t=this;this.cancelLogon=function(){if(this.oFrameLogonManager){this.oFrameLogonManager.cancelLogon()}};this.createRenderer=function(e){var o,i,q,u;e=e||c.defaultRenderer;if(!e){throw new Error("Missing renderer name")}u=(c.renderers&&c.renderers[e])||{};i=u.module||(e.indexOf(".")<0?"sap.ushell.renderers."+e+".Renderer":e);jQuery.sap.require(i);if(u.componentData&&u.componentData.config){o={config:u.componentData.config}}q=new(jQuery.sap.getObject(i))({componentData:o});if(q instanceof sap.ui.core.UIComponent){q=new sap.ui.core.ComponentContainer({component:q,height:"100%",width:"100%"})}if(!(q instanceof sap.ui.core.Control)){throw new Error("Unsupported renderer type for name "+e)}return q};this.DirtyState={CLEAN:"CLEAN",DIRTY:"DIRTY",MAYBE_DIRTY:"MAYBE_DIRTY",PENDING:"PENDING",INITIAL:"INITIAL"};this.getGlobalDirty=function(){var i,D=new jQuery.Deferred(),u=jQuery.sap.uid(),o,P=0,q=this.DirtyState.CLEAN;function v(){if(P===0||q===t.DirtyState.DIRTY){D.resolve(q);jQuery.sap.log.debug("getGlobalDirty() Resolving: "+q,null,"sap.ushell.Container")}}function w(x){if(x.key.indexOf(d)===0&&x.newValue!==t.DirtyState.INITIAL&&x.newValue!==t.DirtyState.PENDING){jQuery.sap.log.debug("getGlobalDirty() Receiving event key: "+x.key+" value: "+x.newValue,null,"sap.ushell.Container");if(x.newValue===t.DirtyState.DIRTY||x.newValue===t.DirtyState.MAYBE_DIRTY){q=x.newValue}P-=1;v()}}if(sap.ui.Device.browser.msie){return D.resolve(this.DirtyState.MAYBE_DIRTY).promise()}try{L.setItem(u,"CHECK");L.removeItem(u)}catch(e){jQuery.sap.log.warning("Error calling localStorage.setItem(): "+e,null,"sap.ushell.Container");return D.resolve(this.DirtyState.MAYBE_DIRTY).promise()}if(G){throw new Error("getGlobalDirty already called!")}G=D;window.addEventListener('storage',w);D.always(function(){window.removeEventListener('storage',w);G=undefined});for(i=L.length-1;i>=0;i-=1){o=L.key(i);if(o.indexOf(d)===0){if(L.getItem(o)==='PENDING'){L.removeItem(o);jQuery.sap.log.debug("getGlobalDirty() Cleanup of unresolved 'PENDINGS':"+o,null,"sap.ushell.Container")}else{P+=1;sap.ushell.utils.localStorageSetItem(o,this.DirtyState.PENDING,true);jQuery.sap.log.debug("getGlobalDirty() Requesting status for: "+o,null,"sap.ushell.Container")}}}v();setTimeout(function(){if(D.state()!=="resolved"){D.resolve('MAYBE_DIRTY');jQuery.sap.log.debug("getGlobalDirty() Timeout reached, - resolved 'MAYBE_DIRTY'",null,"sap.ushell.Container")}},P*2000);return D.promise()};this.getLogonSystem=function(){return A.getSystem()};this.getUser=function(){return A.getUser()};this.getService=function(e,P){var o={},M,K,i,q,u,v,w;function x(y){var D=new jQuery.Deferred();if(!y){throw new Error("Missing system")}D.resolve(h(e,y,P));sap.ushell.Container.addRemoteSystem(y);return D.promise()}if(!e){throw new Error("Missing service name")}if(e.indexOf(".")>=0){throw new Error("Unsupported service name")}v=f(e);M=v.module||"sap.ushell.services."+e;K=M+"/"+(P||"");w={config:v.config||{}};if(!S.containsKey(K)){jQuery.sap.require(M);i=jQuery.sap.getObject(M);if(i.hasNoAdapter===true){q=new i(o,P,w)}else{u=h(e,A.getSystem(),P);o.createAdapter=x;q=new i(u,o,P,w)}S.put(K,q);return q}return S.get(K)};sap.ushell.utils.testPublishAt(t);function k(){var o,q,i,K;for(i=L.length-1;i>=0;i-=1){K=L.key(i);if(K.indexOf(R)===0){try{o=K.substring(R.length);q=JSON.parse(L.getItem(K));m[o]=new sap.ushell.System(q)}catch(e){L.removeItem(K)}}}return m}sap.ushell.utils.testPublishAt(t,"suppressOData");function n(){function e(E,i,F){jQuery.sap.log.warning(E,null,"sap.ushell.Container");if(F){setTimeout(F.bind(null,E),5000)}return{abort:function(){return}}}OData.read=function(o,i,F){return e("OData.read('"+(o&&o.Uri?o.requestUri:o)+"') disabled during logout processing",i,F)};OData.request=function(o,i,F){return e("OData.request('"+(o?o.requestUri:"")+"') disabled during logout processing",i,F)}}this.addRemoteSystem=function(o){var e=o.getAlias(),O=m[e];if(O){if(O.toString()===o.toString()){return}jQuery.sap.log.warning("Replacing "+O+" by "+o,null,"sap.ushell.Container")}else{jQuery.sap.log.debug("Added "+o,null,"sap.ushell.Container")}m[e]=o;sap.ushell.utils.localStorageSetItem(R+e,o)};this.addRemoteSystemForServiceUrl=function(e){var M,o={baseUrl:";o="};if(!e||e.charAt(0)!=='/'||e.indexOf('//')===0){return}M=/^[^?]*;o=([^\/;?]*)/.exec(e);if(M&&M.length>=2){o.alias=M[1]}e=e.replace(/;[^\/?]*/g,"");if(/^\/sap\/(bi|hana|hba)\//.test(e)){o.platform="hana";o.alias=o.alias||"hana"}else if(/^\/sap\/opu\//.test(e)){o.platform="abap"}if(o.alias&&o.platform){this.addRemoteSystem(new sap.ushell.System(o))}};this.attachLogoutEvent=function(F){l.attachEvent("Logout",F)};this.detachLogoutEvent=function(F,o){l.detachEvent("Logout",F)};this.logout=function(){var D=new jQuery.Deferred();function i(){A.logout(true).always(function(){L.removeItem(j);D.resolve()})}function o(){if(l.fireEvent("Logout",true)){i()}else{setTimeout(i,1000)}}function q(){var m,u=[];if(s){window.removeEventListener('storage',s)}sap.ushell.utils.localStorageSetItem(j,"pending");n();m=k();Object.keys(m).forEach(function(v){try{u.push(h("Container",m[v]).logout(false))}catch(e){jQuery.sap.log.warning("Could not create adapter for "+v,e.toString(),"sap.ushell.Container")}L.removeItem(R+v)});jQuery.when.apply(jQuery,u).done(o)}if(typeof A.addFurtherRemoteSystems==='function'){A.addFurtherRemoteSystems().always(q)}else{q()}return D.promise()};this.setLogonFrameProvider=function(o){if(this.oFrameLogonManager){this.oFrameLogonManager.setLogonFrameProvider(o)}};sap.ui.getCore().getEventBus().subscribe("sap.ushell.Container","addRemoteSystemForServiceUrl",function(e,E,D){t.addRemoteSystemForServiceUrl(D)});if(typeof A.logoutRedirect==='function'){s=function(o){function e(){a();r()}if(sap.ushell.Container!==t){return}if(o.key.indexOf(R)===0&&o.newValue&&o.newValue!==L.getItem(o.key)){sap.ushell.utils.localStorageSetItem(o.key,o.newValue)}if(o.key===j){if(o.newValue==="pending"){n();if(l.fireEvent("Logout",true)){e()}else{setTimeout(e,1000)}}}};window.addEventListener('storage',s)}}sap.ushell.bootstrap=function(P,A){var o;if(sap.ushell.Container!==undefined){throw new Error("Cannot initialize twice")}sap.ushell.Container=null;c=JSON.parse(JSON.stringify(window["sap-ushell-config"]||{}));p=A;if(typeof window["sap.ushell.bootstrap.callback"]==="function"){setTimeout(window["sap.ushell.bootstrap.callback"])}if(c.modulePaths){Object.keys(c.modulePaths).forEach(function(m){jQuery.sap.registerModulePath(m,c.modulePaths[m])})}o=h("Container",new sap.ushell.System({alias:"",platform:c.platform||P}));return o.load().done(function(){sap.ushell.Container=new C(o)})}}())},"sap/ushell/services/LaunchPage.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.services.LaunchPage");sap.ushell.services.LaunchPage=function(a,c){var t=this;this.getGroups=function(){var p=a.getGroups();p.fail(function(){jQuery.sap.log.error("getGroups failed")});return p};this.getDefaultGroup=function(){var p=a.getDefaultGroup();p.fail(function(){jQuery.sap.log.error("getDefaultGroup failed")});return p};this.getGroupTitle=function(g){return a.getGroupTitle(g)};this.getGroupId=function(g){return a.getGroupId(g)};this.getGroupTiles=function(g){return a.getGroupTiles(g)};this.addGroup=function(T){var p=a.addGroup(T);p.fail(function(){jQuery.sap.log.error("addGroup "+T+" failed")});return p};this.removeGroup=function(g,i){var p=a.removeGroup(g,i);p.fail(function(){jQuery.sap.log.error("Fail to removeGroup "+t.getGroupTitle(g))});return p};this.resetGroup=function(g,i){var p=a.resetGroup(g,i);p.fail(function(){jQuery.sap.log.error("Fail to resetGroup "+t.getGroupTitle(g))});return p};this.isGroupRemovable=function(g){return a.isGroupRemovable(g)};this.moveGroup=function(g,n){var p=a.moveGroup(g,n);p.fail(function(){jQuery.sap.log.error("Fail to moveGroup "+t.getGroupTitle(g))});return p};this.setGroupTitle=function(g,T){var p=a.setGroupTitle(g,T);p.fail(function(){jQuery.sap.log.error("Fail to set Group title: "+t.getGroupTitle(g))});return p};this.hideGroups=function(h){var d=jQuery.Deferred();if(typeof a.hideGroups!=="function"){d.reject('hideGroups() is not implemented in the Adapter.')}else{a.hideGroups(h).done(function(){d.resolve()}).fail(function(m){jQuery.sap.log.error("Fail to store groups visibility."+m);d.reject()})}return d.promise()};this.isGroupVisible=function(g){if(typeof a.isGroupVisible==="function"){return a.isGroupVisible(g)}return true};this.addTile=function(C,g){var p=a.addTile(C,g);p.fail(function(){jQuery.sap.log.error("Fail to add Tile: "+t.getCatalogTileId(C))});return p};this.removeTile=function(g,T,i){var p=a.removeTile(g,T,i);p.fail(function(){jQuery.sap.log.error("Fail to remove Tile: "+t.getTileId(T))});return p};this.moveTile=function(T,s,i,S,o){var p=a.moveTile(T,s,i,S,o);p.fail(function(){jQuery.sap.log.error("Fail to move Tile: "+t.getTileId(T))});return p};this.getTileId=function(T){return a.getTileId(T)};this.getTileTitle=function(T){return a.getTileTitle(T)};this.getTileView=function(T){var d=a.getTileView(T);if(!jQuery.isFunction(d.promise)){d=jQuery.Deferred().resolve(d).promise()}return d};this.getTileSize=function(T){return a.getTileSize(T)};this.getTileTarget=function(T){return a.getTileTarget(T)};this.getTileDebugInfo=function(T){if(typeof a.getTileDebugInfo==="function"){return a.getTileDebugInfo(T)}return undefined};this.isTileIntentSupported=function(T){if(typeof a.isTileIntentSupported==="function"){return a.isTileIntentSupported(T)}return true};this.refreshTile=function(T){a.refreshTile(T)};this.setTileVisible=function(T,n){return a.setTileVisible(T,n)};this.getCatalogs=function(){return a.getCatalogs()};this.isCatalogsValid=function(){return a.isCatalogsValid()};this.getCatalogData=function(C){if(typeof a.getCatalogData!=="function"){jQuery.sap.log.warning("getCatalogData not implemented in adapter",null,"sap.ushell.services.LaunchPage");return{id:this.getCatalogId(C)}}return a.getCatalogData(C)};this.getCatalogError=function(C){return a.getCatalogError(C)};this.getCatalogId=function(C){return a.getCatalogId(C)};this.getCatalogTitle=function(C){return a.getCatalogTitle(C)};this.getCatalogTiles=function(C){var p=a.getCatalogTiles(C);p.fail(function(){jQuery.sap.log.error("Fail to get Tiles of Catalog: "+t.getCatalogTitle(C))});return p};this.getCatalogTileId=function(T){return a.getCatalogTileId(T)};this.getCatalogTileTitle=function(C){return a.getCatalogTileTitle(C)};this.getCatalogTileSize=function(C){return a.getCatalogTileSize(C)};this.getCatalogTileView=function(C){return a.getCatalogTileView(C)};this.getCatalogTileTargetURL=function(C){return a.getCatalogTileTargetURL(C)};this.getCatalogTileKeywords=function(C){return a.getCatalogTileKeywords(C)};this.getCatalogTilePreviewTitle=function(C){return a.getCatalogTilePreviewTitle(C)};this.getCatalogTilePreviewIcon=function(C){return a.getCatalogTilePreviewIcon(C)};this.addBookmark=function(p,g){if(!p.title){jQuery.sap.log.error("Add Bookmark - Missing title");throw new Error("Title missing in bookmark configuration")}if(!p.url){jQuery.sap.log.error("Add Bookmark - Missing URL");throw new Error("URL missing in bookmark configuration")}var P=a.addBookmark(p,g);P.fail(function(){jQuery.sap.log.error("Fail to add bookmark for URL: "+p.url+" and Title: "+p.title)});return P};this.countBookmarks=function(u){if(!u||typeof u!=="string"){jQuery.sap.log.error("Fail to count bookmarks. No valid URL");throw new Error("Missing URL")}var p=a.countBookmarks(u);p.fail(function(){jQuery.sap.log.error("Fail to count bookmarks")});return p};this.deleteBookmarks=function(u){if(!u||typeof u!=="string"){throw new Error("Missing URL")}var p=a.deleteBookmarks(u);p.fail(function(){jQuery.sap.log.error("Fail to delete bookmark for: "+u)});return p};this.updateBookmarks=function(u,p){if(!u||typeof u!=="string"){jQuery.sap.log.error("Fail to update bookmark. No valid URL");throw new Error("Missing URL")}if(!p||typeof p!=="object"){jQuery.sap.log.error("Fail to update bookmark. No valid parameters, URL is: "+u);throw new Error("Missing parameters")}var P=a.updateBookmarks(u,p);P.fail(function(){jQuery.sap.log.error("Fail to update bookmark for: "+u)});return P};this.onCatalogTileAdded=function(T){return a.onCatalogTileAdded(T)}}}())},"sap/ushell/services/Message.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.services.Message");sap.ushell.services.Message=function(){var s=null;this.init=function(S){s=S;return this};this.show=function(t,m,p){if(!m){jQuery.sap.log.error("Message must not be empty.")}else{if(s){s(t,m,p||{})}else{jQuery.sap.log.error("MessageService not initialized. [Message: '"+m+"']")}}};this.info=function(m,d){this.show(sap.ushell.services.Message.Type.INFO,m,{duration:d||3000})};this.error=function(m,t){m=(t!==undefined)?t+" , "+m:m;jQuery.sap.log.error(m);this.show(sap.ushell.services.Message.Type.ERROR,m,{title:t})};this.confirm=function(m,c,t,a){this.show(sap.ushell.services.Message.Type.CONFIRM,m,{title:t,callback:c,actions:a})}};sap.ushell.services.Message.hasNoAdapter=true;sap.ushell.services.Message.Type={INFO:0,ERROR:1,CONFIRM:2}}())},"sap/ushell/services/NavTargetResolution.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.services.NavTargetResolution");sap.ushell.services.NavTargetResolution=function(A,c,p,s){var S=s&&s.config,l,r=[{name:"DefaultAdapter",isApplicable:function(){return true},resolveHashFragment:A.resolveHashFragment.bind(A)}],C;this._nextResolveHashFragment=function(a,h){var R,f;R=a.pop();if(R.isApplicable(h)){jQuery.sap.log.info("NavTargetResolution: custom resolver "+R.name+" resolves "+h);f=this._nextResolveHashFragment.bind(this,a);return R.resolveHashFragment(h,f)}return this._nextResolveHashFragment(a,h)};this.resolveHashFragment=function(h){var o=r.map(function(a){return a});return this._nextResolveHashFragment(o,h).done(function(R){C=R})};this.baseResolveHashFragment=function(h){return A.resolveHashFragment(h)};this.getSemanticObjectLinks=function(a,P,i){if(/\?/.test(a)){throw new Error("Parameter must not be part of semantic object")}if(A.getSemanticObjectLinks){return A.getSemanticObjectLinks(a,P,i)}return(new jQuery.Deferred()).resolve([]).promise()};this.isIntentSupported=function(i){var R={};if(A.isIntentSupported){return A.isIntentSupported(i)}i.forEach(function(I){R[I]={supported:undefined}});return(new jQuery.Deferred()).resolve(R).promise()};this.registerCustomResolver=function(o){if(typeof o.name!=="string"){jQuery.sap.log.error("NavTargetResolution: Custom Resolver must have name {string} member");return false}if(typeof o.isApplicable!=="function"){jQuery.sap.log.error("NavTargetResolution: Custom Resolver must have isApplicable member");return false}if(typeof o.resolveHashFragment!=="function"){jQuery.sap.log.error("NavTargetResolution: Custom Resolver must have \"resolveHashFragment\" member");return false}r.push(o);return true};if(S&&jQuery.isArray(S.resolveLocal)){l=S.resolveLocal.map(function(a){return a.linkId});this.registerCustomResolver({name:"localResolveNavigationResolver",cleanHash:function(h){if(h===""){return"#"}var a=sap.ushell.Container.getService("URLParsing").parseShellHash(h.substring(1));if(!a){return"#"}h="#"+a.semanticObject+"-"+a.action;return h},_getIndex:function(o){var h=this.cleanHash(o);return l.indexOf(h.substring(1))},isApplicable:function(o){return this._getIndex(o)>=0},resolveHashFragment:function(h){var d,i=this._getIndex(h),R,o,a,n;d=new jQuery.Deferred();R=JSON.parse(JSON.stringify(S.resolveLocal[i].resolveTo));o=sap.ushell.Container.getService("URLParsing").parseShellHash(h);if(o&&o.params){n=sap.ushell.Container.getService("URLParsing").paramsToString(o.params);a=R.url.indexOf('?')>=0;R.url=R.url+(a?"":"?")+n}d.resolve(R);return d.promise()}})}this.registerCustomResolver({name:"StandaloneLocalResolver",aElement:undefined,cleanHash:function(h){if(h===""){return undefined}var a=sap.ushell.Container.getService("URLParsing").parseShellHash(h.substring(1));if(!a){return undefined}h="#"+a.semanticObject+"-"+a.action;return h},isRunStandaloneHash:function(h){return typeof h==="string"&&h.indexOf("#Shell-runStandaloneApp")===0},isApplicable:function(h){h=this.cleanHash(h);if(!h){return false}return h==="#Test-url"||h==="#Test-local1"||h==="#Test-local2"||h==="#Test-config"||h==="#Test-clear"||this.isRunStandaloneHash(h)},parseUrl:function(u){if(!this.aElement){this.aElement=window.document.createElement('a')}this.aElement.href=u;return this.aElement},resolveHashFragment:function(h){var d=new jQuery.Deferred(),b=null,t=this,e,P,L,f,g,n,i,o,F=h,u;h=this.cleanHash(h);if(!h){return false}b={"#Test-config":{applicationType:"URL",url:"/sap/bc/ui5_ui5/ui2/ushell/test-resources/sap/ushell/demoapps/FioriSandboxConfigApp",additionalInformation:"SAPUI5.Component=sap.ushell.demoapps.FioriSandboxConfigApp"},"none":{applicationType:"URL",url:"",additionalInformation:""}};function j(K){if(localStorage){return localStorage[K]}return undefined}function k(o,K){var e={},a;for(a in o){if(o.hasOwnProperty(a)){if(a!==K){e[a]=o[a]}}}return e}function m(U){if(t.parseUrl(U).origin!==window.location.origin){return undefined}var a=t.parseUrl(U).pathname,x=jQuery.sap.getObject("runStandaloneAppFolderWhitelist",0,S),y;if(!x){return undefined}for(y in x){if(x.hasOwnProperty(y)){if(x[y]){if(y==="*"||a.indexOf(t.parseUrl(y).pathname)===0){return U}}}}return undefined}function q(K){return jQuery.sap.getUriParameters().get(K)}function v(a,K){return(a.params&&a.params[K]&&a.params[K][0])||q(K)}function w(K,V){if(localStorage){localStorage[K]=V}}if(b[h]){e=b[h]}else if(h==="#Test-clear"){w("sap.ushell.#Test-local1",undefined);w("sap.ushell.#Test-local2",undefined);jQuery.sap.log.info("NavTargetResolution: Local storage keys for #Test have been cleared");e=b["#Test-config"]}else if(this.isRunStandaloneHash(h)){L={applicationType:"URL"};P=sap.ushell.Container.getService("URLParsing").parseShellHash(F);f=(v(P,"sap-ushell-SAPUI5.Component")&&"SAPUI5.Component="+v(P,"sap-ushell-SAPUI5.Component"))||(v(P,"sap-ushell-additionalInformation"));u=v(P,"sap-ushell-url")||"";o=k(P.params,"sap-ushell-SAPUI5.Component");o=k(o,"sap-ushell-additionalInformation");o=k(o,"sap-ushell-url");n=sap.ushell.Container.getService("URLParsing").paramsToString(o);i=u.indexOf('?')>=0;if(n){u=u+(i?(((u[u.length-1]!=="&")&&"&")||""):"?")+n}L.url=m(u);L.additionalInformation=f;e=L}else if(h==="#Test-local1"||h==="#Test-local2"||h==="#Test-url"){e=j("sap.ushell."+h);if(!e||e==="undefined"){L={applicationType:"URL"}}else{L=JSON.parse(e)}if((window.location.hostname==="localhost")||S.allowTestUrlComponentConfig){g="sap-ushell-test-"+h.substring(6);f=q(g+"-additionalInformation");if(f){L.additionalInformation=f}u=q(g+"-url");if(u){L.url=m(u)}}if(!L.url){jQuery.sap.log.info("NavTargetResolution: No configured app for "+h+" found ( local storage or url params sap-ushell-test-local1-url  sap-ushell-test-local1-additionalInfo  not supplied? ");jQuery.sap.log.info("NavTargetResolution: Defaulting to config app ...\n");d.reject("URL is not resolvable");return d.promise()}L.url=m(L.url);e=L}if(e.url===undefined){d.reject("URL is not resolvable");return d.promise()}jQuery.sap.log.info("NavTargetResolution: As URL:  http://localhost:8080/sap/bc/ui5_ui5/ui2/ushell/shells/abap/FioriLaunchpad.html?sap-ushell-test-local1-url="+encodeURIComponent((e&&e.url)||"")+"&sap-ushell-test-local1-additionalInformation="+encodeURIComponent((e&&e.additionalInfo)||"")+"#Test-local1");jQuery.sap.log.info("NavTargetResolution: Resolving "+h+" to "+JSON.stringify(e));d.resolve(e);return d.promise()}});this.getCurrentResolution=function(){return C}}}())},"sap/ushell/services/PageBuilding.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.services.PageBuilding");jQuery.sap.require("sap.ui2.srvc.factory");jQuery.sap.require("sap.ui2.srvc.page");sap.ushell.services.PageBuilding=function(a,c){this.getFactory=function(){return a.getFactory()};this.getPage=function(p){return a.getFactory().createPage(p)};this.getPageSet=function(i){var d=new jQuery.Deferred();a.getFactory().createPageSet(i,d.resolve.bind(d),d.reject.bind(d));return d.promise()}}}())},"sap/ushell/services/Personalization.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.services.Personalization");jQuery.sap.require("sap.ushell.utils");jQuery.sap.require("sap.ui.core.format.DateFormat");var c="sap.ushell.personalization#",i="ITEM#",v="VARIANTSET#",A="yyyyMMddHHmmss",d="ADMIN#",I="sap-ushell-container-scope",f="sap-ushell-container-storageUTCTimestamp",g="sap-ushell-container-expireUTCTimestamp";function h(C){return c+C}sap.ushell.services.Personalization=function(a){this._oAdapter=a;this._oContainerMap=new sap.ushell.utils.Map();this._oPendingOperationsMap=new sap.ushell.utils.Map()};sap.ushell.services.Personalization.prototype.SAVE_DEFERRED_DROPPED="Deferred save dropped (OK) - Data superseeded by subsequent save";sap.ushell.services.Personalization.prototype.getPersonalizer=function(p){return new sap.ushell.services.Personalizer(this,this._oAdapter,p)};sap.ushell.services.Personalization.prototype.getTransientPersonalizer=function(){return new sap.ushell.services.TransientPersonalizer()};function r(s){var C={validity:Infinity};C.validity=s&&s.validity;if(C.validity===null||C.validity===undefined||typeof C.validity!=="number"){C.validity=Infinity}if(!(typeof C.validity==="number"&&((C.validity>=0&&C.validity<1000)||C.validity===Infinity))){C.liftime=Infinity}return C}sap.ushell.services.Personalization.prototype.getContainer=function(C,s){var p="",o={},P={},D={},a,t=this;if(typeof C!=="string"){throw new sap.ushell.utils.Error("sContainerKey is not a string: sap.ushell.services.Personalization")}if(C.length>40){jQuery.sap.log.error("Personalization Service container key (\""+C+"\") should be less than 40 characters [current :"+C.length+"]")}s=r(s);p=h(C);D=new jQuery.Deferred();a=this._oAdapter;if(s&&s.validity===0){a=new sap.ushell.services.Personalization.WindowValidityPersistenceAdapter(this)}o=new sap.ushell.services.Personalization.ContextContainer(this,a,p,s);o.load().fail(function(){D.reject()}).done(function(){if(o._isExpired()){o.clear()}D.resolve(o)});return D.promise()};sap.ushell.services.Personalization.prototype.createEmptyContainer=function(C,s){var p=this.getContainer(C,s),D=new jQuery.Deferred();p.fail(function(){D.reject()}).done(function(o){o.clear();D.resolve(o)});return D.promise()};sap.ushell.services.Personalization.prototype.delContainer=function(C,s){var o={},D={},p,a,P="",t=this;s=r(s);P=h(C);D=new jQuery.Deferred();p=t._pendingContainerOperations_cancelAddNext(C,null);p.always(function(){t.getContainer(C,s).fail(function(){t._pendingContainerOperations_cancelAddNext(C,D);D.reject()}).done(function(o){var b=t._oAdapter;t._pendingContainerOperations_cancelAddNext(C,D);if(s.validity===0){b=new sap.ushell.services.Personalization.WindowValidityPersistenceAdapter(t)}b.delAdapterContainer(P).fail(function(){D.reject()}).done(function(){D.resolve()})})});return D.promise()};sap.ushell.services.Personalization.prototype._pendingContainerOperations_flushAddNext=function(C,D){var p,s;p=this._oPendingOperationsMap.get(C);if(!p){p=new jQuery.Deferred();p.resolve()}if(D!==null){this._oPendingOperationsMap.put(C,D)}if(!p||p.state()!=="pending"){return p}clearTimeout(p._sapTimeoutId);p._sapTimeoutId=undefined;if(typeof p._sapFnSave==="function"){s=p._sapFnSave;p._sapFnSave=undefined;s()}return p};sap.ushell.services.Personalization.prototype._pendingContainerOperations_cancelAddNext=function(C,D){var p,s;p=this._oPendingOperationsMap.get(C);if(!p){p=new jQuery.Deferred();p.resolve()}if(D!==null){this._oPendingOperationsMap.put(C,D)}if(!p||p.state()!=="pending"){return p}if(p._sapTimeoutId){clearTimeout(p._sapTimeoutId);p._sapTimeoutId=undefined;p.resolve(sap.ushell.services.Personalization.prototype.SAVE_DEFERRED_DROPPED)}return p};sap.ushell.services.Personalization.prototype.getPersonalizationContainer=function(C){var p="",o={},P={},D={},t=this;if(typeof C!=="string"){throw new sap.ushell.utils.Error("sContainerKey is not a string: sap.ushell.services.Personalization")}p=h(C);if(this._oContainerMap.containsKey(p)){return this._oContainerMap.get(p).promise()}D=new jQuery.Deferred();P=new sap.ushell.services.PersonalizationContainer(this._oAdapter,p);P.done(function(o){D.resolve(o)}).fail(function(o){D.reject(o)});this._oContainerMap.put(p,D);return D.promise()};sap.ushell.services.Personalization.prototype.delPersonalizationContainer=function(C){var o={},D={},p="",t=this;p=h(C);D=new jQuery.Deferred();this.getPersonalizationContainer(C).fail(function(){D.reject()}).done(function(o){t._oAdapter.delAdapterContainer(p).fail(function(){D.reject()}).done(function(){t._oContainerMap.remove(p);D.resolve()})});return D.promise()};sap.ushell.services.Personalizer=function(s,a,p){var C="sap.ushell.personalization#";this._sPersContainer="";this._sPersItem="";this._sPersVariant=null;this._oAdapter={};this._oService={};this._oService=s;this._oAdapter=a;if(!p||!p.container||!p.item||typeof p.container!=="string"||typeof p.item!=="string"){throw new sap.ushell.utils.Error("Invalid input for oPersId: sap.ushell.services.Personalization")}this._sPersContainer=p.container;this._sPersItem=p.item};sap.ushell.services.Personalizer.prototype._getContainer=function(p){if(!this._oGetContainerPromise){this._oGetContainerPromise=this._oService.getContainer(p)}return this._oGetContainerPromise};sap.ushell.services.Personalizer.prototype.getPersData=function(){var D={},t=this;D=new jQuery.Deferred();this._getContainer(this._sPersContainer).fail(function(){D.reject()}).done(function(C){D.resolve(C.getItemValue(t._sPersItem))});D.fail(function(){jQuery.sap.log.error("Fail to get Personalization data for Personalizer container: "+t._sPersContainer)});return D.promise()};sap.ushell.services.Personalizer.prototype.setPersData=function(V){var D={},t=this;D=new jQuery.Deferred();this._getContainer(this._sPersContainer).fail(function(){D.reject()}).done(function(C){C.setItemValue(t._sPersItem,V);C.save().fail(function(){D.reject()}).done(function(){D.resolve()})});D.fail(function(){jQuery.sap.log.error("Fail to set Personalization data for Personalizer container: "+t._sPersContainer)});return D.promise()};sap.ushell.services.Personalizer.prototype.delPersData=function(){var D={},t=this,m;D=new jQuery.Deferred();this._oService.getPersonalizationContainer(this._sPersContainer).fail(function(){D.reject()}).done(function(C){C.delItem(t._sPersItem);C.save().fail(function(){D.reject()}).done(function(){D.resolve()})});m=D.promise();m.fail(function(){jQuery.sap.log.error("Fail to delete Personalization data for Personalizer container: "+this._sPersContainer)});return m};sap.ushell.services.TransientPersonalizer=function(){this._oValue=undefined};sap.ushell.services.TransientPersonalizer.prototype.getPersData=function(){var D;D=new jQuery.Deferred();D.resolve(this._oValue);return D.promise()};sap.ushell.services.TransientPersonalizer.prototype.setPersData=function(V){var D;D=new jQuery.Deferred();this._oValue=V;D.resolve();return D.promise()};sap.ushell.services.TransientPersonalizer.prototype.delPersData=function(){var D;D=new jQuery.Deferred();this._oValue=undefined;D.resolve();return D.promise()};sap.ushell.services.TransientPersonalizer.prototype.setValue=function(V){this._oValue=V};sap.ushell.services.TransientPersonalizer.prototype.getValue=function(){return this._oValue};sap.ushell.services.PersonalizationContainer=function(a,C){this._sContainerKey=C;this._oAdapterContainer={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];var D={},t=this;this._init();D=new jQuery.Deferred();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new sap.ushell.utils.Error("Invalid container key: sap.ushell.services.Personalization")}this._oAdapterContainer=a.getAdapterContainer(this._sContainerKey);this.load().fail(function(){D.reject()}).done(function(){D.resolve(t)});return D.promise()};sap.ushell.services.PersonalizationContainer.prototype._init=function(){this._oVariantSetMap={};this._oItemMap={};this._aLoadedVariantSetKeys=[];this._aLoadedItemKeys=[];this._oVariantSetMap=new sap.ushell.utils.Map();this._oItemMap=new sap.ushell.utils.Map()};function j(o){if(o===undefined){return undefined}try{return JSON.parse(JSON.stringify(o))}catch(e){return undefined}}function k(o){if(o===undefined){return undefined}try{return JSON.parse(o)}catch(e){return undefined}}sap.ushell.services.PersonalizationContainer.prototype.load=function(){var D={},a=[],V=[],b=[],m=[],t=this;function e(b){var n=[],p=[],R=[];n=b.filter(function(s){return s.indexOf(i)!==0});if(n.length===0){return b}p=b.filter(function(s){return s.indexOf(i)===0});n.forEach(function(s){var o={},P="";P=i+s;o=j(t._oAdapterContainer.getItemValue(s));t._oAdapterContainer.setItemValue(P,o);t._oAdapterContainer.delItem(s);if(jQuery.inArray(P,p)===-1){p.push(P)}});return p}D=new jQuery.Deferred();if(!this._sContainerKey){throw new sap.ushell.utils.Error("Invalid container key: sap.ushell.services.Personalization")}this._init();this._oAdapterContainer.load().fail(function(){D.reject()}).done(function(){a=t._oAdapterContainer.getItemKeys().splice(0);V=a.filter(function(s){return s.indexOf(v)===0});V.forEach(function(s){var o={};o=new sap.ushell.services.PersonalizationContainerVariantSet(s,t._oAdapterContainer);t._oVariantSetMap.put(s,o)});b=a.filter(function(s){return s.indexOf(v)!==0});m=e(b);m.forEach(function(s){t._oItemMap.put(s,j(t._oAdapterContainer.getItemValue(s)))});t._aLoadedVariantSetKeys=t._oVariantSetMap.keys().splice(0);t._aLoadedItemKeys=t._oItemMap.keys().splice(0);D.resolve()});return D.promise()};sap.ushell.services.PersonalizationContainer.prototype.save=function(){var s,o;this._serializeVariantSets();this._serializeItems();s=new jQuery.Deferred();function S(){s.resolve()}function a(){s.reject()}try{o=this._oAdapterContainer.save();o.fail(a);o.done(S)}catch(e){s.reject()}return s.promise()};sap.ushell.services.PersonalizationContainer.prototype.getItemKeys=function(){return this._oItemMap.keys().map(function(e){return e.replace(i,"","")})};sap.ushell.services.PersonalizationContainer.prototype.getItemValue=function(s){if(typeof s!=="string"){return undefined}return this._oItemMap.get(i+s)};sap.ushell.services.PersonalizationContainer.prototype.containsItem=function(s){if(typeof s!=="string"){return undefined}return this._oItemMap.containsKey(i+s)};sap.ushell.services.PersonalizationContainer.prototype.setItemValue=function(s,o){if(typeof s!=="string"){throw new sap.ushell.utils.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization")}this._oItemMap.put(i+s,o)};sap.ushell.services.PersonalizationContainer.prototype.delItem=function(s){if(typeof s!=="string"){return undefined}if(this.containsItem(s)){this._oItemMap.remove(i+s)}};sap.ushell.services.PersonalizationContainer.prototype._serializeItems=function(){var a=[],D=[],t=this;a=this._oItemMap.keys();a.forEach(function(s){t._oAdapterContainer.setItemValue(s,j(t._oItemMap.get(s)))});D=this._aLoadedItemKeys.filter(function(s){return!(a.indexOf(s)>-1)});D.forEach(function(s){t._oAdapterContainer.delItem(s)})};sap.ushell.services.PersonalizationContainer.prototype.getVariantSetKeys=function(){var a=[],V=[],p=[],t=this;p=this._oVariantSetMap.keys();V=p.map(function(e){return e.replace(v,"","")});return V};sap.ushell.services.PersonalizationContainer.prototype.containsVariantSet=function(V){return this._oVariantSetMap.containsKey(v+V)};sap.ushell.services.PersonalizationContainer.prototype.getVariantSet=function(V){var p,o={},m={};p=v+V;o=this._oVariantSetMap.get(p);return o};sap.ushell.services.PersonalizationContainer.prototype.addVariantSet=function(V){var e={},o={},p="";if(this.containsVariantSet(V)){throw new sap.ushell.utils.Error("Container already contains a variant set with key '"+V+"': sap.ushell.services.Personalization")}p=v+V;e={currentVariant:null,variants:{}};this._oAdapterContainer.setItemValue(p,e);o=new sap.ushell.services.PersonalizationContainerVariantSet(p,this._oAdapterContainer);this._oVariantSetMap.put(p,o);return o};sap.ushell.services.PersonalizationContainer.prototype._serializeVariantSets=function(){var V=[],s="",D=[],t=this;V=this._oVariantSetMap.keys();V.forEach(function(s){var o={},a={};o=t._oVariantSetMap.get(s);a=o._serialize();t._oAdapterContainer.setItemValue(s,j(a))});D=this._aLoadedVariantSetKeys.filter(function(s){return!(V.indexOf(s)>-1)});D.forEach(function(s){t._oAdapterContainer.delItem(s)})};sap.ushell.services.PersonalizationContainer.prototype.delVariantSet=function(V){var p="";p=v+V;this._oVariantSetMap.remove(p);return this._oAdapterContainer.delItem(p)};sap.ushell.services.Personalization.ContextContainer=function(s,a,C,S){this._oService=s;this._sContainerKey=C;this._oAdapterContainer={};this._oScope=S||{validity:Infinity};this._aLoadedKeys=[];var D={},t=this;this.clear();if(!this._sContainerKey||typeof this._sContainerKey!=="string"){throw new sap.ushell.utils.Error("Invalid container key: sap.ushell.services.Personalization")}this._oAdapterContainer=a.getAdapterContainer(this._sContainerKey);return this};sap.ushell.services.Personalization.ContextContainer.prototype.getValidity=function(){return this._oScope.validity};sap.ushell.services.Personalization.ContextContainer.prototype.clear=function(){this._oItemMap={};this._aLoadedItemKeys=[];this._clear=true;this._oItemMap=new sap.ushell.utils.Map()};sap.ushell.services.Personalization.ContextContainer.prototype.load=function(){var D={},a=[],p,t=this;D=new jQuery.Deferred();if(!this._sContainerKey){throw new sap.ushell.utils.Error("Invalid container key: sap.ushell.services.Personalization")}this.clear();p=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,D);p.always(function(){t._oAdapterContainer.load().fail(function(){D.reject()}).done(function(){t._copyFromAdapter();D.resolve()})});return D.promise()};sap.ushell.services.Personalization.ContextContainer.prototype._copyFromAdapter=function(){var t=this,a;a=t._oAdapterContainer.getItemKeys().splice(0);a.forEach(function(s){t._oItemMap.put(s,JSON.stringify(t._oAdapterContainer.getItemValue(s)))});this._aLoadedItemKeys=t._oItemMap.keys().splice(0)};sap.ushell.services.Personalization.ContextContainer.prototype._isExpired=function(){var t=this,F,T,s;if(this.getValidity()===Infinity||this.getValidity()===0){return false}T=this._getItemValueInternal(d,g);F=sap.ui.core.format.DateFormat.getDateInstance({pattern:A});s=F.format(this._getNow(),true);return T&&s>T};sap.ushell.services.Personalization.ContextContainer.prototype._getNow=function(){return new Date()};sap.ushell.services.Personalization.ContextContainer.prototype._copyToAdapterUpdatingValidity=function(){var a=[],D=[],t=this,n,F,T,s;if(this._clear){a=this._oAdapterContainer.getItemKeys().splice(0);a.forEach(function(b){t._oAdapterContainer.delItem(b)});this._clear=false}if(this.getValidity()===Infinity||this.getValidity()===0){this._delItemInternal(d,I);this._delItemInternal(d,g);this._delItemInternal(d,f)}else{F=sap.ui.core.format.DateFormat.getDateInstance({pattern:A});n=this._getNow();s=F.format(n,true);T=F.format(new Date(n.getTime()+this.getValidity()*60000),true);this._setItemValueInternal(d,I,this._oScope);this._setItemValueInternal(d,g,T);this._setItemValueInternal(d,f,s)}a=this._oItemMap.keys();a.forEach(function(b){t._oAdapterContainer.setItemValue(b,k(t._oItemMap.get(b)))});D=this._aLoadedItemKeys.filter(function(b){return!(a.indexOf(b)>-1)});D.forEach(function(b){t._oAdapterContainer.delItem(b)})};sap.ushell.services.Personalization.ContextContainer.prototype.save=function(){var s,o,p,t=this;this._copyToAdapterUpdatingValidity();s=new jQuery.Deferred();p=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,s);p.always(function(){try{o=t._oAdapterContainer.save().fail(function(){s.reject()}).done(function(){s.resolve()})}catch(e){s.reject()}});return s.promise()};sap.ushell.services.Personalization.ContextContainer.prototype.saveDeferred=function(n){var s,o,p,t=this;this._copyToAdapterUpdatingValidity();s=new jQuery.Deferred();p=this._oService._pendingContainerOperations_cancelAddNext(this._sContainerKey,s);function D(){p.always(function(){try{o=t._oAdapterContainer.save().fail(function(){s.reject()}).done(function(){s.resolve()})}catch(e){s.reject()}})}s._sapFnSave=D;s._sapTimeoutId=setTimeout(D,n);return s.promise()};sap.ushell.services.Personalization.ContextContainer.prototype.flush=function(){var s,o,p,t=this;this._copyToAdapterUpdatingValidity();s=new jQuery.Deferred();p=this._oService._pendingContainerOperations_flushAddNext(this._sContainerKey,s);p.fail(function(){s.reject()}).done(function(){s.resolve()});return s.promise()};sap.ushell.services.Personalization.ContextContainer.prototype.getItemKeys=function(){var F=this._oItemMap.keys().filter(function(s){return s.indexOf(i)===0});return F.map(function(e){return e.replace(i,"","")})};sap.ushell.services.Personalization.ContextContainer.prototype._getInternalKeys=function(){return this._oItemMap.keys().splice(0)};sap.ushell.services.Personalization.ContextContainer.prototype.getItemValue=function(s){return this._getItemValueInternal(i,s)};sap.ushell.services.Personalization.ContextContainer.prototype._getItemValueInternal=function(p,s){if(typeof s!=="string"||typeof p!=="string"){return undefined}return k(this._oItemMap.get(p+s))};sap.ushell.services.Personalization.ContextContainer.prototype.containsItem=function(s){if(typeof s!=="string"){return undefined}return this._oItemMap.containsKey(i+s)};sap.ushell.services.Personalization.ContextContainer.prototype.setItemValue=function(s,o){this._setItemValueInternal(i,s,o)};sap.ushell.services.Personalization.ContextContainer.prototype._setItemValueInternal=function(s,a,o){if(typeof a!=="string"||typeof s!=="string"){throw new sap.ushell.utils.Error("Parameter value of sItemKey or sItemValue is not a string: sap.ushell.services.Personalization")}if(a.length>40){jQuery.sap.log.error("Personalization Service item key/variant set name (\""+a+"\") should be less than 40 characters [current :"+a.length+"]")}this._oItemMap.put(s+a,JSON.stringify(o))};sap.ushell.services.Personalization.ContextContainer.prototype.delItem=function(s){this._delItemInternal(i,s)};sap.ushell.services.Personalization.ContextContainer.prototype._delItemInternal=function(p,s){if(typeof s!=="string"){return undefined}if(typeof p!=="string"){return undefined}this._oItemMap.remove(p+s)};sap.ushell.services.Personalization.VariantSetAdapter=function(C){this._oContextContainer=C};sap.ushell.services.Personalization.VariantSetAdapter.prototype.save=function(){return this._oContextContainer.save()};sap.ushell.services.Personalization.VariantSetAdapter.prototype.getVariantSetKeys=function(){var p=this._oContextContainer._getInternalKeys(),V=[];V=p.map(function(e){return e.replace(v,"","")});return V};sap.ushell.services.Personalization.VariantSetAdapter.prototype.containsVariantSet=function(V){return this.getVariantSetKeys().indexOf(V)>=0};sap.ushell.services.Personalization.VariantSetAdapter.prototype.getVariantSet=function(V){var o=this._oContextContainer._getItemValueInternal(v,V);if(!o){return undefined}return new sap.ushell.services.Personalization.VariantSet(V,this._oContextContainer)};sap.ushell.services.Personalization.VariantSetAdapter.prototype.addVariantSet=function(V){var e={},o={},p="";if(this.containsVariantSet(V)){throw new sap.ushell.utils.Error("Container already contains a variant set with key '"+V+"': sap.ushell.services.Personalization")}e={currentVariant:null,variants:{}};this._oContextContainer._setItemValueInternal(v,V,e);o=new sap.ushell.services.Personalization.VariantSet(V,this._oContextContainer);return o};sap.ushell.services.Personalization.VariantSetAdapter.prototype.delVariantSet=function(V){this._oContextContainer._delItemInternal(v,V)};sap.ushell.services.Personalization.VariantSet=function(V,C){var s,a,b,o=new sap.ushell.utils.Map(),e=new sap.ushell.utils.Map(),l,m,n;this._oContextContainer=C;this._sVariantSetKey=V;this._oVariantSetData=this._oContextContainer._getItemValueInternal(v,this._sVariantSetKey);if(Object.prototype.hasOwnProperty.call(this._oVariantSetData,"currentVariant")){b=this._oVariantSetData.currentVariant}else{throw new sap.ushell.utils.Error("Corrupt variant set data: sap.ushell.services.Personalization")}if(Object.prototype.hasOwnProperty.call(this._oVariantSetData,"variants")){for(s in this._oVariantSetData.variants){if(Object.prototype.hasOwnProperty.call(this._oVariantSetData.variants,s)){a=this._oVariantSetData.variants[s].name;l=this._oVariantSetData.variants[s].variantData;if(o.containsKey(a)){throw new sap.ushell.utils.Error("Variant name already exists: sap.ushell.services.Personalization")}else{o.put(a,s);m=new sap.ushell.services.PersonalizationContainerVariant(s,a,l);e.put(s,m)}}}}else{throw new sap.ushell.utils.Error("Corrupt variant set data: sap.ushell.services.Personalization")}return this};sap.ushell.services.Personalization.VariantSet.prototype._getVariantSet=function(){return this._oVariantSetData};sap.ushell.services.Personalization.VariantSet.prototype._serialize=function(){this._oContextContainer._setItemValueInternal(v,this._sVariantSetKey,this._oVariantSetData)};sap.ushell.services.Personalization.VariantSet.prototype.getCurrentVariantKey=function(){return this._getVariantSet().currentVariant};sap.ushell.services.Personalization.VariantSet.prototype.setCurrentVariantKey=function(V){this._getVariantSet().currentVariant=V;this._serialize()};sap.ushell.services.Personalization.VariantSet.prototype.getVariantKeys=function(){var V=new sap.ushell.utils.Map(),o=this._getVariantSet(this._sVariantSetKey),s;if(Object.prototype.hasOwnProperty.call(o,"variants")){for(s in o.variants){if(Object.prototype.hasOwnProperty.call(o.variants,s)){V.put(s,"dummy")}}}else{throw new sap.ushell.utils.Error("Corrupt variant set data: sap.ushell.services.Personalization")}return V.keys()};sap.ushell.services.Personalization.VariantSet.prototype.getVariantNamesAndKeys=function(){var V=new sap.ushell.utils.Map(),o=new sap.ushell.utils.Map(),a=this._getVariantSet(this._sVariantSetKey),s,b,e;if(Object.prototype.hasOwnProperty.call(a,"variants")){for(s in a.variants){if(Object.prototype.hasOwnProperty.call(a.variants,s)){b=a.variants[s].name;e=a.variants[s].variantData;if(V.containsKey(b)){throw new sap.ushell.utils.Error("Variant name already exists: sap.ushell.services.Personalization")}else{V.put(b,s)}o.put(s,"dummy")}}}else{throw new sap.ushell.utils.Error("Corrupt variant set data: sap.ushell.services.Personalization")}return V.entries};sap.ushell.services.Personalization.VariantSet.prototype.getVariant=function(V){if(typeof V!=="string"){return undefined}var o=this._getVariantSet(this._sVariantSetKey),s,a,b;if(Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,V)){s=o.variants[V].name;b=o.variants[V].variantData;a=new sap.ushell.services.Personalization.Variant(this,V,s,b);return a}return undefined};sap.ushell.services.Personalization.VariantSet.prototype.getVariantKeyByName=function(V){if(typeof V!=="string"){return undefined}var o=this._getVariantSet(this._sVariantSetKey),s;if(Object.prototype.hasOwnProperty.call(o,"variants")){for(s in o.variants){if(Object.prototype.hasOwnProperty.call(o.variants,s)){if(V===o.variants[s].name){return s}}}}else{throw new sap.ushell.utils.Error("Corrupt variant set data: sap.ushell.services.Personalization")}return undefined};sap.ushell.services.Personalization.VariantSet.prototype.containsVariant=function(V){var o=this._getVariantSet();if(typeof V!=="string"){return undefined}return Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,V)};sap.ushell.services.Personalization.VariantSet.prototype.addVariant=function(V){var K=[],m=0,s="",o={};K=this.getVariantKeys();m=parseInt(K.sort(function(a,b){return a-b}).reverse()[0],10);s=isNaN(m)?"0":(m+1).toString();if(K.indexOf(s)>=0){throw new sap.ushell.utils.Error("Variant key '"+s+"' already exists in variant set"+this._sVariantSetKey+"': sap.ushell.services.Personalization")}if(typeof V!=="string"){throw new sap.ushell.utils.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization")}if(this.getVariantKeyByName(V)!==undefined){throw new sap.ushell.utils.Error("Variant name '"+V+"' already exists in variant set '"+this._sVariantSetKey+"' (Old key: '"+this.getVariantKeyByName(V)+"' New key: '"+s+"') ': sap.ushell.services.Personalization")}o=new sap.ushell.services.Personalization.Variant(this,s,V);this._getVariantSet(this._sVariantSetKey).variants[s]={name:V,variantData:{}};this._serialize();return o};sap.ushell.services.Personalization.VariantSet.prototype.delVariant=function(V){var o;if(typeof V!=="string"){return undefined}o=this._getVariantSet();if(o&&o.variants){delete this._oVariantSetData.variants[V]}this._serialize()};sap.ushell.services.PersonalizationContainerVariantSet=function(V,a){var o,s,b,e,l,m;this._sVariantSetKey=V;this._oAdapterContainer=a;this._oVariantNameMap=new sap.ushell.utils.Map();this._oVariantMap=new sap.ushell.utils.Map();o=j(this._oAdapterContainer.getItemValue(V));if(o.hasOwnProperty("currentVariant")){this._sCurrentVariantKey=o.currentVariant}else{throw new sap.ushell.utils.Error("Corrupt variant set data: sap.ushell.services.Personalization")}if(o.hasOwnProperty("variants")){for(s in o.variants){if(o.variants.hasOwnProperty(s)){b=o.variants[s].name;e=o.variants[s].variantData;if(this._oVariantNameMap.containsKey(b)){throw new sap.ushell.utils.Error("Variant name already exists: sap.ushell.services.Personalization")}else{this._oVariantNameMap.put(b,s);l=new sap.ushell.services.PersonalizationContainerVariant(s,b,e);this._oVariantMap.put(s,l)}}}}else{throw new sap.ushell.utils.Error("Corrupt variant set data: sap.ushell.services.Personalization")}return this};sap.ushell.services.PersonalizationContainerVariantSet.prototype.getCurrentVariantKey=function(){return this._sCurrentVariantKey};sap.ushell.services.PersonalizationContainerVariantSet.prototype.setCurrentVariantKey=function(V){this._sCurrentVariantKey=V};sap.ushell.services.PersonalizationContainerVariantSet.prototype.getVariantKeys=function(){return this._oVariantMap.keys()};sap.ushell.services.PersonalizationContainerVariantSet.prototype.getVariantNamesAndKeys=function(){return JSON.parse(JSON.stringify(this._oVariantNameMap.entries))};sap.ushell.services.PersonalizationContainerVariantSet.prototype.getVariant=function(V){if(typeof V!=="string"){return undefined}return this._oVariantMap.get(V)};sap.ushell.services.PersonalizationContainerVariantSet.prototype.getVariantKeyByName=function(V){if(typeof V!=="string"){return undefined}return this._oVariantNameMap.get(V)};sap.ushell.services.PersonalizationContainerVariantSet.prototype.containsVariant=function(V){if(typeof V!=="string"){return undefined}return this._oVariantMap.containsKey(V)};sap.ushell.services.PersonalizationContainerVariantSet.prototype.addVariant=function(V){var K=[],m=0,s="",o={};K=this._oVariantMap.keys();m=parseInt(this._oVariantMap.keys().sort(function(a,b){return a-b}).reverse()[0],10);s=isNaN(m)?"0":(m+1).toString();if(this._oVariantMap.containsKey(s)){throw new sap.ushell.utils.Error("Variant key '"+s+"' already exists in variant set"+this._sVariantSetKey+"': sap.ushell.services.Personalization")}if(typeof V!=="string"){throw new sap.ushell.utils.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization")}if(this._oVariantNameMap.containsKey(V)){throw new sap.ushell.utils.Error("Variant name '"+V+"' already exists in variant set '"+this._sVariantSetKey+"' (Old key: '"+this._oVariantNameMap.get(V)+"' New key: '"+s+"') ': sap.ushell.services.Personalization")}o=new sap.ushell.services.PersonalizationContainerVariant(s,V);this._oVariantMap.put(s,o);this._oVariantNameMap.put(V,s);return o};sap.ushell.services.PersonalizationContainerVariantSet.prototype._serialize=function(){var V={},a=[],o={},b={},t=this;o.currentVariant=this._sCurrentVariantKey;a=this.getVariantKeys();a.forEach(function(s){var V={};V=t._oVariantMap.get(s);b[s]=V._serialize()});o.variants=b;return o};sap.ushell.services.PersonalizationContainerVariantSet.prototype.delVariant=function(V){var o=this._oVariantMap.get(V);if(o){this._oVariantNameMap.remove(o.getVariantName());this._oVariantMap.remove(V)}};sap.ushell.services.Personalization.Variant=function(V,s,a){if(typeof s!=="string"){throw new sap.ushell.utils.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization")}if(typeof a!=="string"){throw new sap.ushell.utils.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization")}this._oVariantSet=V;this._sVariantKey=s;this._sVariantName=a};sap.ushell.services.Personalization.Variant.prototype.getVariantKey=function(){return this._sVariantKey};sap.ushell.services.Personalization.Variant.prototype.getVariantName=function(){return this._sVariantName};sap.ushell.services.Personalization.Variant.prototype.setVariantName=function(V){var o=this._oVariantSet._getVariantSet(),a;if(typeof V!=="string"){throw new sap.ushell.utils.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization")}if(this._oVariantSet.getVariantKeyByName(V)!==undefined){throw new sap.ushell.utils.Error("Variant with name '"+V+"' already exists in variant set '"+this._oVariantSet._sVariantSetKey+"': sap.ushell.services.Personalization")}if(Object.prototype.hasOwnProperty.call(o,"variants")&&Object.prototype.hasOwnProperty.call(o.variants,this._sVariantKey)){a=o.variants[this._sVariantKey];a.name=V;this._sVariantName=V;this._oVariantSet._serialize()}else{throw new sap.ushell.utils.Error("Variant does not longer exist")}};sap.ushell.services.Personalization.Variant.prototype.getItemValue=function(s){if(typeof s!=="string"){return undefined}var a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(a,s)&&j(a[s])};sap.ushell.services.Personalization.Variant.prototype.setItemValue=function(s,o){if(typeof s!=="string"){throw new sap.ushell.utils.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization")}var a,b=this._oVariantSet._getVariantSet().variants&&this._oVariantSet._getVariantSet().variants[this._sVariantKey];if(!b){throw new sap.ushell.utils.Error("Variant does not longer exist")}if(!b.variantData){b.variantData={}}a=b.variantData;a[s]=j(o);this._oVariantSet._serialize()};sap.ushell.services.Personalization.Variant.prototype.containsItem=function(s){if(typeof s!=="string"){return undefined}var a=this.oAccess.variantSet._getVariantSet().variants[this._sVariantKey].variantData;return Object.prototype.hasOwnProperty.call(a,s)};sap.ushell.services.Personalization.Variant.prototype.getItemKeys=function(){var a=this._oVariantSet._getVariantSet().variants[this._sVariantKey].variantData,s,o=[];for(s in a){if(Object.prototype.hasOwnProperty.call(a,s)){o.push(s)}}o.sort();return o};sap.ushell.services.Personalization.Variant.prototype.delItem=function(s){if(typeof s!=="string"){return undefined}var a=this.oVariantSet._getVariantSet().variants[this._sVariantKey].variantData;delete a[s];this.oVariantSet._serialize()};sap.ushell.services.PersonalizationContainerVariant=function(V,s,o){if(typeof V!=="string"){throw new sap.ushell.utils.Error("Parameter value of sVariantKey is not a string: sap.ushell.services.Personalization")}if(typeof s!=="string"){throw new sap.ushell.utils.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization")}if(o&&typeof o!=="object"){throw new sap.ushell.utils.Error("Parameter value of sVariantName is not a string: sap.ushell.services.Personalization")}this._oVariantKey=V;this._oVariantName=s;this._oItemMap=new sap.ushell.utils.Map();this._oItemMap.entries=o||{}};sap.ushell.services.PersonalizationContainerVariant.prototype.getVariantKey=function(){return this._oVariantKey};sap.ushell.services.PersonalizationContainerVariant.prototype.getVariantName=function(){return this._oVariantName};sap.ushell.services.PersonalizationContainerVariant.prototype.getItemValue=function(s){if(typeof s!=="string"){return undefined}return this._oItemMap.get(s)};sap.ushell.services.PersonalizationContainerVariant.prototype.setItemValue=function(s,o){if(typeof s!=="string"){throw new sap.ushell.utils.Error("Parameter value of sItemKey is not a string: sap.ushell.services.Personalization")}return this._oItemMap.put(s,o)};sap.ushell.services.PersonalizationContainerVariant.prototype.containsItem=function(s){if(typeof s!=="string"){return undefined}return this._oItemMap.containsKey(s)};sap.ushell.services.PersonalizationContainerVariant.prototype.getItemKeys=function(){return this._oItemMap.keys()};sap.ushell.services.PersonalizationContainerVariant.prototype.delItem=function(s){if(typeof s!=="string"){return undefined}return this._oItemMap.remove(s)};sap.ushell.services.PersonalizationContainerVariant.prototype._serialize=function(){var a=[],V={},o={},t=this;V.name=this.getVariantName();a=this._oItemMap.keys();a.forEach(function(s){o[s]=t.getItemValue(s)});V.variantData=o;return V};sap.ushell.services.Personalization.WindowValidityPersistenceAdapter=function(s){if(!sap.ushell.services.Personalization.WindowValidityPersistenceAdapter.prototype.data){sap.ushell.services.Personalization.WindowValidityPersistenceAdapter.prototype.data={}}};sap.ushell.services.Personalization.WindowValidityPersistenceAdapter.prototype.getAdapterContainer=function(C){return new sap.ushell.services.Personalization.WindowValidityPersistenceAdapterContainer(C)};sap.ushell.services.Personalization.WindowValidityPersistenceAdapter.prototype.delAdapterContainer=function(C){var D=new jQuery.Deferred();delete sap.ushell.services.Personalization.WindowValidityPersistenceAdapter.prototype.data[C];D.resolve();return D.promise()};sap.ushell.services.Personalization.WindowValidityPersistenceAdapterContainer=function(C){this._oItemMap=new sap.ushell.utils.Map();this._sContainerKey=C};sap.ushell.services.Personalization.WindowValidityPersistenceAdapterContainer.prototype.load=function(){var D=new jQuery.Deferred();this._oItemMap.entries=j(sap.ushell.services.Personalization.WindowValidityPersistenceAdapter.prototype.data[this._sContainerKey])||{};D.resolve();return D.promise()};sap.ushell.services.Personalization.WindowValidityPersistenceAdapterContainer.prototype.save=function(){var D=new jQuery.Deferred();sap.ushell.services.Personalization.WindowValidityPersistenceAdapter.prototype.data[this._sContainerKey]=j(this._oItemMap.entries);D.resolve();return D.promise()};sap.ushell.services.Personalization.WindowValidityPersistenceAdapterContainer.prototype.getItemKeys=function(){return this._oItemMap.keys()};sap.ushell.services.Personalization.WindowValidityPersistenceAdapterContainer.prototype.containsItem=function(s){this._oItemMap.containsKey(s)};sap.ushell.services.Personalization.WindowValidityPersistenceAdapterContainer.prototype.getItemValue=function(s){return this._oItemMap.get(s)};sap.ushell.services.Personalization.WindowValidityPersistenceAdapterContainer.prototype.setItemValue=function(s,o){this._oItemMap.put(s,o)};sap.ushell.services.Personalization.WindowValidityPersistenceAdapterContainer.prototype.delItem=function(s){this._oItemMap.remove(s)}}())},"sap/ushell/services/Search.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.services.Search");sap.ushell.services.Search=function(a,c){this.init.apply(this,arguments)};sap.ushell.services.Search.prototype={init:function(a,c){this.oAdapter=a;this.oContainerInterface=c;this.oLpdService=sap.ushell.Container.getService("LaunchPage")},isSearchAvailable:function(){return this.oAdapter.isSearchAvailable()},getSina:function(){return this.oAdapter.getSina()},_getCatalogTiles:function(){var s=this;if(s.allTilesDeferred){return s.allTilesDeferred}var c=[];s.allTilesDeferred=s.oLpdService.getCatalogs().then(function(a){var d=[];for(var i=0;i<a.length;i++){d.push(s.oLpdService.getCatalogTiles(a[i]))}return jQuery.when.apply(jQuery,d).then(function(){var t=arguments;for(var i=0;i<t.length;i++){var T=t[i];for(var j=0;j<T.length;j++){try{var o=T[j],b=s.oLpdService.getCatalogTileView(o),k=s.oLpdService.getCatalogTileKeywords(o),f=s.oLpdService.getCatalogTileTargetURL(o),g=s.oLpdService.getCatalogTilePreviewTitle(o)||s.oLpdService.getCatalogTileTitle(o),S=s.oLpdService.getCatalogTileSize(o),I=s.oLpdService.getCatalogTilePreviewIcon(o)||"sap-icon://business-objects-experience";c.push({tile:o,keywords:k,url:f,title:g,icon:I,size:S});b.destroy()}catch(e){jQuery.sap.log.error(e)}}}c=s._removeDuplicateTiles(c);return c})});return s.allTilesDeferred},_removeDuplicateTiles:function(t){var I={},u=[];for(var i=0;i<t.length;++i){var T=t[i];if(!T.url){continue}var f=new RegExp('DisplayFactSheet','i');if(f.test(T.url)){continue}if(I[T.url]===undefined){I[T.url]=T;u.push(T)}}return u},_searchTiles:function(p){var s=p.searchTerm;var c=p.aCatalogTiles;var t=p.top||10;var S=p.searchInKeywords||false;var f=[],T,l;s=s.replace(/([.+?^=!:${}()|\[\]\/\\])/g,"\\$1");s=s.replace(/\*/g,".*");s=new RegExp('\\b'+s,'i');var a=function(T){if(f.length<t){l=T.title.replace(s,"<b>$&</b>");f.push(T)}};for(var j=0;j<c.length;j++){T=c[j];if(s.test(T.title)){a(T);continue}if(S){for(var i=0,b=T.keywords.length;i<b;i++){var k=T.keywords[i];if(s.test(k)){a(T);break}}}}return f},_makeSInAResultSet:function(f,o){return{totalResults:f.length,searchTerm:o,getElements:function(){return f}}},queryApplications:function(p){var s=this,o=p.searchTerm;return this._getCatalogTiles().then(function(c){p.aCatalogTiles=c;var f=s._searchTiles(p);var S=s._makeSInAResultSet(f,o);return S})},queryApplicationsByTarget:function(s,r){this._getCatalogTiles().done(function(c){var R=[];for(var j=0,l=s&&s.length||0;j<l;j++){var S=s[j],u=sap.ushell.Container.getService("URLParsing");for(var i=0;i<c.length;i++){var t=u.parseShellHash(c[i].url);if(t&&(t.semanticObject===S.semanticObject)&&(t.action===S.action)){R.push(c[i]);break}}}r(R)})}}}())},"sap/ushell/services/ShellNavigation.js":function(){(function(){"use strict";jQuery.sap.require("sap.ui.thirdparty.signals");jQuery.sap.require("sap.ui.thirdparty.hasher");jQuery.sap.require("sap.ui.core.routing.HashChanger");jQuery.sap.declare("sap.ushell.services.ShellNavigation");sap.ui.core.routing.HashChanger.extend("sap.ushell.services.ShellNavigationHashChanger",{constructor:function(){sap.ui.core.routing.HashChanger.apply(this);this.priv_initializedByShellNav=false;this.oURLShortening=sap.ushell.Container.getService("URLShortening");this.privfnShellCallback=null;this.privappHashPrefix="&/";this.privhashPrefix="#";this.privgetCurrentShellHash=function(){var r=this.privsplitHash(hasher.getHash());return{hash:"#"+((r&&r.shellPart)?r.shellPart:"")}};this.privconstructHash=function(a){var o=this.privgetCurrentShellHash();o.hash=o.hash+a;return o};this.privconstructShellHash=function(s){return sap.ushell.Container.getService("URLParsing").constructShellHash(s)};this.privsplitHash=function(h){var s,a;if(h===undefined||h===null||h===""){return{shellPart:null,appSpecificRoute:null}}s=sap.ushell.Container.getService("URLParsing").parseShellHash(h);if(s===undefined||s===null){return null}a=s.appSpecificRoute;s.appSpecificRoute=undefined;return{shellPart:(s&&this.privstripLeadingHash(this.privconstructShellHash(s)))||null,appSpecificRoute:(s&&a)||null}};this.privsetHash=function(f,a,w){hasher.prependHash="";f=this.privstripLeadingHash(f);a=a||"";if(w===undefined){w=true}if(w){this.fireEvent("hashSet",{sHash:a});hasher.setHash(f)}else{this.fireEvent("hashReplaced",{sHash:a});hasher.replaceHash(f)}};this.privstripLeadingHash=function(h){if(h[0]==='#'){return h.substring(1)}return h};this.hrefForExternal=function(a,v){var t;if(v===true){t=this.privhrefForExternalNoEnc(a);return{hash:encodeURI(t.hash),params:t.params,skippedParams:t.skippedParams}}return encodeURI(this.privhrefForExternalNoEnc(a).hash)};this.privhrefForExternalNoEnc=function(a,v){var r;if(a===undefined){return this.privgetCurrentShellHash()}if(a&&a.target&&(typeof a.target.semanticObject==="string"||typeof a.target.shellHash==="string")){r="#"+this.privconstructShellHash(a);return this.oURLShortening.checkHashLength(r)}return this.privgetCurrentShellHash()};this.privgetAppHash=function(a){var A,s;if(a&&a.target&&(typeof a.target.shellHash==="string")){s=sap.ushell.Container.getService("URLParsing").parseShellHash(a.target.shellHash);A=s&&s.appSpecificRoute;A=A&&A.substring(2)}return A};this.hrefForAppSpecificHash=function(a){return encodeURI(this.privconstructHash(this.privappHashPrefix+a).hash)};this.toExternal=function(a){var h=this.privhrefForExternalNoEnc(a).hash,A=this.privgetAppHash(a);this.privsetHash(h,A)};this.toAppHash=function(a,w){var h=this.privconstructHash(this.privappHashPrefix+a).hash;this.privsetHash(h,a,w)}}});sap.ushell.services.ShellNavigationHashChanger.prototype.initShellNavigation=function(s){if(this.priv_initializedByShellNav){jQuery.sap.log.info("initShellNavigation already called on this ShellNavigationHashChanger instance.");return false}this.privfnShellCallback=s;hasher.changed.add(this.treatHashChanged,this);if(!hasher.isActive()){hasher.initialized.addOnce(this.treatHashChanged,this);hasher.init()}else{this.treatHashChanged(hasher.getHash())}this.priv_initializedByShellNav=true;return true};sap.ushell.services.ShellNavigationHashChanger.prototype.init=function(){if(this.priv_initialized){jQuery.sap.log.info("init already called on this ShellNavigationHashChanger instance.");return false}var n=this.privsplitHash(hasher.getHash()),a=n&&(n.appSpecificRoute||"  ").substring(2);this.fireEvent("hashChanged",{newHash:a});this.priv_initialized=true;return true};sap.ushell.services.ShellNavigationHashChanger.prototype.treatHashChanged=function(n,o){var a,O,N,b,e;n=this.oURLShortening.expandHash(n);o=this.oURLShortening.expandHash(o);N=this.privsplitHash(n);b=this.privsplitHash(o);if(!N){e=new Error("Illegal new hash - cannot be parsed: '"+n+"'");this.fireEvent("shellHashChanged",{newShellHash:n,newAppSpecificRoute:null,oldShellHash:(b?b.shellPart:o),error:e});this.privfnShellCallback(n,null,(b?b.shellPart:o),e);return}if(!b){b={shellPart:o,appSpecificRoute:null}}if(N.shellPart===b.shellPart&&(o!==undefined)){a=(N.appSpecificRoute||"  ").substring(2);O=(b.appSpecificRoute||"  ").substring(2);this.fireEvent("hashChanged",{newHash:a,oldHash:O});return}this.fireEvent("shellHashChanged",{newShellHash:N.shellPart,newAppSpecificRoute:N.appSpecificRoute,oldShellHash:b.shellPart});this.privfnShellCallback(N.shellPart,N.appSpecificRoute,b.shellPart)};sap.ushell.services.ShellNavigationHashChanger.prototype.setHash=function(h){this.toAppHash(h,true)};sap.ushell.services.ShellNavigationHashChanger.prototype.replaceHash=function(h){this.toAppHash(h,false)};sap.ushell.services.ShellNavigationHashChanger.prototype.getHash=function(){return this.getAppHash()};sap.ushell.services.ShellNavigationHashChanger.prototype.getAppHash=function(){var n=this.privsplitHash(hasher.getHash()),a=n&&(n.appSpecificRoute||"  ").substring(2);return a};sap.ushell.services.ShellNavigationHashChanger.prototype.destroy=function(){hasher.changed.remove(this.treatHashChanged,this);sap.ui.core.routing.HashChanger.prototype.destroy.apply(this,arguments)};function S(){this.hashChanger=new sap.ushell.services.ShellNavigationHashChanger();this.hrefForExternal=function(a,v){return this.hashChanger.hrefForExternal(a,v)};this.hrefForAppSpecificHash=function(a){return this.hashChanger.hrefForAppSpecificHash(a)};this.toExternal=function(a){this.hashChanger.toExternal(a)};this.toAppHash=function(a,w){this.hashChanger.toAppHash(a,w)};this.init=function(s){hasher.prependHash="";sap.ui.core.routing.HashChanger.replaceHashChanger(this.hashChanger);this.hashChanger.initShellNavigation(s);return this}}sap.ushell.services.ShellNavigation=S;sap.ushell.services.ShellNavigation.hasNoAdapter=true}())},"sap/ushell/services/SupportTicket.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.services.SupportTicket");sap.ushell.services.SupportTicket=function(a,c,p,s){var S=(s&&s.config)||{};this.createTicket=function(o){return a.createTicket(o)};this.isEnabled=function(){return S.enabled===true}}}())},"sap/ushell/services/URLParsing.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.services.URLParsing");sap.ushell.services.URLParsing=function(){var r=/^(([A-Za-z0-9_\/]+)-([A-Za-z0-9_\/\-]+)(~([A-Z0-9a-z=+\/]+))?)?([?]([^&]|(&[^\/]))*&?)?$/;this.getShellHash=function(u){var a=/[^#]*#(([^&]|&[^\/])*)(&\/.*)?/,m=a.exec(u);if(m){return m[1]}return undefined};this.getHash=function(u){var a=/[^#]#(.*)/,m=a.exec(u);if(m){return m[1]}return undefined};this.parseParameters=function(p){if(!p){return{}}var P=jQuery.sap.getUriParameters(p).mParams;if(!P){return{}}else{if(this.extractSearchTerm(p)!==""){P.searchTerm[0]=this.extractSearchTerm(p)}return P}};this.extractSearchTerm=function(s){var a=s.indexOf("searchTerm=")+11;var e=s.indexOf("&dataSource={",a);if(a!=-1&&e!=-1&&e>a){return s.substring(a,e)}else{return""}};this.paramsToString=function(p){var f,a,k,i,l,s="";f="";a=null;l=[];for(a in p){if(p.hasOwnProperty(a)){l.push(a)}}l.sort();for(k=0;k<l.length;k=k+1){a=l[k];if(jQuery.isArray(p[a])){for(i=0;i<p[a].length;i=i+1){s+=f+encodeURIComponent(a)+"="+encodeURIComponent(p[a][i]);f="&"}}else{s+=f+encodeURIComponent(a)+"="+encodeURIComponent(p[a]);f="&"}}return s};this.parseShellHash=function(h){var c=r,s,S,A,C,p,m,d,e,a;if(!h){return undefined}s=this.splitHash(h);m=c.exec(s.shellPart);if(m){S=m[2];A=m[3];C=m[5];p=m[6];d=this.parseParameters(p);return{semanticObject:S,action:A,contextRaw:C,params:d,appSpecificRoute:s.appSpecificRoute}}if(s.appSpecificRoute){return{semanticObject:undefined,action:undefined,contextRaw:undefined,params:{},appSpecificRoute:s.appSpecificRoute}}return undefined};this.privstripLeadingHash=function(h){if(h[0]==='#'){return h.substring(1)}return h};this.splitHash=function(h){var a=/^(?:#|)([\S\s]*?)(&\/[\S\s]*)?$/,m,s,A;if(h===undefined||h===null||h===""){return{}}m=a.exec(h);s=m[1];if(s!==""&&!r.test(s)){return{}}A=m[2];if(s||A){return{shellPart:s,appSpecificRoute:A}}return{}};function b(u,a){if(a){return u+a}return u}this.constructShellHash=function(s){var c,d,i=null,k,l=[],f="?",a=null;if(!s){return""}if(!s.target){s.target={};s.target.semanticObject=s.semanticObject;s.target.action=s.action;s.target.contextRaw=s.contextRaw}if(s.target.shellHash||s.target.shellHash===""){d=this.privstripLeadingHash(s.target.shellHash);return b(d,s.appSpecificRoute)}if(s.target.semanticObject&&s.target.action){c=s.target.semanticObject+"-"+s.target.action}else{return b("",s.appSpecificRoute)}if(s.target.contextRaw){c+="~"+s.target.contextRaw}f="?";a=null;l=[];for(a in s.params){if(s.params.hasOwnProperty(a)){l.push(a)}}l.sort();for(k=0;k<l.length;k=k+1){a=l[k];if(jQuery.isArray(s.params[a])){if(s.params[a].length>1){jQuery.sap.log.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(i=0;i<s.params[a].length;i=i+1){c+=f+encodeURIComponent(a)+"="+encodeURIComponent(s.params[a][i]);f="&"}}else{c+=f+encodeURIComponent(a)+"="+encodeURIComponent(s.params[a]);f="&"}}return b(c,s.appSpecificRoute)};this.addSystemToServiceUrl=function(s,S){var R;if(!s||s.indexOf('/')!==0||s.indexOf('//')===0){throw new sap.ui2.srvc.Error("Invalid URL: "+s,"sap.ushell.services.URLParsing")}R=sap.ushell.Container.getService("NavTargetResolution").getCurrentResolution();if(!S&&R&&R.url){S=jQuery.sap.getUriParameters(R.url).get("sap-system")}if(/^[^?]*(;o=([\/;?]|$))/.test(s)){s=s.replace(/;o=([\/;?]|$)/,(S?";o="+S:"")+"$1")}else if(!/^[^?]*;o=/.test(s)&&S){s=s.replace(/(\/[^?]*?)(\/$|$|(\/?\?.*))/,"$1;o="+S+"$2")}sap.ushell.Container.addRemoteSystemForServiceUrl(s);return s}};sap.ushell.services.URLParsing.hasNoAdapter=true}())},"sap/ushell/services/URLShortening.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.services.URLShortening");jQuery.sap.require("jquery.sap.storage");sap.ushell.services.URLShortening=function(){var s=this;this.ABBREV_PARAM_NAME="sap-ushell-appparams";this.URL_LENGTH_LIMIT=1023;this.URL_PARAMS_LENGTH_LIMIT=512;this.compactHash=function(u){var S,r,p,U,R;if(typeof u!=="string"||u.length<s.URL_LENGTH_LIMIT){return u}U=sap.ushell.Container.getService("URLParsing");S=U.parseShellHash(u);p='';if(u.charAt(0)==='#'){p='#'}if(S&&S.params&&S.params[s.ABBREV_PARAM_NAME]){return u}r=this._splitParameters(S.params);if(!r.key){return u}R=U.paramsToString(r.tailParams);this._storeValue(r.key,R);return p+U.constructShellHash({target:{semanticObject:S.semanticObject,action:S.action,contextRaw:S.contextRaw},params:r.headParams,appSpecificRoute:S.appSpecificRoute})};this.checkHashLength=function(u){var S,r,p,U,R;if(typeof u!=="string"||u.length<s.URL_LENGTH_LIMIT){return{hash:u}}U=sap.ushell.Container.getService("URLParsing");S=U.parseShellHash(u);p='';if(u.charAt(0)==='#'){p='#'}r=this._splitParameters(S.params);if(r.key){jQuery.sap.log.error("Application startup parameter length exceeds "+s.URL_PARAMS_LENGTH_LIMIT+" characters, truncation occured!");delete r.headParams[this.ABBREV_PARAM_NAME];return{hash:p+U.constructShellHash({target:{semanticObject:S.semanticObject,action:S.action,contextRaw:S.contextRaw},params:r.headParams,appSpecificRoute:S.appSpecificRoute}),params:r.headParams,skippedParams:r.tailParams}}jQuery.sap.log.error("URL exceeds dangerous limits, arbitrary shortening or worse may occur!");return u};this._splitParameters=function(p){var a,i,k,b,h={},t={},c=false,o,d,e=0,f,l=[];for(a in p){if(Object.prototype.hasOwnProperty.call(p,a)){l.push(a)}}l.sort();for(k=0;k<l.length;k=k+1){a=l[k];o=p[a];if(o.length>1){jQuery.sap.log.error("Array startup parameters violate the designed intent of the Unified Shell Intent, use only single-valued parameters!")}for(i=0;i<o.length;i=i+1){d=p[a][i];f=a.length+d.length;if(f+e>this.URL_PARAMS_LENGTH_LIMIT){if(t[a]){t[a].push(d)}else{t[a]=[d]}c=true}else{if(h[a]){h[a].push(d)}else{h[a]=[d]}}e=e+f+1}}if(c){b=this._generateKey();h[this.ABBREV_PARAM_NAME]=b}return{key:b,tailParams:t,headParams:h}};this._generateKey=function(){return jQuery.sap.uid()};this.expandHash=function(u){var a,v,p,b;if(typeof u!=="string"){return u}a=sap.ushell.Container.getService("URLParsing").parseShellHash(u);if(!a||(a&&a.params&&!a.params[this.ABBREV_PARAM_NAME])){return u}p='';if(u.charAt(0)==='#'){p='#'}v=this._retrieveValue(a.params[this.ABBREV_PARAM_NAME]&&a.params[this.ABBREV_PARAM_NAME][0]);if(!v){return u}b=this._blendParameters(a.params,v);return p+sap.ushell.Container.getService("URLParsing").constructShellHash({target:{semanticObject:a.semanticObject,action:a.action,contextRaw:a.contextRaw},params:b,appSpecificRoute:a.appSpecificRoute})};this._retrieveValue=function(k){return jQuery.sap.storage(jQuery.sap.storage.Type.session).get(k)};this._storeValue=function(k,v){jQuery.sap.storage(jQuery.sap.storage.Type.session).put(k,v)};this._blendParameters=function(p,v){var n=sap.ushell.Container.getService("URLParsing").parseParameters("?"+v),a;delete p[this.ABBREV_PARAM_NAME];for(a in n){if(Object.prototype.hasOwnProperty.call(n,a)){if(p[a]){p[a]=p[a].concat(n[a])}else{p[a]=n[a]}}}return p}};sap.ushell.services.URLShortening.hasNoAdapter=true}())},"sap/ushell/services/UserRecents.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.services.UserRecents");jQuery.sap.require("sap.ushell.services.Personalization");function R(m,E,c,l,s){var r=[],u=function(I,t){return r.some(function(o){var f;if(E(o.oItem,I)){o.oItem=I;o.iTimestamp=t;o.iCount=o.iCount+1;f=true}else{f=false}return f})},i=function(I,t){var n={oItem:I,iTimestamp:t,iCount:1};if(r.length===m){r.sort(c);r.pop()}r.push(n)};this.newItem=function(I){var t=+new Date(),A;l().done(function(L){r=L||[];A=u(I,t);if(!A){i(I,t)}s(r)})};this.getRecentItems=function(){var d=new jQuery.Deferred();l().done(function(L){L=L||[];L.sort(c);r=L.slice(0,m);d.resolve(jQuery.map(r,function(o){return o.oItem}))});return d.promise()}};function a(l,s){var A,t=this,m=30,d=false,n=[];this.init=function(){var p,c=this.getDayFromDateObj(this.getCurrentDate()),i=jQuery.Deferred();if(!d||c!=A.recentDay){p=l();p.done(function(b){d=true;A=b||{recentDay:null,recentAppsUsageMap:{}};t.calculateInitialUsage(c);i.resolve(A)});p.fail(function(){jQuery.sap.log.error("UShell-lib ; RecentAppsUsage ; Load data in Init failed");i.reject()})}else{i.resolve(A)}return i.promise()};this.calculateInitialUsage=function(c){var t=this;if(c!=A.recentDay){this.addNewDay();A.recentDay=c;setTimeout(function(){t.cleanUnusedHashes()},3000);this.saveAppsUsage(A)}};this.addAppUsage=function(h){if(!sap.ushell.utils.validHash(h)){return jQuery.Deferred().reject("Non valid hash").promise()}var p=this.init();p.done(function(){var b=A.recentAppsUsageMap[h]||[];if(b.length==0){b[0]=1}else{b[b.length-1]+=1}A.recentAppsUsageMap[h]=b;t.saveAppsUsage(A)});p.fail(function(){Query.sap.log.error("Ushell-lib ; addAppUsage ; Initialization falied!")});return p};this.getAppsUsage=function(){var r,p,t=this,D=jQuery.Deferred();p=t.init();p.done(function(){r=t.summarizeUsage();D.resolve(r)});p.fail(function(){D.reject("Not initialized yet")});return D.promise()};this.summarizeUsage=function(){var u={},h,b,c,f=true;for(h in A.recentAppsUsageMap){u[h]=this.getHashUsageSum(h);if(f){b=c=u[h];f=false}else{if(u[h]<c){c=u[h]}else if(u[h]>b){b=u[h]}}}return{usageMap:u,maxUsage:b,minUsage:c}};this.addNewDay=function(){var h,b;for(h in A.recentAppsUsageMap){b=A.recentAppsUsageMap[h];b[b.length]=0;if(b.length>m){b=b.shift()}}};this.cleanUnusedHashes=function(){var u,h;for(h in A.recentAppsUsageMap){u=t.getHashUsageSum(h);if(u==0){delete(A.recentAppsUsageMap[h])}}};this.getHashUsageSum=function(h){var b=0,c,f=A.recentAppsUsageMap[h],g=f.length;for(c=0;c<g;c++){b+=f[c]}return b};this.saveAppsUsage=function(o){var p=s(o);p.fail(function(){jQuery.sap.log.error("Ushell-lib ; saveAppsUsage ; Save action failed")});p.done(function(b){});return p};this.getCurrentDate=function(){return new Date()};this.getDayFromDateObj=function(b){return(b.getUTCFullYear()+"/"+(b.getUTCMonth()+1)+"/"+b.getUTCDate())}};sap.ushell.services.UserRecents=function(){var r,o,A,b,p,c,s,d,f,l,S,g="RecentApps",h="AppsUsage",i="RecentSearches",j="RecentDataSources",P="sap.ushell.services.UserRecents";this.noticeDataSource=function(D){if((D&&D.objectName&&D.objectName.value&&D.objectName.value.toLowerCase()==="$$all$$")||(D.objectName&&D.objectName.toLowerCase&&D.objectName.toLowerCase()==="$$all$$"))return;b.newItem(D);return b.getRecentItems()};this.getRecentDataSources=function(){return b.getRecentItems()};this.noticeSearch=function(m){r.newItem(m);return r.getRecentItems()};this.getRecentSearches=function(){return r.getRecentItems()};this.noticeApp=function(m){o.newItem(m);return o.getRecentItems()};this.getRecentApps=function(){return o.getRecentItems()};this.initAppsUsage=function(){A.init(new Date())};this.addAppUsage=function(m){var n=sap.ushell.utils.getBasicHash(m);A.addAppUsage(n)};this.getAppsUsage=function(){return A.getAppsUsage()};p=sap.ushell.Container.getService("Personalization");try{c=p.getPersonalizer({container:P,item:g});s=p.getPersonalizer({container:P,item:i});d=p.getPersonalizer({container:P,item:j});f=p.getPersonalizer({container:P,item:h})}catch(k){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(k.name+": "+k.message)}l=function(m){var n,D;try{n=m.getPersData()}catch(k){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(k.name+": "+k.message);D=new jQuery.Deferred();D.reject(k);n=D.promise()}return n};S=function(m,L){var n;try{n=m.setPersData(L)}catch(k){jQuery.sap.log.error("Personalization service does not work:");jQuery.sap.log.error(k.name+": "+k.message)}return n};r=new R(10,function(x,y){var m=false;if(x.oDataSource&&y.oDataSource){if(x.oDataSource.objectName&&y.oDataSource.objectName){m=((x.sTerm===y.sTerm)&&(x.oDataSource.objectName.value===y.oDataSource.objectName.value))}if(!x.oDataSource.objectName&&!y.oDataSource.objectName){m=(x.sTerm===y.sTerm)}}if(!x.oDataSource&&!y.oDataSource){m=(x.sTerm===y.sTerm)}return m},function(x,y){return y.iTimestamp-x.iTimestamp},l.bind(this,s),S.bind(this,s));b=new R(6,function(x,y){if(x.objectName&&y.objectName)return x.objectName.value===y.objectName.value;return false},function(x,y){return y.iTimestamp-x.iTimestamp},l.bind(this,d),S.bind(this,d));o=new R(6,function(x,y){return x.semanticObject===y.semanticObject&&x.action===y.action},function(x,y){return y.iTimestamp-x.iTimestamp},l.bind(this,c),S.bind(this,c));A=new a(l.bind(this,f),S.bind(this,f))};var e=sap.ui.getCore().getEventBus();sap.ushell.services.UserRecents.hasNoAdapter=true}())},"sap/ushell/touchSupport.js":function(){;(function(){"use strict";jQuery.sap.declare("sap.ushell.touchSupport");sap.ushell.touchSupport=function(c){if(!c||!c.rootSelector||!c.containerSelector||!c.draggableSelector){throw new Error("No configuration object to initialize User Interaction module.")}this.animationDuration;this.captureStart;this.captureMove;this.captureEnd;this.clickEvent;this.clickHandler;this.clone;this.cloneClass;this.container;this.contextMenuEvent;this.debug;this.dragAndScrollCallback;this.dragAndScrollDuration;this.dragAndScrollTimer;this.draggable;this.placeHolderClass;this.draggableSelector;this.draggableSelectorExclude;this.doubleTapCallback;this.doubleTapDelay;this.element;this.endEvent;this.endX;this.endY;this.isTouch;this.lastElement;this.lastTapTime;this.log;this.mode;this.moveEvent;this.moveTolerance;this.moveX;this.moveY;this.noop;this.preventClickFlag;this.preventClickTimeoutId;this.startEvent;this.startX;this.startY;this.switchModeDelay;this.tapsNumber;this.timer;this.touchCancelEvent;this.touchDragCallback;this.touchEndCallback;this.touchStartCallback;this.wrapper;this.init=function(c){var i;this.startX=-1;this.startY=-1;this.moveX=-1;this.moveY=-1;this.endX=-1;this.endY=-1;this.container=document.querySelector(c.containerSelector);this.switchModeDelay=c.switchModeDelay||1500;this.dragAndScrollDuration=c.dragAndScrollDuration||230;this.moveTolerance=c.moveTolerance===0?0:c.moveTolerance||10;this.draggableSelector=c.draggableSelector;this.draggableSelectorExclude=c.draggableSelectorExclude;this.mode='normal';this.debug=c.debug||false;this.root=document.querySelector(c.rootSelector);this.animationDuration=c.animationDuration||330;this.noop=function(){};this.tapsNumber=0;this.lastTapTime=0;this.log=this.debug?this.logToConsole:this.noop;this.placeHolderClass=c.placeHolderClass||"";this.cloneClass=c.cloneClass||"";this.wrapper=c.wrapperSelector?document.querySelector(c.wrapperSelector):this.container.parentNode;this.touchStartCallback=typeof c.touchStartCallback==='function'?c.touchStartCallback:this.noop;this.doubleTapCallback=typeof c.doubleTapCallback==='function'?c.doubleTapCallback:this.noop;this.touchEndCallback=typeof c.touchEndCallback==='function'?c.touchEndCallback:this.noop;this.touchDragCallback=typeof c.touchDragCallback==='function'?c.touchDragCallback:this.noop;this.dragAndScrollCallback=typeof c.dragAndScrollCallback==='function'?c.dragAndScrollCallback:this.noop;this.doubleTapDelay=c.doubleTapDelay||500;if(i=('ontouchstart'in window)){this.startEvent='touchstart';this.moveEvent='touchmove';this.endEvent='touchend';this.contextMenuEvent='contextmenu';this.touchCancelEvent='touchcancel';this.clickEvent='click';this.captureStart=this.captureTouchStart;this.captureMove=this.captureTouchMove;this.captureEnd=this.captureTouchEnd}else{throw new Error('Not supported!')}};this.forEach=function(s,a){return Array.prototype.forEach.call(s,a)};this.indexOf=function(s,i){return Array.prototype.indexOf.call(s,i)};this.insertBefore=function(s,i,r){var a,b,d;d=Array.prototype.splice;a=this.indexOf(s,i);b=this.indexOf(s,r);d.call(s,b-(a<b?1:0),0,d.call(s,a,1)[0])};this.logToConsole=function(){console.log.apply(console,arguments)};this.getDraggableElement=function(t){var a=t.target;var e=undefined;this.draggable=jQuery(this.draggableSelector,this.container);while(typeof e==='undefined'&&a!==this.root){if(this.indexOf(this.draggable,a)>=0&&jQuery(a).not(this.draggableSelectorExclude).length>0){e=a}a=a.parentNode}return e};this.captureTouchStart=function(e){var t;this.endHandler(e);this.element=undefined;if(e.touches.length===1){t=e.touches[0];this.element=this.getDraggableElement(t);this.startX=t.pageX;this.startY=t.pageY;this.lastMoveX=0;this.lastMoveY=0;if(this.lastTapTime&&this.lastElement&&this.element&&(this.lastElement===this.element)&&Math.abs(Date.now()-this.lastTapTime)<this.doubleTapDelay){this.lastTapTime=0;this.tapsNumber=2}else{this.lastTapTime=Date.now();this.tapsNumber=1;this.lastElement=this.element}}this.log('captureTouchStart('+this.startX+', '+this.startY+')')};this.startHandler=function(e){this.log('startHandler');clearTimeout(this.timer);delete this.timer;this.captureStart(e);if(this.element){this.touchStartCallback(e,this.element);if(this.tapsNumber===2){this.mode='double-tap';return}this.timer=setTimeout(function(){this.log('mode switched to drag');this.mode='drag';this.createClone()}.bind(this),this.switchModeDelay)}}.bind(this);this.captureTouchMove=function(e){var t;if(e.touches.length===1){t=e.touches[0];this.moveX=t.pageX;this.moveY=t.pageY}this.log('captureTouchMove('+this.moveX+', '+this.moveY+')')};this.moveHandler=function(e){this.log('moveHandler');this.captureMove(e);switch(this.mode){case'normal':if(Math.abs(this.startX-this.moveX)>this.moveTolerance||Math.abs(this.startY-this.moveY)>this.moveTolerance){this.log('-> normal');this.mode='scroll';clearTimeout(this.timer);delete this.timer}break;case'scroll':this.log('-> scroll');break;case'drag':e.preventDefault();this.log('-> drag');this.mode='drag-and-scroll';this.translateClone();this.dragAndScroll();this.touchDragCallback(e,this.element);break;case'drag-and-scroll':e.stopPropagation();e.preventDefault();this.log('-> drag-and-scroll');this.translateClone();this.dragAndScroll();this.moveDraggable();this.dragAndScrollCallback(e,this.clone);break}}.bind(this);this.captureTouchEnd=function(e){var t;if(e.changedTouches.length===1){t=e.changedTouches[0];this.endX=t.pageX;this.endY=t.pageY}this.log('captureTouchEnd('+this.endX+', '+this.endY+')')};this.contextMenuHandler=function(e){e.preventDefault()}.bind(this);this.clickHandler=function(e){if(this.preventClickFlag){this.preventClickFlag=false;e.preventDefault();e.stopPropagation();e.stopImmediatePropagation();clearTimeout(this.preventClickTimeoutId)}}.bind(this);this.preventClick=function(){this.preventClickFlag=true;this.preventClickTimeoutId=setTimeout(function(){this.preventClickFlag=false},100)};this.endHandler=function(e){this.log('endHandler');this.captureEnd(e);switch(this.mode){case'normal':this.log('-> normal');break;case'scroll':this.log('-> scroll');break;case'drag':this.log('-> drag');this.removeClone();this.touchEndCallback(e,this.element);this.preventClick();break;case'drag-and-scroll':this.log('-> drag-and-scroll');this.removeClone();this.touchEndCallback(e,this.element);this.preventClick();e.stopPropagation();e.preventDefault();break;case'double-tap':this.log('-> double-tap');this.doubleTapCallback(e,this.element);break}clearTimeout(this.timer);delete this.timer;this.lastMoveX=0;this.lastMoveY=0;this.mode='normal'}.bind(this);this.createClone=function(){var s,r;r=this.element.getBoundingClientRect();this.clone=this.element.cloneNode(true);this.clone.className+=(' '+this.cloneClass);this.element.className+=(' '+this.placeHolderClass);s=this.clone.style;s.position='fixed';s.display='block';s.top=r.top+'px';s.left=r.left+'px';s.width=r.width+'px';s.zIndex='100';s.webkitTransition='-webkit-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.transition='-webkit-transform 0ms cubic-bezier(0.33, 0.66, 0.66, 1)';s.webkitTransform='translate3d(0px, 0px, 0px) ';this.root.appendChild(this.clone);this.log('createClone')};this.removeClone=function(){this.element.className=this.element.className.split(' '+this.placeHolderClass).join('');this.clone.parentElement.removeChild(this.clone);this.clone=null;this.log('removeClone')};this.translateClone=function(){var d,a;d=this.moveX-this.startX;a=this.moveY-this.startY;this.clone.style.webkitTransform='translate3d('+d+'px, '+a+'px, 0px)';this.log('translateClone ('+d+', '+a+')')};this.dragAndScroll=function(){var d,a,s,t;function b(){s.webkitTransition='-webkit-transform '+a+'ms linear';s.transition='-webkit-transform '+a+'ms linear';s.webkitTransform='translate(0px, '+d+'px) scale(1) translateZ(0px)'}function e(){s.webkitTransition='';s.transition='';s.webkitTransform='';t.wrapper.scrollTop-=d}function g(){var r,h;if(t.clone){r=t.clone.getBoundingClientRect();h=t.wrapper.offsetTop-r.top;if(h>0){return h}h=t.wrapper.offsetTop+t.wrapper.offsetHeight-(r.top+t.clone.offsetHeight);if(h<0){return h}}return 0}function i(){if(d<0){return t.wrapper.getBoundingClientRect().top-(t.container.getBoundingClientRect().top+t.container.offsetHeight)+t.wrapper.offsetHeight<0}return t.container.getBoundingClientRect().top-(t.wrapper.getBoundingClientRect().top+t.container.offsetTop)<0}function f(){b();t.dragAndScrollTimer=setTimeout(function(){e();t.dragAndScrollTimer=undefined;if((d=g())!==0&&i()){f()}},a)}t=this;d=g();if(d!==0&&!this.dragAndScrollTimer&&i()){a=this.dragAndScrollDuration;s=this.container.style;f()}this.log('dragAndScroll ('+d+')')};this.moveDraggable=function(){var e,h,a,i,b,r,s;this.forEach(this.draggable,function(d,f){if(!h){r=d.getBoundingClientRect();s=window.getComputedStyle(d);i=!(r.right<this.moveX||r.left>this.moveX);b=!(r.bottom<this.moveY||r.top>this.moveY);if(i&&b){h=d;a=f}}}.bind(this));if(h&&this.element!==h){e=this.indexOf(this.draggable,this.element);if(Math.abs(this.lastMoveX-this.moveX)>=this.moveTolerance&&Math.abs(this.lastMoveY-this.moveY)>=this.moveTolerance){if(a<e){h.parentNode.insertBefore(this.element,h);this.insertBefore(this.draggable,this.element,h)}else if(a>e){h.parentNode.insertBefore(this.element,h.nextSibling);this.insertBefore(this.draggable,this.element,this.draggable[a+1])}this.lastMoveX=this.moveX;this.lastMoveY=this.moveY}}this.log('moveDraggable')};this.enable=function(){this.log('enable');this.root.addEventListener(this.startEvent,this.startHandler,false);this.root.addEventListener(this.moveEvent,this.moveHandler,true);this.root.addEventListener(this.endEvent,this.endHandler,false);this.root.addEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.addEventListener(this.clickEvent,this.clickHandler,true);this.root.addEventListener(this.touchCancelEvent,this.endHandler,false);return this};this.disable=function(){this.log('disable');this.root.removeEventListener(this.startEvent,this.startHandler,false);this.root.removeEventListener(this.moveEvent,this.moveHandler,true);this.root.removeEventListener(this.endEvent,this.endHandler,false);this.root.removeEventListener(this.contextMenuEvent,this.contextMenuHandler,false);this.root.removeEventListener(this.clickEvent,this.clickHandler,true);this.root.removeEventListener(this.touchCancelEvent,this.endHandler,false);return this};this.init(c)}})()},"sap/ushell/ui/launchpad/DashboardGroupsContainer.js":function(){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.ui.launchpad.DashboardGroupsContainer");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.ushell.ui.launchpad.DashboardGroupsContainer",{metadata:{library:"sap.ushell",properties:{"accessibilityLabel":{type:"string",group:"",defaultValue:null}},aggregations:{"groups":{type:"sap.ui.core.Control",multiple:true,singularName:"group"}},events:{"afterRendering":{}}}});sap.ushell.ui.launchpad.DashboardGroupsContainer.M_EVENTS={'afterRendering':'afterRendering'};
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";sap.ushell.ui.launchpad.DashboardGroupsContainer.prototype.updateGroups=sap.ushell.override.updateAggregatesFactory("groups");sap.ushell.ui.launchpad.DashboardGroupsContainer.prototype.onAfterRendering=function(){this.fireAfterRendering()}}())},"sap/ushell/ui/launchpad/DashboardGroupsContainerRenderer.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.ui.launchpad.DashboardGroupsContainerRenderer");sap.ushell.ui.launchpad.DashboardGroupsContainerRenderer={};sap.ushell.ui.launchpad.DashboardGroupsContainerRenderer.render=function(r,c){r.write("<div");r.writeControlData(c);r.addClass("sapUshellDashboardGroupsContainer");r.writeClasses();if(c.getAccessibilityLabel()){r.writeAccessibilityState(c,{label:c.getAccessibilityLabel()})}r.write(">");var g=c.getGroups();jQuery.each(g,function(){r.write("<div");r.addClass("sapUshellDashboardGroupsContainerItem");r.writeClasses();r.write(">");r.renderControl(this);r.write("</div>")});r.write("</div>")}}())},"sap/ushell/ui/launchpad/DeleteArea.js":function(){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.ui.launchpad.DeleteArea");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.ushell.ui.launchpad.DeleteArea",{metadata:{library:"sap.ushell",properties:{"type":{type:"sap.ushell.ui.launchpad.DeleteAreaType",group:"Misc",defaultValue:sap.ushell.ui.launchpad.DeleteAreaType.Dashboard},"message":{type:"string",group:"Misc",defaultValue:''},"icon":{type:"string",group:"Misc",defaultValue:''}},events:{"drop":{},"tileOver":{},"tileOut":{}}}});sap.ushell.ui.launchpad.DeleteArea.M_EVENTS={'drop':'drop','tileOver':'tileOver','tileOut':'tileOut'};
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";sap.ushell.ui.launchpad.DeleteArea.prototype.init=function(){};sap.ushell.ui.launchpad.DeleteArea.prototype.onAfterRendering=function(){if(this.getType()===sap.ushell.ui.launchpad.DeleteAreaType.Dashboard){this.jqDeleteArea_visual=this.$().find(".sapUshellDeleteArea_dashboard_visual");this.jqDeleteArea_functional=this.$().find(".sapUshellDeleteArea_dashboard_functional");this.tileOver(false)}else{this.jqDeleteArea_visual=this.$().find(".sapUshellDeleteArea_grouplist_visual");this.jqDeleteArea_functional=this.$().find(".sapUshellDeleteArea_grouplist_functional");this.groupOver(false)}this.jqDeleteArea_HoverMessage=this.jqDeleteArea_visual.siblings(".sapUshellDeleteArea_HoverMessage");if(sap.ui.Device.system.desktop){this._addDroppable()}};sap.ushell.ui.launchpad.DeleteArea.prototype.setMessage=function(m){this.setProperty("message",m,true);this.$().find(".sapUshellDeleteArea_HoverMessage").text(m)};sap.ushell.ui.launchpad.DeleteArea.prototype._addDroppable=function(){if(this.jqDeleteArea_functional.is(".ui-droppable")){return}this.jqDeleteArea_functional.droppable({greedy:'true',tolerance:'touch',accept:jQuery.proxy(this._handleAccept,this),drop:jQuery.proxy(this._handleDrop,this),over:jQuery.proxy(this._handleOver,this),out:jQuery.proxy(this._handleOut,this)})};sap.ushell.ui.launchpad.DeleteArea.prototype.tileOver=function(b){this.jqDeleteArea_functional.data("tileOver",b)};sap.ushell.ui.launchpad.DeleteArea.prototype.groupOver=function(b){this.jqDeleteArea_functional.data("groupOver",b)};sap.ushell.ui.launchpad.DeleteArea.prototype.getFunctionalArea=function(){return this.jqDeleteArea_functional};sap.ushell.ui.launchpad.DeleteArea.prototype.getVisualArea=function(){return this.jqDeleteArea_visual};sap.ushell.ui.launchpad.DeleteArea.prototype.show=function(){this.jqDeleteArea_functional.removeClass("sapUshellDeleteArea_functional_hidden").addClass("sapUshellDeleteArea_functional_show");if(this.getType()===sap.ushell.ui.launchpad.DeleteAreaType.Dashboard){if(sap.ui.Device.os.android){this.jqDeleteArea_visual.removeClass("sapUshellDeleteArea_visual_hidden").addClass("sapUshellDeleteArea_visual_show sapUshellDeleteArea_dashboard_visual_show")}else{this.jqDeleteArea_visual.switchClass("sapUshellDeleteArea_visual_hidden","sapUshellDeleteArea_visual_show sapUshellDeleteArea_dashboard_visual_show",250,"swing")}}else{if(sap.ui.Device.os.android){this.jqDeleteArea_visual.removeClass("sapUshellDeleteArea_visual_hidden").addClass("sapUshellDeleteArea_visual_show sapUshellDeleteArea_grouplist_visual_show")}else{this.jqDeleteArea_visual.switchClass("sapUshellDeleteArea_visual_hidden","sapUshellDeleteArea_visual_show sapUshellDeleteArea_grouplist_visual_show",250,"swing")}}};sap.ushell.ui.launchpad.DeleteArea.prototype.hide=function(){this.jqDeleteArea_visual.removeClass("sapUshellDeleteArea_visual_hover");if(this.getType()===sap.ushell.ui.launchpad.DeleteAreaType.Dashboard){this.jqDeleteArea_visual.switchClass("sapUshellDeleteArea_visual_show sapUshellDeleteArea_dashboard_visual_show","sapUshellDeleteArea_visual_hidden",250,"swing");this.jqDeleteArea_visual.removeClass("sapUshellDeleteArea_dashboard_visual_hover")}else{this.jqDeleteArea_visual.switchClass("sapUshellDeleteArea_visual_show sapUshellDeleteArea_grouplist_visual_show","sapUshellDeleteArea_visual_hidden",250,"swing");this.jqDeleteArea_visual.removeClass("sapUshellDeleteArea_grouplist_visual_hover")}this.jqDeleteArea_functional.removeClass("sapUshellDeleteArea_functional_show").addClass("sapUshellDeleteArea_functional_hidden");this.jqDeleteArea_HoverMessage.switchClass("","sapUshellDeleteArea_HoverMessage_Hide",50,"swing")};sap.ushell.ui.launchpad.DeleteArea.prototype._handleAccept=function(d){if(this.getType()===sap.ushell.ui.launchpad.DeleteAreaType.GroupList){return d.hasClass("sapUshellGroupListItem")}else{return true}};sap.ushell.ui.launchpad.DeleteArea.prototype._handleDrop=function(e,u){this.fireEvent("drop",{functionalArea:this.jqDeleteArea_functional,ui:u});this.jqDeleteArea_HoverMessage.switchClass("","sapUshellDeleteArea_HoverMessage_Hide",50,"swing")};sap.ushell.ui.launchpad.DeleteArea.prototype.adjustStyleOnOverIn=function(i,o){if(i){this.jqDeleteArea_visual.switchClass("","sapUshellDeleteArea_visual_hover sapUshellDeleteArea_dashboard_visual_hover",100,"swing")}else{this.jqDeleteArea_visual.switchClass("","sapUshellDeleteArea_visual_hover sapUshellDeleteArea_grouplist_visual_hover",100,"swing")}this.jqDeleteArea_HoverMessage.switchClass("sapUshellDeleteArea_HoverMessage_Hide","",150,"swing");if(o){o.addClass("sapUshellDeletedObjectTranparency")}};sap.ushell.ui.launchpad.DeleteArea.prototype._handleOver=function(e,u){var t=this,i=(this.getType()===sap.ushell.ui.launchpad.DeleteAreaType.Dashboard);if(i){this.tileOver(true)}else{if(u.draggable){var d=sap.ui.getCore().byId(u.draggable.attr('id'));if(d){this.setDeleteAreaMessage(d)}}this.groupOver(true)}this.fireTileOver();this.adjustStyleOnOverIn(i,u.helper)};sap.ushell.ui.launchpad.DeleteArea.prototype.setDeleteAreaMessage=function(e){if(e.getRemovable()){this.setMessage(sap.ushell.resources.i18n.getText("deleteAreaMsgForGroup"))}else{this.setMessage(sap.ushell.resources.i18n.getText("reset_group"))}};sap.ushell.ui.launchpad.DeleteArea.prototype.isElementOverDeleteArea=function(e){var a=e.getBoundingClientRect(),d,b,c,f;d=this.jqDeleteArea_visual[0].offsetTop;b=this.jqDeleteArea_visual[0].offsetLeft;c=a.top+a.height;f=a.left+a.width;var i=f>=b+this.jqDeleteArea_visual[0].offsetWidth/5;var g=c>=d+this.jqDeleteArea_visual[0].offsetHeight/5;return i&&g};sap.ushell.ui.launchpad.DeleteArea.prototype.adjustStyleOnOverOut=function(i,o){if(i){this.jqDeleteArea_visual.switchClass("sapUshellDeleteArea_visual_hover sapUshellDeleteArea_dashboard_visual_hover","",100,"swing")}else{this.jqDeleteArea_visual.switchClass("sapUshellDeleteArea_visual_hover sapUshellDeleteArea_grouplist_visual_hover","",100,"swing")}this.jqDeleteArea_HoverMessage.switchClass("","sapUshellDeleteArea_HoverMessage_Hide",50,"swing");if(o){o.removeClass("sapUshellDeletedObjectTranparency")}};sap.ushell.ui.launchpad.DeleteArea.prototype._handleOut=function(e,u){var t=this,i=(this.getType()===sap.ushell.ui.launchpad.DeleteAreaType.Dashboard);if(i){this.tileOver(false)}else{this.groupOver(false)}this.fireTileOut();this.adjustStyleOnOverOut(i,u.helper)}}())},"sap/ushell/ui/launchpad/DeleteAreaRenderer.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.ui.launchpad.DeleteAreaRenderer");sap.ushell.ui.launchpad.DeleteAreaRenderer={};sap.ushell.ui.launchpad.DeleteAreaRenderer.render=function(r,c){r.write("<div");r.writeControlData(c);r.write(">");r.write("<div");r.addClass("sapUshellDeleteArea_visual");r.addClass("sapUshellDeleteArea_visual_hidden");if(c.getType()===sap.ushell.ui.launchpad.DeleteAreaType.Dashboard){r.addClass("sapUshellDeleteArea_dashboard");r.addClass("sapUshellDeleteArea_dashboard_visual")}else{r.addClass("sapUshellDeleteArea_grouplist");r.addClass("sapUshellDeleteArea_grouplist_visual")}r.writeStyles();r.writeClasses();r.write(">");if(c.getIcon()){var i=new sap.ui.core.Icon({src:c.getIcon()});i.addStyleClass('sapUshellDeleteAreaIcon');r.renderControl(i)}r.write("</div>");r.write("<div");r.addClass("sapUshellDeleteArea_HoverMessage");r.addClass("sapUshellDeleteArea_HoverMessage_Hide");r.writeStyles();r.writeClasses();r.write(">"+c.getMessage());r.write("</div>");r.write("<div");r.addClass("sapUshellDeleteArea_functional");r.addClass("sapUshellDeleteArea_functional_hidden");if(c.getType()===sap.ushell.ui.launchpad.DeleteAreaType.Dashboard){r.addClass("sapUshellDeleteArea_dashboard_functional")}else{r.addClass("sapUshellDeleteArea_grouplist_functional")}r.writeStyles();r.writeClasses();r.write(">");r.write("</div>");r.write("</div>")}}())},"sap/ushell/ui/launchpad/LoadingDialog.js":function(){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.ui.launchpad.LoadingDialog");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.m.BusyDialog");sap.m.BusyDialog.extend("sap.ushell.ui.launchpad.LoadingDialog",{metadata:{library:"sap.ushell",properties:{"iconUri":{type:"sap.ui.core.URI",group:"Appearance",defaultValue:null}}}});
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.require("sap.ui.core.Icon");sap.ushell.ui.launchpad.LoadingDialog.prototype.init=function(){sap.m.BusyDialog.prototype.init.call(this,arguments);this.oIcon=new sap.ui.core.Icon()};sap.ushell.ui.launchpad.LoadingDialog.prototype.exit=function(){sap.m.BusyDialog.prototype.exit.call(this,arguments);if(this.oIcon){this.oIcon.destroy();this.oIcon=null}};sap.ushell.ui.launchpad.LoadingDialog.prototype.isOpen=function(){var p=this._oPopup;return p.isOpen()};sap.ushell.ui.launchpad.LoadingDialog.prototype.setPopupVisible=function(v){this.toggleStyleClass("sapUshellLoadingDialogInvisible",!v)};sap.ushell.ui.launchpad.LoadingDialog.prototype.setAppInfoVisible=function(v){this.toggleStyleClass("sapUshellLoadingDialogAppDataInvisible",!v)};sap.ushell.ui.launchpad.LoadingDialog.prototype.openLoadingScreen=function(){if(!this._oPopup.isOpen()){this.setPopupVisible(true);this.open();jQuery('.sapUiBLy').addClass('sapUshellLoadingDialog')}};sap.ushell.ui.launchpad.LoadingDialog.prototype.showAppInfo=function(a,i){var t=this,T=function(t){t.setAppInfoVisible(true)};this.setText(a);this.setIconUri(i);this.oIcon.setSrc(i);window.setTimeout(function(){T(t)},50)};sap.ushell.ui.launchpad.LoadingDialog.prototype.closeLoadingScreen=function(){var t=this,T=function(t){t.setText(null);t.setIconUri(null);t.setAppInfoVisible(false);if(t.isActive()){t.close()}jQuery('.sapMDialogBLyInit').removeClass('sapUshellLoadingDialog')};if(this._oPopup&&this._oPopup.isOpen()){this.setPopupVisible(false);window.setTimeout(function(){T(t)},300)}}}())},"sap/ushell/ui/launchpad/LoadingDialogRenderer.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.ui.launchpad.LoadingDialogRenderer");sap.ushell.ui.launchpad.LoadingDialogRenderer={};sap.ushell.ui.launchpad.LoadingDialogRenderer.render=function(r,c){var t=c.getTooltip_AsString();c._oLabel.addStyleClass("sapUshellLoadingDialogLabel");r.write("<div");r.writeControlData(c);r.addClass("sapUshellLoadingDialogControl sapMBusyDialog sapMCommonDialog");if(sap.ui.Device.system.iphone){r.addClass("sapMDialogHidden")}if(!c._isPlatformDependent){if(!c.getText()&&!c.getTitle()&&!c.getShowCancelButton()){r.addClass("sapMBusyDialogSimple")}}r.writeClasses();if(t){r.writeAttributeEscaped("title",t)}r.write(">");if(c.getTitle()){r.write("<header class=\"sapMDialogTitle\">");r.writeEscaped(c.getTitle());r.write("</header>")}if(jQuery.os.ios||!c._isPlatformDependent){this.renderAppInfo(r,c);this.renderFioriFlower(r,c)}else{this.renderFioriFlower(r,c);this.renderAppInfo(r,c)}if(c.getShowCancelButton()){r.write("<footer class='sapMBusyDialogFooter sapMFooter-CTX'>");r.renderControl(c._oButton);r.write("</footer>")}r.write("</div>")};sap.ushell.ui.launchpad.LoadingDialogRenderer.renderAppInfo=function(r,c){r.write("<div").addClass("sapUshellLoadingDialogAppData").writeClasses().write(">");if(c.getIconUri()){r.renderControl(c.oIcon)}r.renderControl(c._oLabel);r.write("</div>")};sap.ushell.ui.launchpad.LoadingDialogRenderer.renderFioriFlower=function(r,c){var i,R=false,u=[/Android\s4\.2.+GT-I9505.+Chrome\/18/];if(navigator.userAgent){for(i=0;i<u.length;i=i+1){if(u[i].test(navigator.userAgent)){R=true;break}}}if(jQuery.support.cssAnimations&&!R){var b=sap.ui.getCore().getConfiguration().getRTL();r.write("<div id='fiori2-loader'>");r.write("<div class='fiori2-blossom'>");if(!b){for(i=1;i<6;i=i+1){r.write("<div class='fiori2-leafContainer fiori2-leafContainer"+i+"'>");r.write("<div class='fiori2-leaf fiori2-leaf"+i+"'></div>");r.write("</div>")}}else{for(i=1;i<6;i=i+1){r.write("<div class='fiori2-leafContainer fiori2-leafContainer"+i+"'>");r.write("<div class='fiori2-leaf rtlFiori2-leaf"+i+"'></div>");r.write("</div>")}}r.write("</div>");r.write("</div>")}else{r.renderControl(c._busyIndicator)}}}())},"sap/ushell/ui/launchpad/PlusTile.js":function(){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.ui.launchpad.PlusTile");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.ushell.ui.launchpad.Tile");sap.ushell.ui.launchpad.Tile.extend("sap.ushell.ui.launchpad.PlusTile",{metadata:{library:"sap.ushell",properties:{"groupId":{type:"string",group:"Misc",defaultValue:''}},events:{"press":{}}}});sap.ushell.ui.launchpad.PlusTile.M_EVENTS={'press':'press'};
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";sap.ushell.ui.launchpad.PlusTile.prototype.init=function(){this.oIcon=new sap.ui.core.Icon({src:'sys-cancel',tooltip:sap.ushell.resources.i18n.getText("open_catalog")})};sap.ushell.ui.launchpad.PlusTile.prototype.exit=function(){if(this.oIcon){this.oIcon.destroy()}};sap.ushell.ui.launchpad.PlusTile.prototype.onclick=function(){this.firePress()};sap.ushell.ui.launchpad.PlusTile.prototype.onsapspace=function(){this.firePress()};sap.ushell.ui.launchpad.PlusTile.prototype.onsapenter=function(){this.firePress()};sap.ushell.ui.launchpad.PlusTile.prototype.setGroupId=function(v){this.setProperty("groupId",v,true);return this}}())},"sap/ushell/ui/launchpad/PlusTileRenderer.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.resources");jQuery.sap.declare("sap.ushell.ui.launchpad.PlusTileRenderer");sap.ushell.ui.launchpad.PlusTileRenderer={};var t=sap.ushell.resources.i18n;sap.ushell.ui.launchpad.PlusTileRenderer.render=function(r,c){r.write("<div");r.writeAttribute("tabindex","0");r.writeControlData(c);r.addClass("sapUshellTile");r.addClass("sapUshellPlusTile");r.writeClasses();r.writeAccessibilityState(c,{label:t.getText("TilePlus_label")});r.write(">");r.renderControl(c.oIcon);r.write("</div>")}}())},"sap/ushell/ui/launchpad/Tile.js":function(){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.ui.launchpad.Tile");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.ushell.ui.launchpad.Tile",{metadata:{library:"sap.ushell",properties:{"tall":{type:"boolean",group:"Misc",defaultValue:false},"long":{type:"boolean",group:"Misc",defaultValue:false},"uuid":{type:"string",group:"Misc",defaultValue:null},"target":{type:"string",group:"Misc",defaultValue:null},"draggable":{type:"boolean",group:"Misc",defaultValue:false},"dragContainer":{type:"string",group:"Misc",defaultValue:null},"visible":{type:"boolean",group:"Misc",defaultValue:true},"debugInfo":{type:"string",group:"Misc",defaultValue:null},"rgba":{type:"string",group:"Misc",defaultValue:null},"animationRendered":{type:"boolean",group:"Misc",defaultValue:false}},aggregations:{"tileViews":{type:"sap.ui.core.Control",multiple:true,singularName:"tileView"},"footItems":{type:"sap.ui.core.Control",multiple:true,singularName:"footItem"}},events:{"press":{},"dragStart":{},"dragStop":{},"afterRendering":{}}}});sap.ushell.ui.launchpad.Tile.M_EVENTS={'press':'press','dragStart':'dragStart','dragStop':'dragStop','afterRendering':'afterRendering'};
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-core');jQuery.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-widget');jQuery.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-mouse');jQuery.sap.require('sap.ui.thirdparty.jqueryui.jquery-ui-draggable');jQuery.sap.require("sap.ushell.override");sap.ushell.ui.launchpad.Tile.prototype.ontap=function(e,u){jQuery.sap.log.info("Tile clicked:",this.getDebugInfo(),"sap.ushell.ui.launchpad.Tile");return;var s=e.srcElement,I=true,i,t=function(){var h=function(){this.toggleStyleClass("sapUshellTileHide",false)};this.toggleStyleClass("sapUshellTileHide",true);this.toggleStyleClass("sapUshellTileTapped",false);window.setTimeout(jQuery.proxy(h,this),800)};if(sap.ui.Device.system.phone||!jQuery.support.cssAnimations){return}for(i=0;i<6;i=i+1){if(jQuery(s)&&(jQuery(s).hasClass("sapUshellTileInner")||jQuery(s).hasClass("sapUshellPlusTile"))){I=false;break}s=jQuery(s).parent()}if(I){return}this.toggleStyleClass("sapUshellTileTapped",true);window.setTimeout(jQuery.proxy(t,this),1000)};sap.ushell.ui.launchpad.Tile.prototype.destroy=function(s){this.destroyTileViews();sap.ui.core.Control.prototype.destroy.call(this,s)};sap.ushell.ui.launchpad.Tile.prototype.addTileView=function(o,s){o.setParent(null);sap.ui.base.ManagedObject.prototype.addAggregation.call(this,"tileViews",o,s)};sap.ushell.ui.launchpad.Tile.prototype.destroyTileViews=function(){if(this.mAggregations["tileViews"]){this.mAggregations["tileViews"].length=0}};sap.ushell.ui.launchpad.Tile.prototype.exit=function(){if(this.getDraggable()){this._setDraggable(false)}};sap.ushell.ui.launchpad.Tile.prototype.onBeforeRendering=function(){if(this.getDraggable()){this._setDraggable(false)}};sap.ushell.ui.launchpad.Tile.prototype.onAfterRendering=function(){if(this.getDraggable()){this._setDraggable(true)}var r=this.getRgba();if(r){this._redrawRGBA()}this.fireAfterRendering()};sap.ushell.ui.launchpad.Tile.prototype.onsapenter=function(){this.firePress({id:this.getId()})};sap.ushell.ui.launchpad.Tile.prototype.onsapspace=function(){this.firePress({id:this.getId()})};sap.ushell.ui.launchpad.Tile.prototype._handleDragStart=function(e,u){this.fireDragStart()};sap.ushell.ui.launchpad.Tile.prototype._handleDragStop=function(e,u){this.fireDragStop()};sap.ushell.ui.launchpad.Tile.prototype.setDraggable=function(d){this.setProperty("draggable",d,true);this._setDraggable(d);return this};sap.ushell.ui.launchpad.Tile.prototype.setVisible=function(v){this.setProperty("visible",v,true);return this.toggleStyleClass("sapUshellHidden",!v)};sap.ushell.ui.launchpad.Tile.prototype.setRgba=function(v){this.setProperty("rgba",v,true);this._redrawRGBA(arguments)};sap.ushell.ui.launchpad.Tile.prototype.setAnimationRendered=function(v){this.setProperty('animationRendered',v,true)};sap.ushell.ui.launchpad.Tile.prototype._handleTileShadow=function(j,a){j.unbind('mouseenter mouseleave');var u=this.getRgba();j.hover(function(){var o=jQuery(j).css('box-shadow'),t=o?o.split(') ')[1]:null,U;if(t){U=t+" "+u;jQuery(this).css('box-shadow',U)}},function(){jQuery(this).css('box-shadow','')})};sap.ushell.ui.launchpad.Tile.prototype._redrawRGBA=function(a){var r=this.getRgba();if(r){var j=jQuery.sap.byId(this.getId()),i=(jQuery.browser.msie&&(parseInt(jQuery.browser.version,9)===9));if(!j){return}if(!this.getModel().getProperty('/animationRendered')){if(i){j.animate({backgroundColor:r},2000)}else{j.css('transition','background-color 2s');j.css('background-color',r)}}else{j.css('background-color',r)}this._handleTileShadow(j,a)}};sap.ushell.ui.launchpad.Tile.prototype.setLong=function(l){this.setProperty("long",l,true);return this.toggleStyleClass("sapUshellLong",l)};sap.ushell.ui.launchpad.Tile.prototype.setTall=function(t){this.setProperty("tall",t,true);return this.toggleStyleClass("sapUshellTall",t)};sap.ushell.ui.launchpad.Tile.prototype.setUuid=function(u){this.setProperty("uuid",u,true);return this};sap.ushell.ui.launchpad.Tile.prototype._setDraggable=function(d){if(this.getDomRef()){if(d){this.$().draggable({containment:"window",handle:".sapUshellTileInner",helper:function(){var c=jQuery(this).clone();c.removeClass('sapUshellTileFooter');c.find('.sapUshellTileFooterElement').remove();c.css("margin",0);return c},appendTo:this.getDragContainer()||"body",opacity:0.5,delay:200,zIndex:100,scroll:false}).bind("dragstart",jQuery.proxy(this._handleDragStart,this)).bind("dragstop",jQuery.proxy(this._handleDragStop,this))}else{if(this.$().hasClass("ui-draggable")){this.$().unbind("dragstart",this._handleDragStart).unbind("dragstop",this._handleDragStop).draggable("destroy")}}}}}())},"sap/ushell/ui/launchpad/TileContainer.js":function(){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.ui.launchpad.TileContainer");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.ushell.ui.launchpad.TileContainer",{metadata:{library:"sap.ushell",properties:{"scrollType":{type:"string",group:"Misc",defaultValue:'item'},"animationSpeed":{type:"int",group:"Misc",defaultValue:500},"groupId":{type:"string",group:"Misc",defaultValue:null},"showHeader":{type:"boolean",group:"Misc",defaultValue:true},"showPlaceholder":{type:"boolean",group:"Misc",defaultValue:true},"defaultGroup":{type:"boolean",group:"Misc",defaultValue:false},"headerText":{type:"string",group:"Misc",defaultValue:null},"headerLevel":{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:sap.m.HeaderLevel.H2},"groupHeaderLevel":{type:"sap.m.HeaderLevel",group:"Misc",defaultValue:sap.m.HeaderLevel.H4},"showGroupHeader":{type:"boolean",group:"Misc",defaultValue:true},"visible":{type:"boolean",group:"Misc",defaultValue:true},"sortable":{type:"boolean",group:"Misc",defaultValue:true},"showNoData":{type:"boolean",group:"Misc",defaultValue:false},"noDataText":{type:"string",group:"Misc",defaultValue:null}},aggregations:{"tiles":{type:"sap.ushell.ui.launchpad.Tile",multiple:true,singularName:"tile"},"footerContent":{type:"sap.ui.core.Control",multiple:true,singularName:"footerContent"}},events:{"afterRendering":{},"add":{}}}});sap.ushell.ui.launchpad.TileContainer.M_EVENTS={'afterRendering':'afterRendering','add':'add'};
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";jQuery.sap.require("sap.ushell.override");sap.ushell.ui.launchpad.TileContainer.prototype.init=function(){jQuery.sap.require("sap.ushell.ui.launchpad.PlusTile");this.oPlusTile=new sap.ushell.ui.launchpad.PlusTile({groupId:this.getGroupId(),press:[this.fireAdd,this]});this.oPlusTile.setParent(this)};sap.ushell.ui.launchpad.TileContainer.prototype.exit=function(){if(this.oPlusTile){this.oPlusTile.destroy()}};sap.ushell.ui.launchpad.TileContainer.prototype.onAfterRendering=function(){this.setVisible();this.fireAfterRendering()};sap.ushell.ui.launchpad.TileContainer.prototype.updateAggregation=sap.ushell.override.updateAggregation;sap.ushell.ui.launchpad.TileContainer.prototype.updateTiles=function(r){var n="tiles";if(this.isTreeBinding(n)){sap.ui.base.ManagedObject.prototype.updateAggregation.apply(this,arguments)}else{jQuery.sap.log.debug("Updating TileContainer. Reason: ",r);switch(r){case"filter":try{this.filterTiles()}catch(e){this.updateAggregation(n)}break;default:this.updateAggregation(n)}}};sap.ushell.ui.launchpad.TileContainer.prototype.handleNoItemsToDisplayMessage=function(i){if(i){this.setNoDataText('');this.$().find(".sapUshellNoFilteredItems").removeAttr("tabindex")}else{if(this.getShowNoData()){if(this.getNoDataText()){this.setNoDataText(this.getNoDataText())}else{this.setNoDataText(sap.ushell.resources.i18n.getText("noFilteredItems"))}this.$().find(".sapUshellNoFilteredItems").attr("tabindex",0)}}};sap.ushell.ui.launchpad.TileContainer.prototype.createMissingElementsInOnScreenElements=function(i,e,a,g,s,b,f,A){var p,n=null,G=null,j=a,S=this.getShowGroupHeader(),c=e.length;for(j=a;j<c;j++){p=e[j].getPath();if(!i.onScreenPathIndexMap[p]){var o;if(g&&s.length>0){n=s[0].fnGroup(e[j]);if(typeof n==="string"){n={key:n}}if(G===null&&j>0){G=s[0].fnGroup(e[j-1])}if(n.key!==G){if(b.groupHeaderFactory){o=b.groupHeaderFactory(n)}if(!i.onScreenHeaders[n.key]){A(n,o);i.onScreenHeaders[n.key]={aItemsRefrenceIndex:this.getTiles().length-1,isVisible:S}}G=n.key}}f(e[j]);i.onScreenPathIndexMap[p]={aItemsRefrenceIndex:this.getTiles().length-1,isVisible:true}}else{throw true}}};sap.ushell.ui.launchpad.TileContainer.prototype.addNewItem=function(e){var n="tiles",a=this.getMetadata().getJSONKeys()[n],b=this.mBindingInfos[n],f=b.factory,c=$.proxy(function(C){var i=this.getId()+"-"+jQuery.sap.uid(),o=f(i,C);o.setBindingContext(C,b.model);this[a._sMutator](o)},this);c(e)};sap.ushell.ui.launchpad.TileContainer.prototype.markVisibleOnScreenElements=function(e,i){var a=0,p,b=e.length;for(a=0;a<b;a++){p=e[a].getPath();if(i.onScreenPathIndexMap[p]){i.onScreenPathIndexMap[p].isVisible=true}else{return a}}return a};sap.ushell.ui.launchpad.TileContainer.prototype.indexOnScreenElements=function(o){var p,i,a={onScreenHeaders:{},onScreenPathIndexMap:{}},b=o.length;for(i=0;i<b;i++){var c=o[i];if(c.getHeaderText){a.onScreenHeaders[c.getHeaderText()]={aItemsRefrenceIndex:i,isVisible:false}}else if(c.getBindingContext()){p=c.getBindingContext().getPath();a.onScreenPathIndexMap[p]={aItemsRefrenceIndex:i,isVisible:false}}}return a};sap.ushell.ui.launchpad.TileContainer.prototype.showHideTilesAndHeaders=function(i,o){var s,n="tiles",a=false,S=this.getShowGroupHeader(),b=this.mBindingInfos[n].binding,e;for(s in i.onScreenPathIndexMap){if(i.onScreenPathIndexMap.hasOwnProperty(s)){e=i.onScreenPathIndexMap[s];var r=o[e.aItemsRefrenceIndex];r.setVisible(e.isVisible);if(e.isVisible){var g=b.aSorters[0].fnGroup(r.getBindingContext());i.onScreenHeaders[g].isVisible=S;a=true}}}for(s in i.onScreenHeaders){if(i.onScreenHeaders.hasOwnProperty(s)){e=i.onScreenHeaders[s];o[e.aItemsRefrenceIndex].setVisible(e.isVisible)}}return a};sap.ushell.ui.launchpad.TileContainer.prototype.filterTiles=function(){var n="tiles",b=this.mBindingInfos[n],B=this.mBindingInfos[n].binding,a=B.getContexts(),i=this.getTiles(),c=false,d;var e=this.indexOnScreenElements(i);d=this.markVisibleOnScreenElements(a,e);if(a[d]&&this.getTiles().length>0){var l=this.getTiles()[this.getTiles().length-1].getBindingContext().getPath();var f=a[d].getPath();var s=l.split('/');var g=f.split('/');var h=s[s.length-1];var j=g[g.length-1];if(parseInt(h)>parseInt(j)){throw true}}this.createMissingElementsInOnScreenElements(e,a,d,B.isGrouped(),B.aSorters,b,this.addNewItem.bind(this),this.addTileGroup.bind(this));i=this.getTiles();c=this.showHideTilesAndHeaders(e,i);this.handleNoItemsToDisplayMessage(c)};sap.ushell.ui.launchpad.TileContainer.prototype.addTileGroup=function(g,h){this.addAggregation("tiles",h||new sap.ushell.ui.launchpad.HeaderTile({headerText:g.text||g.key,headerLevel:g.headerLevel||this.getGroupHeaderLevel(),visible:this.getShowGroupHeader()}).addStyleClass("sapUshellTileContainerHdr"))};sap.ushell.ui.launchpad.TileContainer.prototype.setNoDataText=function(n){this.setProperty("noDataText",n,true);if(this.getShowNoData()){this.$().find(".sapUshellNoFilteredItems").text(n)}return this};sap.ushell.ui.launchpad.TileContainer.prototype.setGroupId=function(v){this.setProperty("groupId",v,true);if(this.oPlusTile){this.oPlusTile.setGroupId(v)}return this};sap.ushell.ui.launchpad.TileContainer.prototype.setHeaderText=function(h){this.setProperty("headerText",h,true);this.$().find(".sapUshellContainerTitle").text(h);return this};sap.ushell.ui.launchpad.TileContainer.prototype.setSortable=function(s){if(s){this.$().find(".ui-sortable").sortable('enable')}else{this.$().find(".ui-sortable").sortable('disable')}return this};sap.ushell.ui.launchpad.TileContainer.prototype.setVisible=function(v){if(!this.groupHasVisibleTiles()&&sap.ui.getCore().byId("shell")&&sap.ui.getCore().byId("shell").getModel()&&!sap.ui.getCore().byId("shell").getModel().getProperty("/personalization")){v=false}this.setProperty("visible",v);return this.toggleStyleClass("sapUshellHidden",!v)};sap.ushell.ui.launchpad.TileContainer.prototype.groupHasVisibleTiles=function(){var p='',t=this.getTiles();if(this.getBindingContext()){p=this.getBindingContext().sPath;t=this.getModel().getProperty(p).tiles}return sap.ushell.utils.groupHasVisibleTiles(t)}}())},"sap/ushell/ui/launchpad/TileContainerRenderer.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.resources");jQuery.sap.declare("sap.ushell.ui.launchpad.TileContainerRenderer");sap.ushell.ui.launchpad.TileContainerRenderer={};sap.ushell.ui.launchpad.TileContainerRenderer.render=function(r,c){var t=c.getTiles(),f=c.getFooterContent()||[],h=(c.getDefaultGroup()&&t.length===0)||!c.getVisible(),v=false;r.write("<div");r.writeControlData(c);r.addClass("sapUshellTileContainer");r.writeAttribute("tabindex","0");r.writeClasses();if(h){r.addStyle("display","none");r.writeStyles()}r.write(">");r.write("<a");r.addClass("sapUshellContainerPositionAnchor");r.writeClasses();r.writeAttribute("name",c.getId()+"-position");r.write("></a>");if(c.getShowHeader()){r.write("<");r.write(c.getHeaderLevel().toLowerCase());r.addClass('sapUshellContainerTitle');r.addClass("sapUiStrongBackgroundTextColor");r.writeClasses();r.write(">");r.writeEscaped(c.getHeaderText());r.write("</");r.write(c.getHeaderLevel().toLowerCase());r.write(">")}r.write("<div");r.addClass('sapUshellTilesContainer-sortable');r.addClass('sapUshellInner');r.writeClasses();r.write(">");jQuery.each(t,function(i,a){if(a.getVisible()){v=true}if(this.getVisible){r.renderControl(this)}});if(c.getShowPlaceholder()&&t.length===0&&!h){r.renderControl(c.oPlusTile)}if(c.getShowNoData()){this.renderNoData(r,c,!t.length||!v)}r.write("</div>");if(f.length>0){r.write("<footer");r.addClass('sapUshellTilesContainerFtr');r.writeClasses();r.write(">");jQuery.each(f,function(){r.renderControl(this)});r.write("</footer>")}r.write("</div>")};sap.ushell.ui.launchpad.TileContainerRenderer.renderNoData=function(r,c,d){r.write("<div id='"+c.getId()+"-listNoData' class='sapUshellNoFilteredItems sapUiStrongBackgroundTextColor'>");if(d){if(c.getNoDataText()){r.writeEscaped(c.getNoDataText())}else{r.writeEscaped(c.getNoDataText(sap.ushell.resources.i18n.getText("noFilteredItems")))}}else{r.writeEscaped("")}r.write("</div>")}}())},"sap/ushell/ui/launchpad/TileRenderer.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.resources");jQuery.sap.declare("sap.ushell.ui.launchpad.TileRenderer");sap.ushell.ui.launchpad.TileRenderer={};var t=sap.ushell.resources.i18n;sap.ushell.ui.launchpad.TileRenderer.render=function(r,c){var T=null;try{T=c.getTileViews()[0]}catch(e){jQuery.sap.log.warning("Failed to load tile view: ",e.message);T=new sap.m.Text({text:"Failed to load. "})}r.write("<div");r.writeControlData(c);r.addClass("sapUshellTile");if(c.getFootItems()&&c.getFootItems().length>0){r.addClass("sapUshellTileFooter")}if(c.getLong()){r.addClass("sapUshellLong")}if(c.getTall()){r.addClass("sapUshellTall")}if(!c.getVisible()){r.addClass("sapUshellHidden")}r.writeClasses();r.writeAccessibilityState(c,{role:'link',label:t.getText("TileDetails_lable")});r.write(">");r.addClass("sapUshellTileInner");if(this.renderTileView){this.renderTileView(r,T,c.getTarget())}r.write("<footer");r.addClass("sapUshellTileFooterElement");r.writeClasses();r.write(">");jQuery.each(c.getFootItems(),function(){r.renderControl(this)});r.write("</footer>");r.write("</div>")};sap.ushell.ui.launchpad.TileRenderer.renderTileView=function(r,T,s){if((s||"")!==""){r.write("<a");r.writeClasses();r.writeAttributeEscaped("href","#"+s);r.write(">");r.renderControl(T);r.write("</a>")}else{r.write("<div");r.writeClasses();r.writeAttribute("title",sap.ushell.resources.i18n.getText("launchTile_tooltip"));r.write(">");r.renderControl(T);r.write("</div>")}}}())},"sap/ushell/ui/tile/DynamicTile.js":function(){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.ui.tile.DynamicTile");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.ushell.ui.tile.TileBase");sap.ushell.ui.tile.TileBase.extend("sap.ushell.ui.tile.DynamicTile",{metadata:{library:"sap.ushell",properties:{"numberValue":{type:"string",group:"Data",defaultValue:'0.0'},"numberState":{type:"sap.ushell.ui.tile.State",group:"Appearance",defaultValue:sap.ushell.ui.tile.State.Neutral},"numberUnit":{type:"string",group:"Data",defaultValue:null},"numberDigits":{type:"int",group:"Appearance",defaultValue:0},"stateArrow":{type:"sap.ushell.ui.tile.StateArrow",group:"Appearance",defaultValue:sap.ushell.ui.tile.StateArrow.None},"numberFactor":{type:"string",group:"Data",defaultValue:null}}}})
// Copyright (c) 2013 SAP AG, All Rights Reserved
},"sap/ushell/ui/tile/DynamicTileRenderer.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.ui.tile.DynamicTileRenderer");jQuery.sap.require("sap.ushell.ui.tile.TileBaseRenderer");jQuery.sap.require("sap.ushell.ui.tile.State");jQuery.sap.require("sap.ui.core.format.NumberFormat");sap.ushell.ui.tile.DynamicTileRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.tile.TileBaseRenderer);var t=sap.ushell.resources.i18n;sap.ushell.ui.tile.DynamicTileRenderer.renderPart=function(r,c){r.write("<div");r.addClass("sapUshellDynamicTile");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUshellDynamicTileData");r.addClass((c.getNumberState()?"sapUshellDynamicTileData"+c.getNumberState():"sapUshellDynamicTileData"+sap.ushell.ui.tile.State.Neutral));r.writeClasses();r.write(">");r.write("<div class='sapUshellDynamicTileIndication'>");if(c.getStateArrow()){r.write("<div");r.addClass("sapUshellDynamicTileStateArrow");r.addClass("sapUshellDynamicTileData"+c.getStateArrow());r.writeClasses();r.write(">");r.write("</div>")}r.write('<br><div');r.addClass("sapUshellDynamicTileNumberFactor");r.writeClasses();r.writeAccessibilityState(c,{label:t.getText("TileUnits_lable")+c.getNumberFactor()});r.write('>');r.writeEscaped(c.getNumberFactor());r.write('</div>');r.write("</div>");var n=c.getNumberValue(),a;if(typeof n==="string"&&isNaN(parseFloat(n))){a=n}else{var N=sap.ui.core.format.NumberFormat.getFloatInstance({maxFractionDigits:c.getNumberDigits()});a=N.format(c.getNumberValue())}r.write('<div');r.addClass("sapUshellDynamicTileNumber");r.writeClasses();if(a&&a!==""){r.writeAccessibilityState(c,{label:t.getText("TileValue_lable")+a});r.write('>');r.writeEscaped(a)}else{r.write('>');r.writeEscaped(c.getNumberValue())}r.write('</div>');r.write("</div>");r.write("</div>")};sap.ushell.ui.tile.DynamicTileRenderer.getInfoPrefix=function(c){return c.getNumberUnit()}}())},"sap/ushell/ui/tile/StaticTile.js":function(){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.ui.tile.StaticTile");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.ushell.ui.tile.TileBase");sap.ushell.ui.tile.TileBase.extend("sap.ushell.ui.tile.StaticTile",{metadata:{library:"sap.ushell"}})
// Copyright (c) 2013 SAP AG, All Rights Reserved
},"sap/ushell/ui/tile/StaticTileRenderer.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.ui.tile.StaticTileRenderer");jQuery.sap.require("sap.ushell.ui.tile.TileBaseRenderer");sap.ushell.ui.tile.StaticTileRenderer=sap.ui.core.Renderer.extend(sap.ushell.ui.tile.TileBaseRenderer);sap.ushell.ui.tile.StaticTileRenderer.renderPart=function(r,c){r.write("<span");r.addClass("sapUshellStaticTile");r.writeClasses();r.write(">");r.write("</span>")}}())},"sap/ushell/ui/tile/TileBase.js":function(){
/*!
 * SAP UI development toolkit for HTML5 (SAPUI5) (c) Copyright 2009-2013 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.ushell.ui.tile.TileBase");jQuery.sap.require("sap.ushell.library");jQuery.sap.require("sap.ui.core.Control");sap.ui.core.Control.extend("sap.ushell.ui.tile.TileBase",{metadata:{library:"sap.ushell",properties:{"title":{type:"string",group:"Data",defaultValue:null},"subtitle":{type:"string",group:"Data",defaultValue:null},"icon":{type:"string",group:"Data",defaultValue:null},"info":{type:"string",group:"Data",defaultValue:null},"infoState":{type:"sap.ushell.ui.tile.State",group:"",defaultValue:sap.ushell.ui.tile.State.Neutral},"targetURL":{type:"string",group:"Behavior",defaultValue:null},"highlightTerms":{type:"any",group:"Appearance",defaultValue:[]},"actions":{type:"any",group:"Appearance",defaultValue:[]}},aggregations:{"content":{type:"sap.ui.core.Control",multiple:true,singularName:"content"}},events:{"press":{}}}});sap.ushell.ui.tile.TileBase.M_EVENTS={'press':'press'};
// Copyright (c) 2013 SAP AG, All Rights Reserved
(function(){"use strict";function _(p,c){if(c!=null){while(c.parentNode){if((c=c.parentNode)==p){return true}}}return false}var a=undefined;sap.ushell.ui.tile.TileBase.prototype._getActionButton=function(d){var b={press:function(){var t=b.targetURL;if(typeof t!=="string"){return}t=jQuery.trim(t);if(t.length){var n=sap.ushell.Container.getService("CrossApplicationNavigation");n.toExternal({target:{shellHash:t}})}}};jQuery.extend(b,d);return new sap.m.Button(b)};sap.ushell.ui.tile.TileBase.prototype.setActions=function(b){this.setProperty('actions',b);if((!b||!b.length)&&!this.oActionSheet){return}if(!jQuery.sap.isDeclared('sap.m.ActionSheet')){jQuery.sap.require("sap.m.Button");jQuery.sap.require("sap.m.ActionSheet")}if(!b||!b.length){this.oActionSheet.destroy();delete this.oActionSheet;return}if(!this.oActionSheet){this.oActionSheet=new sap.m.ActionSheet({placement:sap.m.PlacementType.Auto})}this.oActionSheet.removeAllButtons();for(var i=0;i<b.length;i++){this.oActionSheet.addButton(this._getActionButton(b[i]))}return this};sap.ushell.ui.tile.TileBase.prototype.ontap=function(e){this.firePress({})};sap.ushell.ui.tile.TileBase.prototype.onsapenter=function(e){this.firePress({})};sap.ushell.ui.tile.TileBase.prototype.onsapspace=function(e){this.firePress({})};sap.ushell.ui.tile.TileBase.prototype.onmouseover=function(e){if(!sap.ui.Device.system.desktop){return}if(this._mouseOverInProgress||(this.oActionSheet&&this.oActionSheet.isOpen()))return;this._mouseOverInProgress=true;var b=this.getActions();if(!b||!b.length)return;this._showActionsTimeout=setTimeout((function(){if(!this.oActionSheet)return;if(typeof a==='object'){try{a.close()}catch(e){}}this.oActionSheet.openBy(this.getParent());a=this.oActionSheet}).bind(this),800)};sap.ushell.ui.tile.TileBase.prototype.onmouseout=function(e){var b=this.getDomRef();var c=null;if(e.toElement){c=event.toElement}else if(e.relatedTarget){c=event.relatedTarget}if(!_(b,c)&&b!=c){this._mouseOverInProgress=false;clearTimeout(this._showActionsTimeout)}}}())},"sap/ushell/ui/tile/TileBaseRenderer.js":function(){(function(){"use strict";jQuery.sap.require("sap.ushell.resources");jQuery.sap.declare("sap.ushell.ui.tile.TileBaseRenderer");sap.ushell.ui.tile.TileBaseRenderer={};var t=sap.ushell.resources.i18n;sap.ushell.ui.tile.TileBaseRenderer.highlight=function(h,T){var i,r,e=jQuery.sap.encodeHTML(T).replace(/&#xa;/g,"<br/>");if(h&&h.length&&h.length>0){for(i=0;i<h.length;i=i+1){r=new RegExp("("+jQuery.sap.encodeHTML(h[i]).replace(/([.*+?\^=!:${}()|\[\]\/\\])/g,"\\$1")+")","gi");e=e.replace(r,"<b>$1</b>")}}return e};sap.ushell.ui.tile.TileBaseRenderer.render=function(r,c){var T=t.getText('launchTileTitle_tooltip',[c.getTitle()]),i,I;r.write("<div");r.writeControlData(c);if(c.getTargetURL()){r.writeAttributeEscaped("data-targeturl",c.getTargetURL())}r.writeAttributeEscaped("tabindex","0");r.addClass("sapUshellTileBase");r.writeClasses();r.write(">");r.write("<div");r.addClass("sapUshellTileBaseHeader");r.writeClasses();r.write(">");r.write("<h3");r.addClass("sapUshellTileBaseTitle");r.writeClasses();r.writeAttributeEscaped('title',T);r.writeAccessibilityState(c,{label:t.getText("TileTitle_lable")+c.getTitle()});r.write(">");r.write(this.highlight(c.getHighlightTerms(),c.getTitle()||""));r.write("</h3>");if(c.getSubtitle()){r.write("<h4");r.addClass("sapUshellTileBaseSubtitle");r.writeClasses();r.writeAccessibilityState(c,{label:t.getText("TileSubTitle_lable")+c.getSubtitle()});r.write(">");r.write(this.highlight(c.getHighlightTerms(),c.getSubtitle()));r.write("</h4>")}r.write("</div>");if(typeof(this.renderPart)==='function'){this.renderPart(r,c)}if(c.getIcon()){I=new sap.ui.core.Icon({src:c.getIcon()});I.addStyleClass("sapUshellTileBaseIcon");r.renderControl(I)}if(c.getInfo()||((typeof(this.getInfoPrefix)==='function'))&&this.getInfoPrefix(c)){r.write("<div");r.addClass("sapUshellTileBaseInfo");r.addClass(c.getInfoState()?"sapUshellTileBase"+c.getInfoState():"sapUshellTileBase"+sap.ushell.ui.tile.State.Neutral);r.writeClasses();r.writeAccessibilityState(c,{label:t.getText("TileInfo_lable")+c.getInfo()});r.write(">");if(typeof(this.getInfoPrefix)==='function'){i=this.getInfoPrefix(c);r.writeEscaped(i)}if(c.getInfo()){if(i){r.write(", ")}r.write(this.highlight(c.getHighlightTerms(),c.getInfo()))}r.write("</div>")}r.write("</div>")}}())},"sap/ushell/utils.js":function(){(function(){"use strict";jQuery.sap.declare("sap.ushell.utils");sap.ushell.utils={};var v;sap.ushell.utils.Error=function(m,c){this.name="sap.ushell.utils.Error";this.message=m;jQuery.sap.log.error(m,null,c)};sap.ushell.utils.Error.prototype=new Error();sap.ushell.utils.localStorageSetItem=function(k,V,l){var E;try{localStorage.setItem(k,V);if(l){E=document.createEvent("StorageEvent");E.initStorageEvent("storage",false,false,k,"",V,"",localStorage);dispatchEvent(E)}}catch(e){jQuery.sap.log.warning("Error calling localStorage.setItem(): "+e,null,"sap.ushell.utils")}};sap.ushell.utils.Map=function(){this.entries={}};sap.ushell.utils.Map.prototype.put=function(k,V){var o=this.get(k);this.entries[k]=V;return o};sap.ushell.utils.Map.prototype.containsKey=function(k){if(typeof k!=="string"){throw new sap.ushell.utils.Error("Not a string key: "+k,"sap.ushell.utils.Map")}return Object.prototype.hasOwnProperty.call(this.entries,k)};sap.ushell.utils.Map.prototype.get=function(k){if(this.containsKey(k)){return this.entries[k]}};sap.ushell.utils.Map.prototype.keys=function(){return Object.keys(this.entries)};sap.ushell.utils.Map.prototype.remove=function(k){delete this.entries[k]};sap.ushell.utils.Map.prototype.toString=function(){var r=['sap.ushell.utils.Map('];r.push(JSON.stringify(this.entries));r.push(')');return r.join('')};sap.ushell.utils.testPublishAt=function(o,e){};sap.ushell.utils.handleTilesVisibility=function(){clearTimeout(v);v=setTimeout(function(){var s=new Date(),t=sap.ushell.utils.getVisibleTiles();if((typeof t!="undefined")&&t.length>0){var l=sap.ushell.Container.getService("LaunchPage");t.forEach(function(T){l.setTileVisible(sap.ushell.utils.getTileObject(T),T.isDisplayedInViewPort)});jQuery.sap.log.debug("Visible Tiles: "+t.filter(function(T){return T.isDisplayedInViewPort}).length);jQuery.sap.log.debug("NonVisible Tiles: "+t.filter(function(T){return!T.isDisplayedInViewPort}).length)}var d=new Date()-s;jQuery.sap.log.debug("Start time is: "+s+" and duration is: "+d)},1000)};sap.ushell.utils.setTilesNoVisibility=function(){var t=sap.ushell.utils.getVisibleTiles();if((typeof t!=="undefined")&&t.length>0){var l=sap.ushell.Container.getService("LaunchPage");t.forEach(function(T){l.setTileVisible(sap.ushell.utils.getTileObject(T),false)});jQuery.sap.log.debug("Visible Tiles: "+t.filter(function(T){return T.isDisplayedInViewPort}).length);jQuery.sap.log.debug("NonVisible Tiles: "+t.filter(function(T){return!T.isDisplayedInViewPort}).length)}};sap.ushell.utils.getBasicHash=function(h){if(!sap.ushell.utils.validHash(h)){jQuery.sap.log.debug("Utils ; getBasicHash ; Got invalid hash");return}var u=sap.ushell.Container.getService("URLParsing"),s=u.parseShellHash(h);return s?s.semanticObject+"-"+s.action:h};sap.ushell.utils.validHash=function(h){return(h&&h.constructor===String&&$.trim(h)!="")};sap.ushell.utils.handleTilesOpacity=function(){jQuery.sap.require("sap.ui.core.theming.Parameters");var t=this,T,c,a,b,C=sap.ui.core.theming.Parameters.get("sapUshellTileBackgroundColor"),r=this.hexToRgb(C),j,d,R,e,s,f,o,p,g,h,i=sap.ui.getCore(),m=i.byId("shell").getModel(),u=sap.ushell.Container.getService("UserRecents");if(r){R="rgba("+r.r+","+r.g+","+r.b+",{0})";a=u.getAppsUsage();a.done(function(b){T=b.usageMap;j=jQuery('.sapUshellTile');var k=m.getProperty("/groups");m.setProperty('/animationRendered',true);for(var l=0;l<j.length;l++){e=jQuery(j[l]);s=this.getBasicHash(e.find('.sapUshellTileBase').attr('data-targeturl'));if(s){d=this.convertToRealOpacity(T[s],b.maxUsage);f=R.replace("{0}",d);c=sap.ui.getCore().byId(e.attr('id'));o=c.getBindingContext();p=o.sPath.split('/');g=p[2];h=p[4];k[g].tiles[h].rgba=f}}m.setProperty("/groups",k)}.bind(this))}};sap.ushell.utils.convertToRealOpacity=function(a,m){var o=[1,0.95,0.9,0.85,0.8],O=Math.floor(m/o.length),i;if(!a){return o[0]}else if(!m){return o[o.length-1]}else{i=Math.floor((m-a)/O);return i<o.length?o[i]:o[o.length-1]}};sap.ushell.utils.hexToRgb=function(h){var i=!h||h[0]!='#'||(h.length!=4&&h.length!=7),r;h=!i&&h.length===4?'#'+h[1]+h[1]+h[2]+h[2]+h[3]+h[3]:h;r=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(h);return r?{r:parseInt(r[1],16),g:parseInt(r[2],16),b:parseInt(r[3],16)}:null};sap.ushell.utils.getVisibleTiles=function(){var n=document.body.clientHeight,c=sap.ui.getCore().byId("dashboardGroups"),N=sap.ui.getCore().byId("navContainer"),g,t,a,b,T,d,e,f,h,s=jQuery('#shell-hdr').height(),i=[];if(c&&c.getGroups()&&N){var C=N.getModel().getProperty("/currentState/stateName"),I=C==="home",G=c.getGroups();for(g=0;g<G.length;g=g+1){a=G[g];b=a.getTiles();if(b){for(t=0;t<b.length;t=t+1){T=b[t];if(!I){T.isDisplayedInViewPort=false}else{d=jQuery(T.getDomRef());e=d.offset();if(!e){return}f=d.offset().top;h=f+d.height();T.isDisplayedInViewPort=(h>s)&&(f<n)}i.push(T)}}}}return i};sap.ushell.utils.getTileObject=function(u){var b=u.getBindingContext();return b.getObject().object};sap.ushell.utils.addBottomSpace=function(){var j=jQuery('#dashboardGroups').find('.sapUshellTileContainer'),o=jQuery('#dashboardPage').offset(),e=o&&o.top;var n=jQuery(window).height()-e-j.last().parent().height();n=(n<0)?0:n;jQuery('.sapUshellDashboardGroupsContainer').css("margin-bottom",n+"px")};sap.ushell.utils.groupHasVisibleTiles=function(g){var a=false,t,b;if(!g||(g&&g.length===0)){return false}for(t=0;t<g.length;t=t+1){b=g[t];if(b.isTileIntentSupported){a=true;break}}return a}}())}}});jQuery.sap.require("sap.ui.core.Core");sap.ui.getCore().boot&&sap.ui.getCore().boot();
