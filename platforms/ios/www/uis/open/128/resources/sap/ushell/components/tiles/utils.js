// Copyright (c) 2013 SAP AG, All Rights Reserved
this.sap=this.sap||{};(function(){"use strict";jQuery.sap.declare("sap.ushell.components.tiles.utils");sap=sap||{};sap.ushell=sap.ushell||{};sap.ushell.components=sap.ushell.components||{};sap.ushell.components.tiles=sap.ushell.components.tiles||{};sap.ushell.components.tiles.utils=sap.ushell.components.tiles.utils||{};if(sap.ushell.components.tiles.utils.getConfiguration){return}var t;function s(q){var n=q.replace(/\+/g,' ').split("&"),p,i,r=[];for(i=0;i<n.length;i+=1){p=n[i].split("=");r.push({name:decodeURIComponent(p.shift()),value:decodeURIComponent(p.join("="))})}return r}sap.ushell.components.tiles.utils.isInitial=function(T){return T==="App Launcher – Static"||T==="App Launcher – Dynamic"||T==="Target Mapping"};sap.ushell.components.tiles.utils.getResourceBundleModel=function(){jQuery.sap.require("sap.ushell.resources");return sap.ushell.resources.i18nModel};sap.ushell.components.tiles.utils.getConfiguration=function(T,A,e){var r,c=T.configuration.getParameterValueAsString('tileConfiguration'),C=JSON.parse(c||"{}"),b=sap.ushell.components.tiles.utils.getTranslatedTitle(T),S=sap.ushell.components.tiles.utils.getTranslatedSubtitle(T,C),i=sap.ushell.components.tiles.utils.getTranslatedProperty(T,C,'display_info_text'),k=sap.ushell.components.tiles.utils.getTranslatedProperty(T,C,'display_search_keywords');if(A){r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();if(e&&T.bag){var o=T.bag.getOriginalLanguage();var u=sap.ui.getCore().getConfiguration().getLanguage();C.isLocaleSuitable=o===""||o.toLowerCase()===u.toLowerCase();C.orgLocale=o;C.userLocale=u}}C.display_icon_url=C.display_icon_url||"";C.display_info_text=i||C.display_info_text||(A&&!e?"["+r.getText("configuration.display_info_text")+"]":"");C.navigation_semantic_object=C.navigation_semantic_object||"";C.navigation_semantic_action=C.navigation_semantic_action||"";C.navigation_semantic_parameters=C.navigation_semantic_parameters||"";C.display_number_unit=C.display_number_unit||"";C.display_number_factor=C.display_number_factor||"";C.service_refresh_interval=C.service_refresh_interval||0;C.service_url=C.service_url||"";C.navigation_target_url=C.navigation_target_url||"";if(A&&sap.ushell.components.tiles.utils.isInitial(b)){C.display_title_text=e?"":"["+r.getText("configuration.display_title_text")+"]"}else{C.display_title_text=b||C.display_title_text||""}C.display_subtitle_text=S||C.display_subtitle_text||(A&&!e?"["+r.getText("configuration.display_subtitle_text")+"]":"");C.navigation_use_semantic_object=(C.navigation_use_semantic_object===false?false:true);C.display_search_keywords=k||C.display_search_keywords||"";if(A){C.display_number_value=C.display_number_value||1234}C.form_factors=C.form_factors?C.form_factors:this.getDefaultFormFactors();C.desktopChecked=C.form_factors.manual.desktop;C.tabletChecked=C.form_factors.manual.tablet;C.phoneChecked=C.form_factors.manual.phone;C.manualFormFactor=!(C.form_factors.appDefault);C.appFormFactor=C.form_factors.appDefault;C.formFactorConfigDefault=C.form_factors.defaultParam?true:false;C.rows=(C.mapping_signature&&C.mapping_signature!=="*=*")?this.getMappingSignatureTableData(C.mapping_signature):[this.getEmptyRowObj()];C.isUnknownAllowed=(C.mapping_signature!==undefined)?this.getAllowUnknownParametersValue(C.mapping_signature):true;return C};sap.ushell.components.tiles.utils.getEmptyRowObj=function(){return{name:"",mandatory:false,value:"",isRegularExpression:false,defaultValue:"",valEnabled:false,defValEnabled:true}};sap.ushell.components.tiles.utils.getDefaultFormFactors=function(){return{"appDefault":false,"manual":{"desktop":true,"tablet":true,"phone":true},"defaultParam":true}};sap.ushell.components.tiles.utils.buildFormFactorsObject=function(m){return{"appDefault":m.getProperty("/config/appFormFactor"),"manual":{"desktop":m.getProperty("/config/desktopChecked"),"tablet":m.getProperty("/config/tabletChecked"),"phone":m.getProperty("/config/phoneChecked")}}};sap.ushell.components.tiles.utils.tableHasDuplicateParameterNames=function(T){var p={};for(var i=0;i<T.length;i++){var b=T[i].name;if(b!==""){if(p[b]){return true}else{p[b]=true}}}return false};sap.ushell.components.tiles.utils.getMappingSignatureString=function(b,c){var m="";for(var i=0;i<b.length;i++){if(b[i].name){m+=(g(b[i])+"&")}}return c?m+"*=*":m.substring(0,m.length-1)};var g=function(b){var p="";if(b.mandatory){if(b.isRegularExpression){p="{"+b.name+"="+encodeURIComponent(b.value)+"}"}else{p=b.name+"="+encodeURIComponent(b.value)}}else{p="["+b.name+"="+encodeURIComponent(b.defaultValue)+"]"}return p};sap.ushell.components.tiles.utils.getMappingSignatureTableData=function(m){var p=[];var b=m.split("&");for(var i=0;i<b.length;i++){var c=b[i];if(c!=="*=*"){p.push(a(b[i]))}}return p};var a=function(p){var b={};if(p.charAt(0)==="["){b.mandatory=false;b.isRegularExpression=false;b.value="";p=p.substring(1,p.length-1);b.name=p.substring(0,p.indexOf("="));b.defaultValue=decodeURIComponent(p.substring(p.indexOf("=")+1))}else{b.mandatory=true;b.defaultValue="";if(p.charAt(0)==="{"){b.isRegularExpression=true;p=p.substring(1,p.length-1)}else{b.isRegularExpression=false}b.name=p.substring(0,p.indexOf("="));b.value=decodeURIComponent(p.substring(p.indexOf("=")+1))}b.valEnabled=b.mandatory;b.defValEnabled=!b.mandatory;return b};sap.ushell.components.tiles.utils.getAllowUnknownParametersValue=function(m){if(m&&(m.substring(m.length-3,m.length)==="*=*")){return true}else{return false}};sap.ushell.components.tiles.utils.getTranslatedTitle=function(T){if(T.bag){var b=T.bag.getBag('tileProperties');if(b.getTextNames().indexOf("display_title_text")>=0){return b.getText('display_title_text')}}if(T.title){return T.title.getTitle()}if(T.preview){return T.preview.getTitle()}return""};sap.ushell.components.tiles.utils.getTranslatedSubtitle=function(T,c){if(T.bag){var b=T.bag.getBag('tileProperties');if(b.getTextNames().indexOf("display_subtitle_text")>=0){return b.getText('display_subtitle_text')}}if(T.preview&&T.preview.getDescription&&T.preview.getDescription()){return T.preview.getDescription()}return c['display_subtitle_text']};sap.ushell.components.tiles.utils.getTranslatedProperty=function(T,o,p){if(T.bag){var b=T.bag.getBag('tileProperties');if(b.getTextNames().indexOf(p)>=0){return b.getText(p)}}return o[p]};sap.ushell.components.tiles.utils.getActionConfiguration=function(c,A){var C=JSON.parse(c||"{}"),r;if(A){r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle()}C.semantic_object=C.semantic_object||(A?"["+r.getText("configuration.semantic_object")+"]":"");C.semantic_action=C.semantic_action||(A?"["+r.getText("configuration.semantic_action")+"]":"");C.navigation_provider=C.navigation_provider||"";C.navigation_provider_role=C.navigation_provider_role||"";C.navigation_provider_instance=C.navigation_provider_instance||"";C.target_application_id=C.target_application_id||"";C.target_application_alias=C.target_application_alias||"";C.display_info_text=C.display_info_text||"";return C};sap.ushell.components.tiles.utils.getConfigurationUi=function(v,V){var o=v.getViewData(),T=o.chip,c,S,A;var C=sap.ushell.components.tiles.utils.getConfiguration(T,true,true);var b=new sap.ui.model.json.JSONModel({config:C,tileModel:v.getModel()});c=new sap.ui.view({type:sap.ui.core.mvc.ViewType.XML,viewData:o,viewName:V});c.setModel(b);S=c.byId("navigation_semantic_objectInput")||c.byId("semantic_objectInput");if(S){S.getModel().setProperty("/enabled",C.navigation_use_semantic_object);S.getModel().setProperty("/value",C.semantic_object||C.navigation_semantic_object)}A=c.byId("typeLpd_cust");if(A){if(v.getModel().getProperty('/config/navigation_provider')=="LPD"||v.getModel().getProperty('/config/navigation_provider')==''){c.byId("typeLpd_cust").setSelected(true);c.byId("typeSapui5").setSelected(false);sap.ushell.components.tiles.utils.displayLpdCustApplicationTypeFields(c)}else if(v.getModel().getProperty('/config/navigation_provider')=="SAPUI5"){c.byId("typeLpd_cust").setSelected(false);c.byId("typeSapui5").setSelected(true);sap.ushell.components.tiles.utils.displaySapui5ApplicationTypeFields(c)}}return c};sap.ushell.components.tiles.utils.getDataToDisplay=function(c,d){var b=0,i,n,C,e,D={display_icon_url:d.icon||c.display_icon_url||"",display_title_text:d.title||c.display_title_text||"",display_number_value:!isNaN(d.number)?d.number:"...",display_number_unit:d.numberUnit||c.display_number_unit||"",display_info_text:d.info||c.display_info_text||"",display_info_state:d.infoState||"Neutral",display_subtitle_text:d.subtitle||c.display_subtitle_text||"",display_state_arrow:d.stateArrow||"None",display_number_state:d.numberState||"Neutral",display_number_digits:d.numberDigits||0,display_number_factor:d.numberFactor||"",actions:d.actions||c.actions,display_search_keyword:d.keywords||c.display_search_keyword||"",targetParams:[]};if(d.infoStatus){D.display_info_state=d.infoStatus}if(d.targetParams){D.targetParams.push(d.targetParams)}if(d.results){for(i=0,n=d.results.length;i<n;i=i+1){C=d.results[i].number||0;if(typeof C==="string"){C=parseInt(C,10)}b=b+C;e=d.results[i].targetParams;if(e){D.targetParams.push(e)}}D.display_number_value=b}return D};sap.ushell.components.tiles.utils.getSemanticNavigationUrl=function(c){var u="#"+jQuery.trim(c.navigation_semantic_object);u+="-"+jQuery.trim(c.navigation_semantic_action);if(c.navigation_semantic_parameters&&jQuery.trim(c.navigation_semantic_parameters).length>0){u+="?"+jQuery.trim(c.navigation_semantic_parameters)}return u};sap.ushell.components.tiles.utils.addParamsToUrl=function(u,d){var p="",U=u.indexOf("?")!==-1,T=d.targetParams,i;if(T&&T.length>0){for(i=0;i<T.length;i=i+1){p+=T[i];if(i<T.length-1){p+="&"}}}if(p.length>0){if(!U){u+="?"}else{u+="&"}u+=p}return u};sap.ushell.components.tiles.utils.aData=[];sap.ushell.components.tiles.utils.objectSelectDoSearch=function(e){var f=[],v=e.getParameter("value"),i,b,c;if(v!==undefined){i=e.getParameter("itemsBinding");b=new sap.ui.model.Filter("name",sap.ui.model.FilterOperator.Contains,v);c=new sap.ui.model.Filter("obj",sap.ui.model.FilterOperator.Contains,v);f.push(c);f.push(b);i.filter(new sap.ui.model.Filter(f,false))}};sap.ushell.components.tiles.utils.objectSelectUpdateDialog=function(S,v){var f=[],i=S.getBinding("items"),b;if(v!==undefined){b=new sap.ui.model.Filter("name",sap.ui.model.FilterOperator.Contains,v);f.push(b);i.filter(f)}};sap.ushell.components.tiles.utils.sSelectedColor=(jQuery(".sapMStdTileIconDiv").css('color')||"#007cc0").split(" ").join("");sap.ushell.components.tiles.utils.sDeselectedColor=(jQuery(".sapMLabel:not(.sapFioriDropZoneText )").css('color')||"#666666").split(" ").join("");sap.ushell.components.tiles.utils.iconSelect=function(i,S){i.setColor(S?sap.ushell.components.tiles.utils.sSelectedColor:sap.ushell.components.tiles.utils.sDeselectedColor);i.setActiveColor(S?sap.ushell.components.tiles.utils.sDeselectedColor:sap.ushell.components.tiles.utils.sSelectedColor)};sap.ushell.components.tiles.utils.onSelectIcon=function(c,C){var m=c.getView().getModel(),S=m.getProperty("/config/selected_icon");if(S){sap.ushell.components.tiles.utils.iconSelect(S,false)}S=C.getSource();sap.ushell.components.tiles.utils.iconSelect(S,true);m.setProperty("/config/ok.enabled",true);m.setProperty("/config/selected_icon",S);c.byId("selectIconDialog").setTitle(S.getSrc())};sap.ushell.components.tiles.utils.onSelectIconClose=function(v){v.byId("selectIconDialog").close()};sap.ushell.components.tiles.utils.onSelectIconOk=function(v){var S=v.getModel().getProperty("/config/selected_icon");if(S){v.getModel().setProperty("/config/display_icon_url",S.getSrc())}sap.ushell.components.tiles.utils.onSelectIconClose(v)};sap.ushell.components.tiles.utils.iconSelectOnValueHelpRequest=function(c,e){var m=c.getView().getModel(),r=c.getView().byId("icons"),C=sap.ui.core.IconPool.getIconCollectionNames(),b=r.getContent(),d=c.getView().byId("selectIconDialog"),I=m.getProperty("/config/display_icon_url"),f,i,j,u,B=false;if(b.length===0){C.sort();C=jQuery.grep(C,function(v){if(v==="BusinessSuiteInAppSymbols"){B=true;return false}return true});if(B){C.push("BusinessSuiteInAppSymbols")}for(i=0;i<C.length;i+=1){f=sap.ui.core.IconPool.getIconNames(C[i]);f.sort();for(j=0;j<f.length;j+=1){u=sap.ui.core.IconPool.getIconURI(f[j],C[i]);r.addContent(new sap.ui.core.Icon({height:"38px",press:sap.ushell.components.tiles.utils.onSelectIcon.bind(null,c),size:"2rem",src:u,tooltip:u,width:"38px"}))}}b=r.getContent()}m.setProperty("/config/ok.enabled",false);d.bindProperty("title",{model:"i18n",path:"configuration.select_icon"});for(i=0;i<b.length;i+=1){if(b[i].getSrc()===I){m.setProperty("/config/selected_icon",b[i]);sap.ushell.components.tiles.utils.iconSelect(b[i],true);m.setProperty("/config/ok.enabled",true);d.setTitle(I)}else{sap.ushell.components.tiles.utils.iconSelect(b[i],false)}}d.open()};sap.ushell.components.tiles.utils.objectSelectOnValueHelpRequest=function(c,e){var v=c.getView(),T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle().getText("configuration.semantic_object"),S=v.byId("semantic_objectInput")||v.byId("navigation_semantic_objectInput"),V=S.getValue(),o=new sap.ui.model.json.JSONModel(),b=new sap.m.SelectDialog("semantic_object_select_dialog",{title:T,search:sap.ushell.components.tiles.utils.objectSelectDoSearch,liveChange:sap.ushell.components.tiles.utils.objectSelectDoSearch}),i=new sap.m.StandardListItem({title:"{obj}"});b.open(V);o.setData(c.aDefaultObjects.concat(sap.ushell.components.tiles.utils.aData));b.bindAggregation("items","/",i);b.setModel(o);sap.ushell.components.tiles.utils.objectSelectUpdateDialog(b,V);b.attachCancel(function(d){S.setValue(V);S.fireChange();b.destroy();b=null});b.attachConfirm(function(d){var f=d.getParameter("selectedItem");if(f){S.setValue(f.getTitle());S.fireChange()}b.destroy();b=null})};sap.ushell.components.tiles.utils.checkInput=function(c,C){var T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle(),i=c.byId("iconInput"),S=c.byId("navigation_semantic_objectInput")||c.byId("semantic_objectInput"),o=c.byId("navigation_semantic_actionInput")||c.byId("semantic_actionInput"),n=jQuery.trim(C.getParameter("newValue")),I,f,v=sap.ui.core.ValueState.None,V=null,j;switch(C.getSource()){case i:if(n.substring(0,11)!=="sap-icon://"){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.display_icon_url.warning")}break;case S:I=S.getModel().getProperty("/items");f=false;for(j=0;j<I.length;j=j+1){if(I[j].obj===n){f=true;break}}if(/[\-#&? ]/.test(n)){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.semantic_object.error_invalid_chars")}else if(!f){v=sap.ui.core.ValueState.Warning;V=T.getText("configuration.semantic_object.warning")}else if(n==""){v=sap.ui.core.ValueState.Error}if(o.getValue()==""){o.setValueState(sap.ui.core.ValueState.Error)}break;case o:if(/[\-#&? ]/.test(n)){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.semantic_action.error_invalid_chars")}else if(n==""){v=sap.ui.core.ValueState.Error}if(S.getValue()==""){S.setValueState(sap.ui.core.ValueState.Error)}break;default:break}if(v){C.getSource().setValueState(v);if(V!==null){C.getSource().setValueStateText(V||"")}}};sap.ushell.components.tiles.utils.checkInputOnSaveConfig=function(c){var i=c.byId("iconInput"),S=c.byId("navigation_semantic_objectInput"),o=c.byId("navigation_semantic_actionInput"),u=c.byId("useLpdCheckbox"),T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle(),I=S.getModel().getProperty("/items"),f=false,r=false,j;if(i.getValue().substring(0,11)!=="sap-icon://"){i.setValueState(sap.ui.core.ValueState.Error);i.setValueStateText(T.getText("configuration.display_icon_url.warning"));r=true}for(j=0;j<I.length;j=j+1){if(I[j].obj===S.getValue()){f=true;break}}if(/[\-#&? ]/.test(S.getValue())){S.setValueState(sap.ui.core.ValueState.Error);S.setValueStateText(T.getText("configuration.semantic_object.error_invalid_chars"));r=true}else if(!f){S.setValueState(sap.ui.core.ValueState.Error);S.setValueStateText(T.getText("configuration.semantic_object.warning"));r=true}else if(u.getSelected()&&S.getValue()==""){S.setValueState(sap.ui.core.ValueState.Error);r=true}if(/[\-#&? ]/.test(o.getValue())){o.setValueState(sap.ui.core.ValueState.Error);o.setValueStateText(T.getText("configuration.semantic_action.error_invalid_chars"));r=true}else if(u.getSelected()&&o.getValue()==""){o.setValueState(sap.ui.core.ValueState.Error);r=true}return r};sap.ushell.components.tiles.utils.checkTMInput=function(c,C){var T=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle(),S=c.byId("semantic_objectInput"),o=c.byId("semantic_actionInput"),b=c.byId("target_application_descriptionInput"),d=c.byId("target_application_urlInput"),e=c.byId("target_application_componentInput"),n=c.byId("navigation_provider_roleInput"),N=c.byId("navigation_provider_instanceInput"),f=c.byId("target_application_aliasInput"),h=c.byId("target_application_idInput"),i=c.byId("typeLpd_cust"),k=c.byId("typeSapui5"),l=c.byId("additionalInfo"),m=jQuery.trim(C.getParameter("newValue")),I,F,v=sap.ui.core.ValueState.None,V=null,j;switch(C.getSource()){case S:I=S.getModel().getProperty("/items");F=false;for(j=0;j<I.length;j=j+1){if(I[j].obj===m){F=true;break}}if(/[\-#&? ]/.test(m)){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.semantic_object.error_invalid_chars")}else if(!F){v=sap.ui.core.ValueState.Warning;V=T.getText("configuration.semantic_object.warning")}if(o.getValue()==""){o.setValueState(sap.ui.core.ValueState.Error)}break;case o:if(/[\-#&? ]/.test(m)){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.semantic_action.error_invalid_chars")}else if(m==""){v=sap.ui.core.ValueState.Error}break;case b:if(m==""){v=sap.ui.core.ValueState.Error}else if(!(/^[-/\w]+$/.test(m))){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.description.error_invalid_chars")}if(k.getSelected()&&d.getValue()==""){d.setValueState(sap.ui.core.ValueState.Error)}if(k.getSelected()&&e.getValue()==""){e.setValueState(sap.ui.core.ValueState.Error)}break;case d:if(m==""){v=sap.ui.core.ValueState.Error}if(k.getSelected()&&b.getValue()==""){b.setValueState(sap.ui.core.ValueState.Error)}if(k.getSelected()&&e.getValue()==""){e.setValueState(sap.ui.core.ValueState.Error)}break;case e:if(m==""){v=sap.ui.core.ValueState.Error}else if(m.substring(0,17)=="SAPUI5.Component="){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.component.error_invalid_input")}else if(!(/^[-/\w]+$/.test(m))){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.component.error_invalid_chars")}if(k.getSelected()&&d.getValue()==""){d.setValueState(sap.ui.core.ValueState.Error)}if(k.getSelected()&&b.getValue()==""){b.setValueState(sap.ui.core.ValueState.Error)}break;case n:if(m==""){v=sap.ui.core.ValueState.Error}if(i.getSelected()&&N.getValue()==""){N.setValueState(sap.ui.core.ValueState.Error)}if(i.getSelected()&&f.getValue()==""&&h.getValue()==""){var p=T.getText("configuration.target_application.alias_id.warning");f.setValueState(sap.ui.core.ValueState.Error);f.setValueStateText(p);h.setValueState(sap.ui.core.ValueState.Error);h.setValueStateText(p)}break;case N:if(m==""){v=sap.ui.core.ValueState.Error}if(i.getSelected()&&n.getValue()==""){n.setValueState(sap.ui.core.ValueState.Error)}if(i.getSelected()&&f.getValue()==""&&h.getValue()==""){var p=T.getText("configuration.target_application.alias_id.warning");f.setValueState(sap.ui.core.ValueState.Error);f.setValueStateText(p);h.setValueState(sap.ui.core.ValueState.Error);h.setValueStateText(p)}break;case f:if(m==""&&h.getValue()==""){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.alias_id.warning")}else if(m!=""&&!(/^[-/\w]+$/.test(m))){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.alias.error_invalid_chars")}else{h.setValueState(sap.ui.core.ValueState.None)}if(i.getSelected()&&N.getValue()==""){N.setValueState(sap.ui.core.ValueState.Error)}if(i.getSelected()&&n.getValue()==""){n.setValueState(sap.ui.core.ValueState.Error)}break;case h:if(m==""&&f.getValue()==""){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.alias_id.warning")}else{f.setValueState(sap.ui.core.ValueState.None)}if(i.getSelected()&&N.getValue()==""){N.setValueState(sap.ui.core.ValueState.Error)}if(i.getSelected()&&n.getValue()==""){n.setValueState(sap.ui.core.ValueState.Error)}break;case l:if(m!=""&&!(/^[-/\w]+$/.test(m))){v=sap.ui.core.ValueState.Error;V=T.getText("configuration.target_application.description.error_invalid_chars")}break;default:break}if(v){C.getSource().setValueState(v);if(V!==null){C.getSource().setValueStateText(V||"")}}};sap.ushell.components.tiles.utils.updateTooltipForDisabledProperties=function(c){var m=c.getModel();var i=m.getProperty("/config/isLocaleSuitable");if(!i){var r=sap.ushell.components.tiles.utils.getResourceBundleModel().getResourceBundle();var b=r.getText("edit_configuration.original_locale_not_fit_tooltip",[m.getProperty("/config/userLocale"),m.getProperty("/config/orgLocale")]);c.byId("titleInput").setTooltip(b);c.byId("subtitleInput").setTooltip(b);c.byId("keywordsInput").setTooltip(b);c.byId("infoInput").setTooltip(b)}};sap.ushell.components.tiles.utils.createSemanticObjectModel=function(c,S,d){var v=c.getView(),u="/sap/opu/odata/UI2/INTEROP/SemanticObjects",D=[{obj:"",name:""},{obj:"*",name:"*"}],b=(d||D).slice(0),o=new sap.ui.model.json.JSONModel();o.setSizeLimit(999999);o.setProperty("/value","");o.setProperty("/enabled",true);S.bindAggregation("suggestionItems","/items",new sap.ui.core.Item({text:"{obj}"}));S.setModel(o);if(sap.ushell.components.tiles.utils.aData.length>0){o.setData({items:b.concat(sap.ushell.components.tiles.utils.aData)},true);return}OData.read({requestUri:u,headers:{"Accept":"application/json"}},function(e,r){var I,T,i;for(i=0;i<e.results.length;i=i+1){I=e.results[i].id;T=e.results[i].text;sap.ushell.components.tiles.utils.aData.push({obj:I,name:T||I})}o.setData({items:b.concat(sap.ushell.components.tiles.utils.aData)},true)},function(e){var m=e&&e.message?e.message:e;if(e.response){m+=" - "+e.response.statusCode+" "+e.response.statusText}jQuery.sap.log.error("Could not fetch data: "+u+": "+m,null,(v.getViewName()||"sap.ushell.components.tiles.utils"))})};sap.ushell.components.tiles.utils.displayApplicationTypeFields=function(c){if(c.byId("typeLpd_cust").getSelected()){sap.ushell.components.tiles.utils.displayLpdCustApplicationTypeFields(c)}else{sap.ushell.components.tiles.utils.displaySapui5ApplicationTypeFields(c)}};sap.ushell.components.tiles.utils.displaySapui5ApplicationTypeFields=function(c){c.getModel().setProperty('/config/navigation_provider','SAPUI5');c.byId('navigation_provider_role').setVisible(false);c.byId('navigation_provider_roleInput').setVisible(false);c.byId('navigation_provider_instance').setVisible(false);c.byId('navigation_provider_instanceInput').setVisible(false);c.byId('target_application_alias').setVisible(false);c.byId('target_application_aliasInput').setVisible(false);c.byId('target_application_id').setVisible(false);c.byId('target_application_idInput').setVisible(false);c.byId('application_description').setVisible(true);c.byId('target_application_descriptionInput').setVisible(true);c.byId('application_url').setVisible(true);c.byId('target_application_urlInput').setVisible(true);c.byId('application_component').setVisible(true);c.byId('target_application_componentInput').setVisible(true)};sap.ushell.components.tiles.utils.displayLpdCustApplicationTypeFields=function(c){c.getModel().setProperty('/config/navigation_provider','LPD');c.byId('application_description').setVisible(false);c.byId('target_application_descriptionInput').setVisible(false);c.byId('application_url').setVisible(false);c.byId('target_application_urlInput').setVisible(false);c.byId('application_component').setVisible(false);c.byId('target_application_componentInput').setVisible(false);c.byId('navigation_provider_role').setVisible(true);c.byId('navigation_provider_roleInput').setVisible(true);c.byId('navigation_provider_instance').setVisible(true);c.byId('navigation_provider_instanceInput').setVisible(true);c.byId('target_application_alias').setVisible(true);c.byId('target_application_aliasInput').setVisible(true);c.byId('target_application_id').setVisible(true);c.byId('target_application_idInput').setVisible(true)}}());
