/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
jQuery.sap.declare("sap.apf.ui.instance");jQuery.sap.require('sap.apf.ui.utils.print');jQuery.sap.require('sap.apf.ui.utils.constants');jQuery.sap.require('sap.apf.ui.utils.facetFilterHandler');jQuery.sap.require('sap.apf.ui.representations.lineChart');jQuery.sap.require('sap.apf.ui.representations.columnChart');jQuery.sap.require('sap.apf.ui.representations.scatterPlotChart');jQuery.sap.require('sap.apf.ui.representations.stackedColumnChart');jQuery.sap.require('sap.apf.ui.representations.table');jQuery.sap.require('sap.apf.ui.representations.pieChart');jQuery.sap.require('sap.apf.ui.representations.percentageStackedColumnChart');jQuery.sap.require('sap.apf.ui.representations.bubbleChart');
sap.apf.ui.Instance=function(i){i.uiApi=this;var c=i.oCoreApi;var C=i.oComponent;var s=i.oSBHandler;var a;var b;var m;var S;var d=c.getUriGenerator().getApfLocation();this.oEventCallbacks={};jQuery.sap.includeStyleSheet(d+"resources/css/apfUi.css","apfCss");jQuery.sap.includeStyleSheet(d+"resources/css/apfPrint.css","printCss");jQuery("#printCss").attr("media","print");this.getAnalysisPath=function(){if(b===undefined){b=sap.ui.view({viewName:"sap.apf.ui.reuse.view.analysisPath",type:sap.ui.core.mvc.ViewType.JS,viewData:i})}return b};this.getNotificationBar=function(){if(m===undefined){m=sap.ui.view({viewName:"sap.apf.ui.reuse.view.messageHandler",type:sap.ui.core.mvc.ViewType.JS,viewData:i})}return m};this.getStepContainer=function(){if(a===undefined){a=sap.ui.view({viewName:"sap.apf.ui.reuse.view.stepContainer",type:sap.ui.core.mvc.ViewType.JS,viewData:i})}return a};this.selectionChanged=function(r){if(r){this.getAnalysisPath().getController().refresh(0)}else{var n=c.getSteps().indexOf(c.getActiveStep());this.getAnalysisPath().getController().refresh(n+1)}c.updatePath(this.getAnalysisPath().getController().callBackForUpdatePath.bind(this.getAnalysisPath().getController()))};var e;var o;var f=new sap.m.App().addStyleClass("sapApf");this.createApplicationLayout=function(){f.addPage(this.getLayoutView());return f};this.getLayoutView=function(){if(e===undefined){e=sap.ui.view({viewName:"sap.apf.ui.reuse.view.layout",type:sap.ui.core.mvc.ViewType.XML,viewData:i})}return e};this.addDetailFooterContent=function(g){this.getLayoutView().getController().addDetailFooterContentLeft(g)};this.addMasterFooterContentRight=function(g){this.getLayoutView().getController().addMasterFooterContentRight(g)};this.setEventCallback=function(E,g){this.oEventCallbacks[E]=g};this.getEventCallback=function(E){return this.oEventCallbacks[E]};var F;this.initializeContextHandling=function(){if(s.getEvaluationId()){var g={oCoreApi:c,oPathContextHandler:i.oPathContextHandler,oSBHandler:s,oUiApi:this};F=new sap.apf.ui.utils.FacetFilterHandler(g);F.initialize()}};this.drawFacetFilter=function(){if(F){F.drawFacetFilter()}};this.contextChanged=function(r){if(F){F.contextChanged()}var g=this.getEventCallback(sap.apf.core.constants.eventTypes.contextChanged);if(typeof g==="function"){var h;if(!r){h=c.getContext().serialize()}g(h)}}};
