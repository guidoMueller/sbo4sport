/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.jsfragment("sap.apf.ui.reuse.fragment.pathGallery",{createContent:function(c){this.oController=c;this.contentWidth=jQuery(window).height()*0.6+"px";this.contentHeight=jQuery(window).height()*0.6+"px";var s=this;this.oCoreApi=c.oCoreApi;this.oUiApi=c.oUiApi;this.pathGalleryHierarchicalDialog=new sap.ca.ui.HierarchicalSelectDialog({title:s.oCoreApi.getTextNotHtmlEncoded("select-analysis-path"),contentWidth:s.contentWidth,contentHeight:s.contentHeight,select:function(e){s.oUiApi.getLayoutView().setBusy(true);var a=e.getParameters().selectedItem.oBindingContexts.json.sPath.split('/');var p=this.getModel("json").getData().GalleryElements[a[2]].AnalysisPathName;var b=this.getModel("json").getData().GalleryElements[a[2]].AnalysisPath;var d=a[5];c.openPath(p,b,d);s.oUiApi.getLayoutView().setBusy(false)},cancel:function(){var S=this;s.oUiApi.getLayoutView().setBusy(false);S.close();S.destroy()}});this.pathName=new sap.ca.ui.HierarchicalSelectDialogItem({title:s.oCoreApi.getTextNotHtmlEncoded("select-analysis-path"),entityName:"json>/GalleryElements",visible:true});this.pathTemplate=new sap.m.StandardListItem({title:'{json>AnalysisPathName}',description:'{json>description}',tooltip:'{json>AnalysisPathName}'});this.stepTitle=new sap.ca.ui.HierarchicalSelectDialogItem({entityName:"json>StructuredAnalysisPath/steps"});this.stepTemplate=new sap.m.StandardListItem({title:'{json>title}',icon:'{json>imgSrc}',tooltip:'{json>title}'});this.pathName.setListItemTemplate(this.pathTemplate);this.stepTitle.setListItemTemplate(this.stepTemplate);this.pathGalleryHierarchicalDialog.addItem(this.pathName);this.pathGalleryHierarchicalDialog.addItem(this.stepTitle);return this.pathGalleryHierarchicalDialog}});
