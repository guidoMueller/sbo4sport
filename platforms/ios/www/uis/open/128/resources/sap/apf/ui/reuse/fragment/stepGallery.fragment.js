/*!
 * SAP APF Analysis Path Framework
 * 
 * (c) Copyright 2012-2014 SAP AG. All rights reserved
 */
sap.ui.jsfragment("sap.apf.ui.reuse.fragment.stepGallery",{createContent:function(c){this.oController=c;this.contentWidth=jQuery(window).height()*0.6+"px";this.contentHeight=jQuery(window).height()*0.6+"px";var s=this;this.oCoreApi=c.oCoreApi;this.oUiApi=c.oUiApi;this.hierarchicalDialog=new sap.ca.ui.HierarchicalSelectDialog({title:s.oCoreApi.getTextNotHtmlEncoded("stepGallery"),contentWidth:s.contentWidth,contentHeight:s.contentHeight,select:function(e){s.oUiApi.getLayoutView().setBusy(true);var a=e.getParameters().selectedItem.oBindingContexts.json.sPath.split('/');var b=a[2];var d=a[4];var r=a[6];var f=c.getStepDetails(b,d);c.onStepPress(f.id,f.representationtypes[r].representationId)},cancel:function(){var S=this;S.close();S.destroy()}});this.categoryTitle=new sap.ca.ui.HierarchicalSelectDialogItem({title:s.oCoreApi.getTextNotHtmlEncoded("category"),entityName:"json>/GalleryElements",visible:true});this.categoryTemplate=new sap.m.StandardListItem({title:'{json>categoryDetails/title}',tooltip:'{json>categoryDetails/title}'});this.stepTitle=new sap.ca.ui.HierarchicalSelectDialogItem({entityName:"json>stepTemplates"});this.stepTemplate=new sap.m.StandardListItem({title:'{json>maintitle}',tooltip:'{json>maintitle}'});this.representationTitle=new sap.ca.ui.HierarchicalSelectDialogItem({entityName:"json>representationtypes"});this.representationTemplate=new sap.m.StandardListItem({icon:'{json>picture}'});this.representationTemplate.bindProperty("title","json>label",function(v){if(v===null){return null}return s.oCoreApi.getTextNotHtmlEncoded(v)});this.representationTemplate.bindProperty("tooltip","json>label",function(v){if(v===null){return null}return s.oCoreApi.getTextNotHtmlEncoded(v)});this.categoryTitle.setListItemTemplate(this.categoryTemplate);this.stepTitle.setListItemTemplate(this.stepTemplate);this.representationTitle.setListItemTemplate(this.representationTemplate);this.hierarchicalDialog.addItem(this.categoryTitle);this.hierarchicalDialog.addItem(this.stepTitle);this.hierarchicalDialog.addItem(this.representationTitle);return this.hierarchicalDialog}});
