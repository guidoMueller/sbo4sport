(function(g){"use strict";jQuery.sap.require("sap.m.SearchField");sap.ushell.renderers.fiori2.search.SearchBox=sap.m.SearchField.extend("sap.ushell.renderers.fiori2.search.SearchBox",{metadata:{properties:{dataSourceName:"string"},events:{deletePill:{},resetAll:{}}},renderer:"sap.m.SearchFieldRenderer",onAfterRendering:function(){var s=this;var e=$(this.getDomRef());sap.m.SearchField.prototype.onAfterRendering.apply(this,arguments);e.find("#sfOverlay-reset").click(function(){s.fireResetAll()});e.find("#sfOverlay-reset").on({"touchstart":function(){s.fireResetAll()}});e.find("#containerSf-reset").click(function(){s.fireResetAll()});e.find("#containerSf-reset").on({"touchstart":function(){s.fireResetAll()}});var f=e.find("form");f.addClass("sapUiUfdShellSearchBoxForm");var i=e.find("input");i.addClass("sapUiUfdShellSearchBox");var d=this.getDataSourceName();if(!d||d===""){return}var p=$('<span class="sapUshellDataSourcePill sapUshellSearchBoxPill"></span>');f.prepend(p);p.append('<span class="sapUiUfdShellSearchBoxPillDsName">'+d+'</span>');var a=$('<span class="sapUiUfdShellSearchBoxPillDel"></span>');var r=sap.ui.getCore().getConfiguration().getRTL();if(r){p.prepend(a)}else{p.append(a)}a.click(function(){s.fireDeletePill()});a.on({"touchstart":function(){s.fireDeletePill()}})}})}(window));
