jQuery.sap.declare("sap.zen.crosstab.rendering.PixelScrollManager");
sap.zen.crosstab.rendering.PixelScrollManager=function(c,r){"use strict";var s={};var C=0;var i=0;var o=r.getCrossRequestManager();var t=this;var u=null;this.destroy=function(){};this.onNewScrollbars=function(){s={}};r.registerNewScrollbarsNotification(this.onNewScrollbars);function g(S){var D=s[S];if(!D){D=$('#'+c.getId()+S);if(D&&D.length>0){s[S]=D}}return D}function m(p){g("_lowerLeft_scrollDiv").scrollTop(p);g("_lowerRight_scrollDiv").scrollTop(p)}function a(p){g("_lowerRight_scrollDiv").scrollLeft(p);g("_upperRight_scrollDiv").scrollLeft(p)}this.hScrollHandler=function(e){var p=e.getParameters().newScrollPos;a(p);i=p;t.sendClientScrollPosUpdate()};this.vScrollHandler=function(e){var p=e.getParameters().newScrollPos;m(p);C=p;t.sendClientScrollPosUpdate()};this.sendClientScrollPosUpdate=function(){if(u){clearTimeout(u);u=null}u=setTimeout(t.doSendPosUpdate,200,null)};this.doSendPosUpdate=function(){c.getUtils().sendClientScrollPosUpdate(i,undefined,C,undefined)};function b(p){var h=c.getHScrollbar();if(h){h.setScrollPosition(p)}var D=$('#'+c.getId()+"_lowerRight_scrollDiv");if(D&&D.length){D.scrollLeft(p)}var e=$('#'+c.getId()+"_upperRight_scrollDiv");if(e&&e.length){e.scrollLeft(p)}}function d(p){var v=c.getVScrollbar();if(v){v.setScrollPosition(p)}var D=$('#'+c.getId()+"_lowerRight_scrollDiv");if(D&&D.length){D.scrollTop(p)}var e=$('#'+c.getId()+"_lowerLeft_scrollDiv");if(e&&e.length){e.scrollTop(p)}}this.moveScrollbars=function(S,R,p,e){b(i);d(C)};this.positionHScrollDiv=function(l){var p=i;var n=o.getHPixelScrollPosAfterRendering();if(n>-1){p=n;b(p)}a(p)};this.positionVScrollDiv=function(l){var p=C;var n=o.getVPixelScrollPosAfterRendering();if(n>-1){p=n;d(p)}m(p)};this.setHScrollPos=function(h){i=h};this.setVScrollPos=function(v){C=v};this.adjustPixelScrollbarAfterRendering=function(){var n=o.getNewPixelScrollPosAfterRendering();if(n){var v=n.iVPos;if(v>=0){oVScrollbar=c.getVScrollbar();if(oVScrollbar){oVScrollbar.setScrollPosition(v);m(v)}}var h=n.iHPos;if(h>=0){oHScrollbar=c.getHScrollbar();if(oHScrollbar){oHScrollbar.setScrollPosition(h);a(h)}}}}};
